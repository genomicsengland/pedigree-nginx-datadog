(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{127:function(e,t,a){e.exports={suggestion:"autoSuggest_suggestion__2N7wL",suggestionHighlighted:"autoSuggest_suggestionHighlighted__1UNbg"}},186:function(e,t,a){e.exports={"error-message":"styles_error-message__1w-yx","error-message__text":"styles_error-message__text__1hBbr"}},187:function(e,t,a){e.exports={hint:"styles_hint__OtcNh",hint__text:"styles_hint__text__1B45D"}},188:function(e,t,a){e.exports={text:"styles_text__19FrC","text--1":"styles_text--1__21rcZ","text--2":"styles_text--2__3QzhI","text--3":"styles_text--3__61KEX","text--4":"styles_text--4__35R47","text--5":"styles_text--5__1iQ73","text--6":"styles_text--6__30vqn","text--7":"styles_text--7__20Z4X","text--8":"styles_text--8__s6TT6",center:"styles_center__2PcJ0",rtc:"styles_rtc__1Du_9"}},189:function(e,t,a){e.exports={"field-group":"styles_field-group__CC2o5"}},190:function(e,t,a){e.exports={"field-label":"styles_field-label__KDV7O","field-label--error":"styles_field-label--error__1qlI6","field-label__required-icon":"styles_field-label__required-icon__3p1cO","field-label--visually-hidden":"styles_field-label--visually-hidden__1RoWk"}},191:function(e,t,a){e.exports={"text-input":"styles_text-input__1HUch","text-input--number":"styles_text-input--number__sLENM","text-input--error":"styles_text-input--error__AAjmm","text-input--placeholder":"styles_text-input--placeholder__1VeV2"}},192:function(e,t,a){e.exports={"date-multi":"styles_date-multi__23TpO","date-multi__day":"styles_date-multi__day__3vlGB","date-multi__month":"styles_date-multi__month__3wdXt","date-multi__year":"styles_date-multi__year__16dzo"}},197:function(e,t,a){e.exports={textarea:"styles_textarea__f2A7h","textarea--error":"styles_textarea--error__1fIX7"}},198:function(e,t,a){},199:function(e,t,a){e.exports={"option-button":"styles_option-button__3XuTm","option-button--wide":"styles_option-button--wide__3pKb1","option-button-label":"styles_option-button-label__2Ok2J","option-button--selected":"styles_option-button--selected__gqkyg","option-button__radio":"styles_option-button__radio__2vk7c"}},201:function(e,t,a){e.exports={"highlight-word":"styles_highlight-word__3UClf"}},204:function(e,t,a){e.exports={"referral-navigation":"styles_referral-navigation__2-JdP","referral-navigation__button":"styles_referral-navigation__button__h_q0y","referral-navigation__button--back":"styles_referral-navigation__button--back__1OZ84","referral-navigation__loading":"styles_referral-navigation__loading__343j0","referral-navigation__error":"styles_referral-navigation__error__tpkXM","referral-navigation__continue-icon":"styles_referral-navigation__continue-icon__3VIPP","referral-navigation__continue":"styles_referral-navigation__continue__NOFsc","referral-navigation__spinner-icon":"styles_referral-navigation__spinner-icon__33E3N"}},205:function(e,t,a){e.exports={button:"styles_button__1QaQj","button--medium":"styles_button--medium__2nHke","button--large":"styles_button--large__2T0uy","button--outline":"styles_button--outline__3GosK","button--inverted":"styles_button--inverted__14EkV","button--search":"styles_button--search__gePiC","link-button":"styles_link-button__PeBBi"}},206:function(e,t,a){e.exports={"always-hide-this-field":"styles_always-hide-this-field__3_tUV"}},207:function(e,t,a){e.exports={notification:"styles_notification__3sji0","notification--default-space":"styles_notification--default-space__3t9L2","notification--below-title":"styles_notification--below-title__1_7em","notification--warning":"styles_notification--warning__3A729","notification--error":"styles_notification--error__2zfOu","notification--success":"styles_notification--success__2n6o_","notification--info":"styles_notification--info__2J6T4",notification__icon:"styles_notification__icon__1m4OG",notification__text:"styles_notification__text__3DodN"}},208:function(e,t,a){e.exports={"inline-link":"styles_inline-link__tKAFW"}},209:function(e,t,a){e.exports={"patient-details-form__notification":"styles_patient-details-form__notification__x5GwO","patient-details-form__success-notification":"styles_patient-details-form__success-notification__3_uv8","patient-details-form__submit-button":"styles_patient-details-form__submit-button__tpvF8","patient-details-form__back":"styles_patient-details-form__back__xPhaP","patient-details-form__external-link":"styles_patient-details-form__external-link__2Nmdo"}},210:function(e,t,a){e.exports={"referral-list":"styles_referral-list__2ge5A","referral-list__heading":"styles_referral-list__heading__1911b","referral-list__info":"styles_referral-list__info__3MZf5","referral-list__link":"styles_referral-list__link__ASjys"}},211:function(e,t,a){e.exports={"referral-card":"styles_referral-card__2a0li","referral-card__header":"styles_referral-card__header__2URmw","referral-card__title-row":"styles_referral-card__title-row__34LI9","referral-card__title":"styles_referral-card__title__2AjoN","referral-card__clinician-info":"styles_referral-card__clinician-info__1xmNw","referral-card__dot-separator":"styles_referral-card__dot-separator__1j_le","referral-card__content":"styles_referral-card__content__1mj2G","referral-card__info-item":"styles_referral-card__info-item__3Gtp0","referral-card__label":"styles_referral-card__label__3AeJT","referral-card__status":"styles_referral-card__status__3YmZr","referral-card__status--is-submitted":"styles_referral-card__status--is-submitted__xHfbJ","referral-card__submitted--date":"styles_referral-card__submitted--date__1tZnx"}},212:function(e,t,a){e.exports={chunk__separator:"styles_chunk__separator__2m4Fe"}},213:function(e,t,a){e.exports={"page-title":"styles_page-title__2FjeR"}},214:function(e,t,a){e.exports={"patient-details__sub-title-copy":"styles_patient-details__sub-title-copy__1mONZ"}},215:function(e,t,a){e.exports={header:"styles_header__2tg-j",results:"styles_results__jzf9t",results__header:"styles_results__header__1xm9r"}},216:function(e,t,a){e.exports={"patient-card":"styles_patient-card__3XSkL","patient-card__top":"styles_patient-card__top__3t3Zc","patient-card__content":"styles_patient-card__content__3ubUN","patient-card__bottom":"styles_patient-card__bottom__RG5l6","patient-name":"styles_patient-name__3K70n","card-line":"styles_card-line__2rTn0","card-multi-line":"styles_card-multi-line__3e6cI"}},217:function(e,t,a){e.exports={badge:"styles_badge__1nVh7"}},218:function(e,t,a){e.exports={"no-results":"styles_no-results__HNztD","no-results__header":"styles_no-results__header__2yBhm","no-results__list-header":"styles_no-results__list-header__1_7wJ","no-results__help":"styles_no-results__help__3Sl52","no-results__help-link":"styles_no-results__help-link__voJI8","no-results__duplicate":"styles_no-results__duplicate__Py3xy","no-results__img":"styles_no-results__img__3_yhn"}},219:function(e,t,a){e.exports={"search-terms":"styles_search-terms__2Ki-X","search-terms__text":"styles_search-terms__text__179Lh"}},220:function(e,t,a){e.exports={"patient-search__intro":"styles_patient-search__intro__1Tzlx"}},221:function(e,t,a){e.exports={"new-patient-form__submit-button":"styles_new-patient-form__submit-button__Fay5h","new-patient-form__success-notification":"styles_new-patient-form__success-notification__30MUK","new-patient-form__back":"styles_new-patient-form__back__7oqyY","new-patient-form__notification":"styles_new-patient-form__notification__3miF0","new-patient-form__external-link":"styles_new-patient-form__external-link__3rj7i"}},222:function(e,t,a){e.exports={"new-patient__intro":"styles_new-patient__intro__4R9iG","new-patient__bold":"styles_new-patient__bold__BtGvH"}},223:function(e,t,a){e.exports={"test-list":"styles_test-list__zdwD4"}},224:function(e,t,a){e.exports={"test-card":"styles_test-card__3UANR","test-card__bullet":"styles_test-card__bullet__1MIzO","test-card__title":"styles_test-card__title__1VgbA","test-card__name":"styles_test-card__name__WxPGL","test-card__test-category":"styles_test-card__test-category__vR_D2","test-card__test-category-background":"styles_test-card__test-category-background__TDgCk"}},225:function(e,t,a){e.exports={"checkbox-card":"styles_checkbox-card__3TZ-2","checkbox-card__checkmark":"styles_checkbox-card__checkmark__O-J0H","checkbox-card--checked":"styles_checkbox-card--checked__1lG60","checkbox-card__checkmark--checked":"styles_checkbox-card__checkmark--checked__19jwN","checkbox-card__body":"styles_checkbox-card__body__fxnQI"}},226:function(e,t,a){e.exports={"relationship-tag":"styles_relationship-tag__3CWev"}},227:function(e,t,a){e.exports={"test-package__error":"styles_test-package__error__33Z-D","test-package__priority":"styles_test-package__priority__1IywW","test-package__select-tests-heading":"styles_test-package__select-tests-heading__1DK54","test-package__test-list":"styles_test-package__test-list__2PxU1","test-package__loading":"styles_test-package__loading__1DK9p"}},228:function(e,t,a){e.exports={"clinician-details-form__heading":"styles_clinician-details-form__heading__1bx9F","clinician-details-form__info":"styles_clinician-details-form__info__1kxRO","clinician-details-form__contact__heading":"styles_clinician-details-form__contact__heading__1vX_U","clinician-details-form__additional__heading":"styles_clinician-details-form__additional__heading__G3IzE","clinician-details-form__remove":"styles_clinician-details-form__remove__2dxN-","clinician-details-form__buttons":"styles_clinician-details-form__buttons__Ejh_q"}},229:function(e,t,a){e.exports={"clinician-details__intro":"styles_clinician-details__intro__hGLQg"}},230:function(e,t,a){e.exports={"form-group":"styles_form-group__29swQ","form-group__heading":"styles_form-group__heading__3qY4c","form-group__sub-heading":"styles_form-group__sub-heading__1to6j","form-group__help-text":"styles_form-group__help-text__3Vn8S"}},231:function(e,t,a){e.exports={radio:"styles_radio__RV55Q",radio__input:"styles_radio__input__WDSui",radio__mark:"styles_radio__mark__1svoT",radio__text:"styles_radio__text__2SJrR"}},232:function(e,t,a){e.exports={"switchable-enum":"styles_switchable-enum__2BlyD","switchable-enum__radio":"styles_switchable-enum__radio__1euuL"}},233:function(e,t,a){e.exports={age:"styles_age__7yyQh",age__input:"styles_age__input__3ccNi",age__label:"styles_age__label__2YlVq"}},234:function(e,t,a){e.exports={hpo:"styles_hpo__1M_oc",hpo__search:"styles_hpo__search__3GAb4","hpo__notification-error":"styles_hpo__notification-error__21j_X",hpo__observations:"styles_hpo__observations__3nZXZ","hpo-select":"styles_hpo-select__2Xc_s"}},235:function(e,t,a){e.exports={"hpo-term__name":"styles_hpo-term__name__1j7Nz","hpo-term__modifiers":"styles_hpo-term__modifiers__3dMZo","hpo-term__delete":"styles_hpo-term__delete__Cd0A_"}},236:function(e,t,a){e.exports={table:"styles_table__Uw5Lu",error:"styles_error__xHeCu","table--shade":"styles_table--shade__qBXlU","narrow-cell":"styles_narrow-cell__2U9p0","table--hpo":"styles_table--hpo__3q6xo","table--specimen-select":"styles_table--specimen-select__gV_Vw","table--specimen":"styles_table--specimen__2v-18","table--row-select":"styles_table--row-select__2RdRI"}},238:function(e,t,a){e.exports={"repeating-unit":"styles_repeating-unit__1K8tx","repeating-unit__errors":"styles_repeating-unit__errors__3rWpW"}},239:function(e,t,a){e.exports={address:"styles_address__3LL4k",address__line:"styles_address__line__2HzLc"}},240:function(e,t,a){e.exports={"show-hide__icon":"styles_show-hide__icon__fT72N"}},241:function(e,t,a){e.exports={list:"styles_list__1RPiu","list--ordered":"styles_list--ordered__Bwyk5","list--unordered":"styles_list--unordered__2Rwc7","list--italic":"styles_list--italic__1nVcy"}},242:function(e,t,a){e.exports={"show-hide-list":"styles_show-hide-list__jtyHJ","show-hide-list__button":"styles_show-hide-list__button__J2h5r"}},243:function(e,t,a){e.exports={downloads__warning:"styles_downloads__warning__3hyPI",downloads__lab:"styles_downloads__lab__2L0PH","downloads__lab-details":"styles_downloads__lab-details__WVxJD","downloads__lab-icon":"styles_downloads__lab-icon__2MAX-","downloads__lab-name":"styles_downloads__lab-name__EeN58",downloads__icon:"styles_downloads__icon__36fOZ","downloads__lab-address":"styles_downloads__lab-address__1omda",downloads__info:"styles_downloads__info__2STNl","downloads__info-list":"styles_downloads__info-list__vgGAx",downloads__participants:"styles_downloads__participants__3EZG3",downloads__notice:"styles_downloads__notice__QEo5m","downloads__notice-copy":"styles_downloads__notice-copy__3DsyB","downloads__notice-content":"styles_downloads__notice-content__2oVUN","downloads__notice-actions":"styles_downloads__notice-actions__2Azv7"}},244:function(e,t,a){e.exports={notice:"styles_notice__2WTkm","notice--info":"styles_notice--info__33AqE",notice__title:"styles_notice__title__16WTs",notice__image:"styles_notice__image__1TTyt"}},245:function(e,t,a){e.exports={container:"styles_container__2i4FG","location-result":"styles_location-result__22k4q","location-result__header":"styles_location-result__header__hBoXl","location-result__details":"styles_location-result__details__3k97F","location-result__detail":"styles_location-result__detail__3arpl","location-result__detail-text":"styles_location-result__detail-text__3EdsI","location-result__detail-heading":"styles_location-result__detail-heading__en_sK","location-result__divider":"styles_location-result__divider__3Atuz"}},246:function(e,t,a){e.exports={"search-input":"styles_search-input__1g6_3","search-input__input":"styles_search-input__input__qC8dv","search-input__input--full-border":"styles_search-input__input--full-border__2f5sT","search-input__icon":"styles_search-input__icon__29w0Q","search-input__icon--spinner":"styles_search-input__icon--spinner__203gd",spin:"styles_spin__1upS3"}},248:function(e,t,a){e.exports={suggestions:"suggestions_suggestions__3Izam",instructions:"suggestions_instructions__zyd7-"}},249:function(e,t,a){e.exports={"no-results":"styles_no-results__3w-ka"}},250:function(e,t,a){e.exports={"referral-success-notification":"styles_referral-success-notification__1HkAo"}},251:function(e,t,a){e.exports={"ordering-entity__previous-header":"styles_ordering-entity__previous-header__1EfjR","ordering-entity__sub-title-copy":"styles_ordering-entity__sub-title-copy__3Q-JQ"}},252:function(e,t,a){e.exports={"panel-assigner__intro":"styles_panel-assigner__intro__1omdg","panel-assigner__penetrance":"styles_panel-assigner__penetrance__2L93D","panel-assigner__subheader":"styles_panel-assigner__subheader__3anZI","panel-assigner__subheader--with-link":"styles_panel-assigner__subheader--with-link__1RwE0","panel-assigner__panelapp-link":"styles_panel-assigner__panelapp-link__-D47K","panel-assigner__search":"styles_panel-assigner__search__1WhI7"}},253:function(e,t,a){e.exports={"panel-list":"styles_panel-list__33CXx","panel-list__item":"styles_panel-list__item__3zR9X"}},254:function(e,t,a){e.exports={"select-panel":"styles_select-panel__2mvGt","select-panel__content":"styles_select-panel__content__bkhHZ","select-panel__name":"styles_select-panel__name__34vya","select-panel__link":"styles_select-panel__link__3NdMV","select-panel--checked":"styles_select-panel--checked__2OWPB"}},255:function(e,t,a){e.exports={"checkmark-text":"styles_checkmark-text__3zIol","checkmark-text__checkmark":"styles_checkmark-text__checkmark__2ccVv","checkmark-text__checkmark--checked":"styles_checkmark-text__checkmark--checked__1ZJzN"}},256:function(e,t,a){e.exports={"checkbox-row":"styles_checkbox-row__2O89Q","checkbox-row__arrow":"styles_checkbox-row__arrow__1eh_V","checkbox-row--checked":"styles_checkbox-row--checked__3icUz","checkbox-row--warning":"styles_checkbox-row--warning__9OGOi"}},257:function(e,t,a){e.exports={"tumour-list__notification":"styles_tumour-list__notification__29qQ8","tumour-list__sub-title":"styles_tumour-list__sub-title__3gGSf","tumour-list__warning":"styles_tumour-list__warning__3EBIe"}},258:function(e,t,a){e.exports={"tumour-view__subtitle":"styles_tumour-view__subtitle__1Q1D4"}},259:function(e,t,a){e.exports={"tumour-questions__intro":"styles_tumour-questions__intro__10ZET"}},260:function(e,t,a){e.exports={"table-row--shade":"styles_table-row--shade__3iFy4","table-row--warning":"styles_table-row--warning__3xYUk","participant-list__button-cell":"styles_participant-list__button-cell__2kxa1","participant-list__button":"styles_participant-list__button__1dyYj","participant-list__arrow-link":"styles_participant-list__arrow-link__3APxr","participant-list__warning":"styles_participant-list__warning__3WChX"}},261:function(e,t,a){e.exports={"family-member-card":"styles_family-member-card__QVeSg"}},262:function(e,t,a){e.exports={"family-member-test-package__text":"styles_family-member-test-package__text__pEmqF","family-member-test-package__patient":"styles_family-member-test-package__patient__3eGt8","family-member-test-package__title":"styles_family-member-test-package__title__3Xy0p"}},263:function(e,t,a){e.exports={"patient-choice__notification":"styles_patient-choice__notification__33YIo","patient-choice__instructions":"styles_patient-choice__instructions__3Dnv-","patient-choice__instructions-text":"styles_patient-choice__instructions-text__16Kmv","patient-choice__instructions-list":"styles_patient-choice__instructions-list__170dp","patient-choice__bold":"styles_patient-choice__bold__1f27D"}},264:function(e,t,a){e.exports={"pedigree-tool__intro":"styles_pedigree-tool__intro__3J1aR","pedigree-tool__list":"styles_pedigree-tool__list__1ipZd","pedigree-tool__warning":"styles_pedigree-tool__warning__2z5pc","pedigree-tool__wrapper":"styles_pedigree-tool__wrapper__39szF"}},265:function(e,t,a){e.exports={"sample-detail__heading":"styles_sample-detail__heading__18VJl","sample-detail__edit":"styles_sample-detail__edit__ZedJf","sample-detail__edit-link":"styles_sample-detail__edit-link__1JA2g","sample-detail__table":"styles_sample-detail__table__3mxUt","sample-detail__notification":"styles_sample-detail__notification__ZVg89"}},266:function(e,t,a){e.exports={"sample-questions":"styles_sample-questions__3RiYM"}},267:function(e,t,a){e.exports={blockquote:"styles_blockquote__30nvZ"}},268:function(e,t,a){e.exports={notes__helper:"styles_notes__helper__1DbGi",notes__input:"styles_notes__input__3ERu5",notes__example:"styles_notes__example__3uGm3","notes__example-heading":"styles_notes__example-heading__kGH5x",notes__count:"styles_notes__count__1TKn0","notes__count--warning":"styles_notes__count--warning__35BK5",notes__notification:"styles_notes__notification__1283C"}},269:function(e,t,a){e.exports={sidebar:"styles_sidebar__3KXMB"}},270:function(e,t,a){e.exports={"todo-list__header":"styles_todo-list__header__sOaDV"}},271:function(e,t,a){e.exports={todo:"styles_todo__3hmu5","todo--is-locked":"styles_todo--is-locked__3OsHg","todo--is-current":"styles_todo--is-current__2NTLJ","todo__status-icon":"styles_todo__status-icon__3IvS4","todo--is-complete":"styles_todo--is-complete__1Fawu","todo__locked-icon":"styles_todo__locked-icon__2tdQy","todo__required-icon":"styles_todo__required-icon__7KwAa"}},272:function(e,t,a){e.exports={"referral-header":"styles_referral-header__1_4TJ","referral-header__details":"styles_referral-header__details__1rs8w","referral-header__submit":"styles_referral-header__submit__3Z_3A","referral-header__badge":"styles_referral-header__badge__3zZE-"}},273:function(e,t,a){e.exports={"referral-header-details":"styles_referral-header-details__BJF2g","header-item":"styles_header-item__dy-uj","header-item__name":"styles_header-item__name__3AvBl","header-item__value":"styles_header-item__value__x-Q8T"}},274:function(e,t,a){e.exports={referral__header:"styles_referral__header__15W85",referral__body:"styles_referral__body__36fTf",referral__sidebar:"styles_referral__sidebar__sY4G3",referral__main:"styles_referral__main__339DG"}},275:function(e,t,a){e.exports={"site-panel":"styles_site-panel__R7urb","site-panel--padding":"styles_site-panel--padding__3Zcqe"}},276:function(e,t,a){e.exports={footer:"styles_footer__2V6xc",footer__content:"styles_footer__content__1e-fj","footer__logo-area":"styles_footer__logo-area__2SRsJ",footer__bullet:"styles_footer__bullet__1TLI3","footer__nhs-logo":"styles_footer__nhs-logo__2o22k","footer__genomics-logo":"styles_footer__genomics-logo__2God-","footer__content-area":"styles_footer__content-area__1FRAC"}},277:function(e,t,a){e.exports={template:"styles_template__20fOK",template__body:"styles_template__body__1J5DF"}},278:function(e,t,a){e.exports={header:"styles_header__2_vD8",header__content:"styles_header__content__24ar2","header__right-area":"styles_header__right-area__2fv7d","header__nhs-logo":"styles_header__nhs-logo__1I9BO","header__logout-button":"styles_header__logout-button__3PpPL",header__user:"styles_header__user__38jfZ"}},279:function(e,t,a){e.exports={page:"styles_page__2q3mB"}},280:function(e,t,a){e.exports={"static-content__header":"styles_static-content__header__1II02","static-content__sub-header":"styles_static-content__sub-header__2OL0i","static-content__content":"styles_static-content__content__26sq5"}},281:function(e){e.exports=[{id:"block1",header:"Why do we collect your data?",content:"<p>We monitor the way people use the site so that we can make sure it\u2019s fit for purpose and so that we can prioritise improvements.</p><p>The data we collect while users select and order tests allows us to see if there are areas that are not as easy to use as they should be. For example, if we see a pattern emerging where users frequently have to go back to add in a piece of missed information, we can use this data to make design or content changes that will make the user journey clearer.</p><p>Another use for this data is helping us understand different user groups and whether they have different needs. For example, we might find that GPs use the service differently from lab technicians, which would allow us to optimise the site for different types of users.</p><p>Data also lets us track things such as volume of visits, how many active and returning users we have, how long it takes for test orders to be made and how many form downloads there are. All these things let us know whether the site is working as it should.</p>"},{id:"block2",header:"What data are we collecting?",content:"<p><strong>At no time will we capture any patient information, though we may capture metadata about how that data is entered; for example, how long it took to find the field and fill it in.</strong></p><p>The data that we collect falls into 2 categories:</p><ul><li>device information</li><li>analytics information about your visit</li></ul>"},{id:"block3",header:"Device information:",content:"<p><strong>A note on the anonymous unique visitor ID:</strong><br />The data we collect allows us to identify you as a unique user, not who you are.</p>"},{id:"block4",header:null,content:"<table><thead><tr><th>Type of data</th><th>What it's used for</th><th>How long it's kept for</th><th>Is it available to anyone</th></tr></thead><tbody><tr><td>Identified visitor ID</td><td>Identifies you when you log in</td><td>For the term of the business relationship, plus six months in the database as processed data and six months as raw data on AT Internet servers </td><td>Genomics England can request to see this data</td></tr><tr><td>Cookie ID</td><td>Creates a unique, anonymous visitor ID*</td><td>Six months as raw data on AT Internet servers</td><td>No. This information isn\u2019t visible to Genomics England or any third parties, and it\u2019s not visible to analytics tools </td></tr><tr><td>IP Address</td><td>Shows which region of the country you\u2019re in and creates a unique, anonymous user ID*</td><td>Six months as raw data on AT Internet servers</td><td>No. This information isn\u2019t visible to Genomics England or any third parties, and it\u2019s not visible to analytics tools </td></tr></tbody></table>"},{id:"block5",header:"Analytics information:",content:"<ul><li>where you came from (for example, did you click a link, enter a URL, or use a search engine)</li><li>the type of browser you used</li><li>the number of page views</li><li>the exact navigational path you take through the site</li><li>the amount of time spent on a page, or the entire site</li><li>the keywords and filters used when searching for clinical indications</li><li>the selected clinical indications and test packages</li><li>other types of navigational data, for example, any links you clicked</li></ul>"},{id:"block6",header:"Cookies",content:"<p>Like many sites, we use cookies to collect information. You can instruct your browser to refuse all cookies or to indicate when a cookie is being sent. However, if you do not accept cookies, some functions will not work as intended; for example, the cookie banner will be permanently displayed.</p>"},{id:"block7",header:"We use 2 types of cookies:",content:"<p><strong>Strictly necessary cookies:</strong><br/> These cookies are essential for some features, such as accessing secure areas of the website. Without these cookies, services such as logging into the website cannot be provided.</p><p><strong>Performance cookies:</strong><br/> These cookies collect information about how you use the website; for example, which pages you go to and if you get any error messages. This information is used to improve how the website works.</p><p>We work with an analytics partner called AT Internet, which provides tools to help us track performance information (as described below). They commit to processing all data in the EU and adhere to strict guidelines regarding security, access, and length of time our users\u2019 information is kept for.<br/> The performance cookies we use for counting unique users are: </p>"},{id:"block8",header:null,content:"<table><thead><tr><th>Cookie name</th><th>Lifetime</th><th>What it\u2019s used for</th></tr></thead><tbody><tr><td>atidvisitor</td><td>6 months by default, modifiable</td><td>To help us know when an individual visits more than once</td></tr><tr><td>atuserid</td><td>13 months by default, modifiable</td><td>To connect multiple visits of logged in users and understand how different user groups may be using the service</td></tr></tbody></table>"},{id:"block9",header:"Opt out of cookie tracking",content:"<p>Should you wish to withdraw your consent for the processing of your data, you may opt-out using this link: <a href='http://www.xiti.com/en/optout.aspx'>http://www.xiti.com/en/optout.aspx</a>. This will opt you out of all AT Internet tracking (on any website) and works by placing a cookie in your browser cache that stops tracking messages from being sent.</p>"},{id:"block10",header:"Security and storage",content:"<p>The security of your personal information is important to us, but remember that no method of transmission over the internet \u2013 or method of electronic storage \u2013 is 100% secure. While we strive to use commercially acceptable means to protect your personal information, we cannot guarantee its absolute security.</p><p>We store our digital analytics data in 2 places, AT Internet\u2019s servers and <cloud storage solution to be confirmed next week>.<br />These service providers store all data within the European Union.</p>"},{id:"block11",header:"Your rights",content:"<p>You have the right to request access to any data we have about you, and the right to request that that data is deleted. You also have the right to refuse cookies.</p><p>To exercise these rights, please contact us:</p><ul><li>via email at dpo@genomicsengland.co.uk</li><li>or by sending a letter by certified mail to NGIS at the following address:</li></ul><p>Data Protection Officer<br/>Dawson Hall<br/>Charterhouse Square<br/>London<br/>EC1M 6BQ</p>"}]},284:function(e,t,a){e.exports=a(458)},412:function(e,t,a){},457:function(e,t,a){},458:function(e,t,a){"use strict";a.r(t);a(285);var n=a(0),r=a.n(n),i=a(26),s=a.n(i),c=a(14),o=(a(325),a(326),a(331),a(341),a(346),a(347),a(348),a(350),a(351),a(352),a(353),a(354),a(358),a(364),"ciguid"),l="citt",u="oeid",d="/testorder",m="patient-search",p="new-patient",f="patient-details",h="results",b="referral",v="add",_="spineResult",g=a(7),y=a(8),E=a(16),C=new(function(){function e(){var t=this;Object(g.a)(this,e),this.handleOnNavigate=function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return Promise.all(t.intercepts.map(function(e){return e()})).then(function(){return t.originalNavigate.apply(t,a)}).then(function(){t.listeners.map(function(e){return e()})}).catch(function(){})},this.listen=function(e){return t.listeners.push(e)},this.removeListener=function(e){t.listeners=t.listeners.filter(function(t){return t!==e})},this.interceptNavigate=function(e){return t.intercepts.push(e)},this.removeIntercept=function(e){t.intercepts=t.intercepts.filter(function(t){return t!==e})},this.listeners=[],this.intercepts=[],this.history=Object(E.e)(window),this.originalNavigate=this.history.navigate,this.history.navigate=this.handleOnNavigate}return Object(y.a)(e,[{key:"getHistoryObject",value:function(){return this.history}}]),e}()),O={driver:null,initiate:function(e){O.driver=e;var t=function(){O.dispatch({type:"page",data:{name:""}})};t(),C.listen(t),e.initiate()},dispatch:function(e){var t=e.type,a=e.data;O.driver.dispatch(t,a)}},j=O,S=a(3),w=a.n(S),k=a(6),T=a(2),I=function(e){var t=e.src,a=e.async,n=void 0!==a&&a;return new Promise(function(e,a){var r=document.createElement("script"),i=document.getElementById("root");r.src=t,r.async=n,r.onload=function(){e({script:t,loaded:!0,status:"Loaded"})},r.onerror=function(){a(new Error("Failed loading script ".concat(t)))},i.parentNode.insertBefore(r,i.nextSibling)})},N={isLoaded:!1,messageQueue:[],ATTag:[],initiate:function(){var e=Object(k.a)(w.a.mark(function e(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I({src:"//tag.aticdn.net/602292/smarttag.js",async:!0});case 2:if(void 0!==window.ATInternet){e.next=4;break}throw new Error("window.ATInternet object was undefined");case 4:N.ATTag=new window.ATInternet.Tracker.Tag,N.isLoaded=!0,N.messageQueue.length>0&&(N.messageQueue.forEach(function(e){var t=e.type,a=e.data;N.dispatch(t,a)}),N.messageQueue=[]);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),dispatch:function(e,t){if(!function(e,t){var a="internalSearch"===e&&!t.customObject.value;return["internalSearch","page","click"].includes(e)&&!a}(e,t))return N;if(N.isLoaded){var a=function(e){var t=Object(T.a)({customObject:{}},e,{level2:"Test Ordering"});return t.customObject.oid=sessionStorage.getItem("oid")||!1,t}(t);console.log(JSON.stringify({type:e,data:a},null,1)),N.ATTag[e].send(a)}else N.messageQueue.push({type:e,data:t});return N}},x=N,L=a(5),P=a(12),A=a(17),R=a(21),D=a(51),q=a(25),M=a.n(q),F=function(e){return Object(D.a)(M.a.create()).get("".concat("/api/DynamicContent/ListStages","/").concat(e)).then(function(e){return e.data}).catch(function(e){return Promise.reject(e)})};M.a.defaults.baseURL="".concat(d),M.a.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",M.a.defaults.headers.common.Pragma="no-cache";var U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=e.config,n=void 0===a?{}:a,r=e.interceptors,i=M.a.create(n),s=t?Object(D.a)(i):i;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.response,n=t.request,r=Object(T.a)({},e);a&&e.interceptors.response.use(a),n&&e.interceptors.request.use(n)}(s,r),function(e){e.interceptors.response.use(function(e){return e},function(e){var t=e.response,a=(t=void 0===t?{}:t).status;return[401,403].includes(a)&&window.location.reload(),Promise.reject(e)})}(s),s},B=function(e){var t=e.url,a=e.params,n=e.cancelToken;return e.client.get(t,{cancelToken:n,params:a})},V=function(e){var t=e.url,a=e.data;return e.client.patch(t,a)},G=function(e){var t=e.url,a=e.data;return e.client.post(t,a)},Q=U(),z=function(e){return e&&0!==e.length?e.reduce(function(e,t){return"".concat(e).concat(t.name,"=").concat(t.extended?"extended":"normal","&")},"?"):""},H=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return B({url:"".concat("/api/ReferralStatus/Stages","/").concat(e).concat(z(t)),client:Q}).then(function(e){return e.data}).catch(function(e){return Promise.reject(e)})},J=function(e){return B({url:"".concat("/api/ReferralStatus/AllStages","/").concat(e),client:Q}).then(function(e){return e.data}).catch(function(e){return Promise.reject(e)})},Z=function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:console,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(){for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"log";t&&e[a].apply(e,n)}}}.apply(void 0,arguments)}(),W=a(15),Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"uid";return Object.entries(e).reduce(function(e,n){var r,i=Object(R.a)(n,2),s=i[0],c=i[1],o=t[s],l=((r=c)&&"object"===typeof r&&!Array.isArray(r)&&o?c:{})[a]||c;return Object(T.a)({},e,Object(W.a)({},s,c),o&&Object(W.a)({},o,l))},{})},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=a.keyOfNestedValue,r=a.removeDuplicates,i=a.keyOfTargetObject,s=void 0===i?"type":i,c=e.reduce(function(e,a){return[].concat(Object(P.a)(e),[Y(a,t,n)])},[]);return r?c.filter(function(e,t,a){var n=e[s],r=a.findIndex(function(e){return e[s]===n});return r<0||r===t}):c},X={relationshipToProband:"relationshipToProbandId",diseaseStatus:"diseaseStatusId",consanguinity:"consanguinityId",motherAffected:"motherAffectedId",fatherAffected:"fatherAffectedId"},$={ciTestTypeId:"ciTestTypeUid",penetrance:"penetrance"},ee={sampleId:"sampleUid"},te={role:"role"},ae={priority:"priorityId",status:"statusId"},ne=function(e){var t=e.participants,a=e.tests,n=e.samples,r=e.clinicians,i=Object(L.a)(e,["participants","tests","samples","clinicians"]);return Object(T.a)({},Y(i,ae),r&&{clinicians:K(r,te)},t&&{participants:K(t,X)},n&&{samples:K(n,ee)},a&&{tests:K(a,$)})},re=U(),ie=U({interceptors:{request:function(e){var t=e.data,a=Object(L.a)(e,["data"]);return Object(T.a)({},a,{data:ne(t)})}}}),se=function(e){var t=e.ngisUid,a=e.clinicalReason,n=e.priorityId,r=e.statusId,i=Object(L.a)(e,["ngisUid","clinicalReason","priorityId","statusId"]);return G({url:"/api/Referral",data:Object(T.a)({clinicalIndicationId:a,priorityId:n,statusId:r,participants:[{patientId:t,isProband:!0}]},i),client:re}).then(function(e){return e.data}).catch(function(e){return Promise.reject(e)})},ce=function(e){return B({url:"".concat("/api/Referral","/").concat(e),client:re}).then(function(t){var a=t.data;return Object(T.a)({},a,{id:e})}).catch(function(e){return Promise.reject(e)})},oe=function(e,t){return V({url:"".concat("/api/Referral","/").concat(e),client:ie,data:t}).catch(function(e){return Promise.reject(e)})},le=function(e){return Promise.all([ce(e),F(e),J(e)]).then(function(e){var t=Object(R.a)(e,3);return{referral:t[0],stages:t[1].stages,stagesStatus:t[2].stages}}).catch(function(e){return Promise.reject(e)})},ue=function(){var e=Object(k.a)(w.a.mark(function e(t){var a,n,r,i,s;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.referralId,n=t.priorityId,r=t.data,i=t.stages,e.prev=1,e.next=4,oe(a,Object(T.a)({},r,{priorityId:n}));case 4:return e.next=6,c=a,o=i,Promise.all([ce(c),H(c,o)]).then(function(e){var t=Object(R.a)(e,2);return{referral:t[0],stagesStatus:t[1].stages}}).catch(function(e){return Promise.reject(e)});case 6:return s=e.sent,e.abrupt("return",s);case 10:return e.prev=10,e.t0=e.catch(1),Z("Error updating the referral",{error:e.t0})("error"),e.abrupt("return",Promise.reject(e.t0));case 14:case"end":return e.stop()}var c,o},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}(),de=U(),me=function(){return B({url:"/api/codessearch/priority",client:de}).then(function(e){return e.data.hits}).catch(function(e){return Promise.reject(e)})},pe=U(),fe=function(e){return B({url:"".concat("/api/ClinicalIndication","/").concat(e),client:pe}).then(function(e){return e.data.ciTestTypes}).catch(function(e){return Promise.reject(e)})},he=function(e){return B({url:"".concat("/api/ClinicalIndication","/").concat(e),client:pe}).then(function(e){return e.data}).catch(function(e){return Promise.reject(e)})},be=U(),ve=function(e,t){return B({url:"".concat("/api/ConsentStatus/PatientStatus","/").concat(e,"/").concat(t),client:be}).then(function(e){return e.data}).catch(function(a){return 404===a.response.status?Promise.resolve({patientId:t,referralId:e,requestedConsentExists:null,primaryGenomicTestingConsent:null,primaryGenomicTestingConsentBestInterest:null}):Promise.reject(a)})},_e={saveState:"default",navigationOverride:!1,notification:{text:"",show:!1}},ge="navigation/SET_SAVING_STATE",ye="navigation/SET_SUCCESS_STATE",Ee="navigation/SET_ERROR_STATE",Ce=function(e){return e.saveState},Oe=function(e){return e.navigationOverride},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"navigation/SET_DEFAULT_STATE":return Object(T.a)({},e,{saveState:"default"});case ge:return Object(T.a)({},e,{saveState:"saving"});case ye:return Object(T.a)({},e,{saveState:"success",notification:{show:!0,text:n}});case Ee:return Object(T.a)({},e,{saveState:"error"});case"navigation/SET_NAVIGATION_OVERRIDE":return Object(T.a)({},e,{navigationOverride:!0});case"navigation/RESET_NAVIGATION_OVERRIDE":return Object(T.a)({},e,{navigationOverride:!1});case"navigation/CLEAR_NOTIFICATION":return Object(T.a)({},e,{notification:{show:!1}});default:return e}},Se="clinical-questions",we="downloads",ke={patientDetails:{display:"Patient details",path:"patient-details",component:"patient-details"},additionalNotes:{display:"Notes",path:"notes",component:"info"},clinicalQuestions:{display:"Clinical questions",path:Se,nested:!0,component:"clinical-questions"},clinicianDetails:{display:"Responsible clinician",path:"clinical-details",component:"clinical-details"},downloads:{display:"Print forms",path:"downloads",component:"downloads"},familyMembers:{display:"Family members",path:"family-members",nested:!0,component:"family-members"},orderingEntity:{display:"Requesting organisation",path:"ordering-entity",component:"ordering-entity"},panel:{display:"Panels",path:"panels",component:"panels"},patientChoice:{display:"Patient choice",path:"patient-choice",nested:!0,component:"patient-choice"},pedigree:{display:"Pedigree",path:"pedigree",component:"pedigree"},samples:{display:"Samples",path:"samples",nested:!0,component:"samples"},testPackage:{display:"Test package",path:"test-package",component:"test-package"},tumour:{display:"Tumours",path:"tumours",nested:!0,component:"tumours"}},Te={Complete:{isComplete:!0,isLocked:!1,isMandatory:!1},LockedComplete:{isComplete:!0,isLocked:!0,isMandatory:!1},LockedToDo:{isComplete:!1,isLocked:!0,isMandatory:!1},MandatoryComplete:{isComplete:!0,isLocked:!1,isMandatory:!0},MandatoryToDo:{isComplete:!1,isLocked:!1,isMandatory:!0},NormalToDo:{isComplete:!1,isLocked:!1,isMandatory:!1}},Ie=[{currentStage:"test-package",additionalStagesToUpdate:["family-members","downloads"]},{currentStage:"ordering-entity",additionalStagesToUpdate:["downloads"]},{currentStage:"tumours",additionalStagesToUpdate:["samples"]},{currentStage:"family-members",additionalStagesToUpdate:["patient-choice"]}],Ne=function(e){var t=e.stagesWithStatus,a=void 0===t?[]:t,n=e.updatedStatuses,r=void 0===n?[]:n;return a.reduce(function(e,t){var a=r.find(function(e){return e.name===t.name})||{state:{}},n=a.state;return[].concat(Object(P.a)(e),[Object(T.a)({},t,{incompleteEntities:a.incompleteEntities||[]},n&&Te[n])])},[])},xe=function(e){var t=e.stages,a=void 0===t?[]:t,n=e.stagesStatus,r=void 0===n?[]:n;return a.reduce(function(e,t){var a=t.stage,n=t.extended,i=t.entities,s=a.replace(/_\w/g,function(e){return e[1].toUpperCase()}),c=ke[s],o=r.find(function(e){return e.name===a})||{},l=o.state;return c?[].concat(Object(P.a)(e),[Object(T.a)({},c,{name:a,extended:n,entities:i,incompleteEntities:o.incompleteEntities||[]},l&&Te[l])]):e},[])},Le={all:[],current:""},Pe="stages/SET_STAGES",Ae="stages/SET_CURRENT_STAGE",Re=function(e){var t=e.stages,a=e.stagesStatus;return{type:Pe,payload:xe({stages:t,stagesStatus:a})}},De=function(e){return function(t,a){var n=a().stages.all;return t({type:Pe,payload:Ne({stagesWithStatus:n,updatedStatuses:e})})}},qe=function(e){var t=e.stages;return void 0===t?{}:t},Me=Object(A.a)([qe],function(e){return e.all||[]}),Fe=Object(A.a)([qe],function(e){return e.current||""}),Ue=Object(A.a)([Me,Fe],function(e,t){var a=function(e){var t=e.currentStage;return Ie.reduce(function(e,a){return a.currentStage===t?[].concat(Object(P.a)(e),Object(P.a)(a.additionalStagesToUpdate)):e},[t])}({currentStage:t});return e.filter(function(e){var t=e.component;return a.includes(t)})}),Be=Object(A.a)([Me,Fe],function(e,t){return(e.find(function(e){var a=e.component;return t.includes(a)})||[]).incompleteEntities}),Ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case Pe:return Object(T.a)({},e,{all:n});case Ae:return Object(T.a)({},e,{current:n});default:return e}},Ge=function(e){return""!==e?e:null},Qe=function(e){return e&&Object.keys(e).reduce(function(t,a){return Object(T.a)({},t,Object(W.a)({},a,Ge(e[a])))},{})},ze=Ge,He=function(e){return function(e,t,a){if(!Array.isArray(e))return e;var n=t-e.length;return n>0?e.concat(Array(n).fill(a)):e}(e.map(function(e){return e||""}),5,"")},Je=function(e){return e.reduce(function(e,t){var a=t.type.uid,n=t.value;return[].concat(Object(P.a)(e),[{type:a,value:n}])},[])},Ze=function(e){var t,a,n=e.identifiers,r=e.newIdentifiers,i=[].concat(Object(P.a)(r),Object(P.a)(n));return a="type",(t=i).filter(function(e,n){return t.findIndex(function(t){return t[a]===e[a]})===n})},We=function(e){var t=e.address,a=e.identifiers,n=e.name,r=n.family,i=n.first,s=n.prefix,c=Object(L.a)(e,["address","identifiers","name"]),o=(a.find(function(e){return"b1b2b198-e294-4321-9ba7-605c7b8becdd"===e.type.uid})||{}).value,l=(a.find(function(e){return"3a159ac4-c3f9-4eb7-a297-a4bfcd78e64b"===e.type.uid})||{}).value,u=t||{},d=u.lines,m=void 0===d?[]:d,p=u.postcode,f=void 0===p?"":p;return Object(T.a)({address:m,familyName:r,firstName:i,nhsNumber:o,hospitalNumber:l,postcode:f,title:s,identifiers:a},c)},Ye=function(e){var t=e.requestedConsentExists,a=e.primaryGenomicTestingConsent;return t?a?"Agreed to testing":"Declined testing":"Not entered"},Ke=U(),Xe=function(e){return B({url:"".concat("/api/Patient","/").concat(e),client:Ke}).then(function(e){var t=e.data;return Object(T.a)({},t,{ngisResult:!0})})},$e=function(e){var t=function(e){var t=e.title,a=e.firstName,n=e.familyName,r=e.dateOfBirth,i=e.administrativeGender.uid,s=e.lifeStatus.uid,c=e.identifiers,o=e.hospitalNumber,l=e.ethnicity,u=e.address,d=e.postcode;return Object(T.a)({name:{prefix:t,first:a,family:n},dateOfBirth:r,administrativeGender:i,lifeStatus:s,identifiers:Ze({identifiers:Je(c),newIdentifiers:[{type:"3a159ac4-c3f9-4eb7-a297-a4bfcd78e64b",value:ze(o)}]}),ethnicity:l&&l.uid?l.uid:null},u?{address:{lines:He(u),postcode:""===d?null:d,effective_from:(new Date).toISOString().split("T")[0]}}:{})}(e);return V({url:"".concat("/api/Patient","/").concat(e.id),data:t,client:Ke}).then(function(e){return e.data})},et=function(e,t){var a=e.map(function(){var e=Object(k.a)(w.a.mark(function e(a){var n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve(t,a.id);case 2:return n=e.sent,e.abrupt("return",{patientId:a.id,status:Ye(n)});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());return Promise.all(a)},tt={probandPatient:{},otherPatients:[]},at=function(e){return e.reduce(function(e,t){var a=e.probandPatient,n=e.otherPatients;return t.isProband?{otherPatients:n,probandPatient:t}:{probandPatient:a,otherPatients:[].concat(Object(P.a)(n),[t])}},tt)},nt=function(e,t){return e.map(function(e){var a=e.patientId,n=Object(L.a)(e,["patientId"]);return Object(T.a)({},n,t.find(function(e){var t=e.id;return a===t}))})},rt=function(){var e=Object(k.a)(w.a.mark(function e(t){var a,n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.map(function(e){return e.patientId}),e.next=3,r=a,Promise.all(r.map(function(e){return Xe(e)}));case 3:return n=e.sent,e.abrupt("return",nt(t,n));case 5:case"end":return e.stop()}var r},e)}));return function(t){return e.apply(this,arguments)}}(),it=function(){var e=Object(k.a)(w.a.mark(function e(t){var a,n,r;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.participants,e.prev=1,e.next=4,rt(a);case 4:return n=e.sent,r=n.reduce(function(e,t){var a=Object(T.a)({},{relationship:t.relationshipToProband||{}},We(t));return[].concat(Object(P.a)(e),[a])},[]),e.abrupt("return",at(r));case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",tt);case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}(),st=function(){var e=Object(k.a)(w.a.mark(function e(t){var a,n,r,i;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.participants,n=t.id,e.next=3,rt(a);case 3:return r=e.sent,e.next=6,et(r,n);case 6:return i=e.sent,e.abrupt("return",{patientsConsent:i});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ct=function(e,t){return e.filter(function(e){return e.patientId===t}).length>0},ot=function(e){return e.map(function(e){var t=e.relationshipToProband,a=e.motherAffected,n=e.fullBrothersAffected,r=e.fullSistersAffected,i=e.consanguinity,s=e.fatherAffected,c=e.diseaseStatus,o=Object(L.a)(e,["relationshipToProband","motherAffected","fullBrothersAffected","fullSistersAffected","consanguinity","fatherAffected","diseaseStatus"]),l=(t||{}).uid,u=(a||{}).uid,d=(n||{}).uid,m=(r||{}).uid,p=(i||{}).uid,f=(s||{}).uid,h=(c||{}).uid;return Object(T.a)({relationshipToProbandId:l,motherAffectedId:u,fullBrothersAffectedId:d,fullSistersAffectedId:m,consanguinityId:p,fatherAffectedId:f,diseaseStatusId:h},o)})},lt=function(e,t,a){return e.map(function(e){return e.patientId===t?Object(T.a)({},e,a):e})},ut=function(e,t){var a=function(e){return t[e]&&t[e].length>0};return Array.isArray(e)?e.map(function(e){return Object(T.a)({},e,{isBeingTested:a(e.id)})}):Object(T.a)({},e,{isBeingTested:a(e.id)})},dt=function(e,t){var a=e.referral,n=e.clinicalIndicationName;return function(){var e=Object(k.a)(w.a.mark(function e(r){var i,s,c,o,l;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,it(a);case 3:return i=e.sent,s=i.probandPatient,c=i.otherPatients,e.next=8,st(a);case 8:o=e.sent,l=o.patientsConsent,r({type:_n.STORE_REFERRAL,payload:Object(T.a)({clinicalIndicationName:n,otherPatients:c,probandPatient:s,referralData:a,patientsConsent:l},t&&{activePatient:c.find(function(e){return e.id===t})})}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),Z("Error in referral.",{error:e.t0})("error");case 16:case"end":return e.stop()}},e,null,[[0,13]])}));return function(t){return e.apply(this,arguments)}}()},mt=function(e,t){return function(){var a=Object(k.a)(w.a.mark(function a(n,r){var i,s,c,o,l,u,d,m;return w.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:ge}),i=r(),s=i.referral.referralData,c=s.id,o=s.priority.uid,l=Ue(r()),u=(e||{priorityId:null}).priorityId,d=u||o,a.prev=6,a.next=9,ue({referralId:c,data:e,priorityId:d,stages:l});case 9:return m=a.sent,a.next=12,n(dt(m,t));case 12:n(De(m.stagesStatus)),n({type:ye}),a.next=20;break;case 16:a.prev=16,a.t0=a.catch(6),Z("Error updating the referral.",{error:a.t0})("error"),n({type:Ee});case 20:case"end":return a.stop()}},a,null,[[6,16]])}));return function(e,t){return a.apply(this,arguments)}}()},pt=function(e){var t=e.normalisedQuestions,a=e.answersObject,n=void 0===a?{}:a;return t.reduce(function(e,t){var a=t.questionId,r=t.options,i=t.defaultValue,s=t.componentName;if("hpo_terms_module"===s)return e;var c=a.replace("question-id-",""),o=n[c],l=o&&"date"===s?new Date(o):o,u=r&&o?r.find(function(e){return e.code===("object"===typeof l?l.code:l)}):l;return Object(T.a)({},e,Object(W.a)({},a,function(e,t){return null===e?"":e||0===e?e:t||0===t?t:""}(u,i)))},{})},ft=function(e){return e.reduce(function(e,t){var a=t.unitId,n=t.entityId,r=t.previousAnswer,i=t.multiple,s=t.questions,c="".concat("unit-id-").concat(a),o=gt({unitId:c,questions:s}),l=i?function(e){var t=e.normalisedQuestions,a=e.answersArray,n=void 0===a?[]:a;return n.length>0?n.reduce(function(e,a){return[].concat(Object(P.a)(e),[pt({normalisedQuestions:t,answersObject:a})])},[]):[pt({normalisedQuestions:t})]}({normalisedQuestions:o,answersArray:r}):pt({normalisedQuestions:o,answersObject:r}),u=Et({normalisedQuestions:o}),d=function(e){return e.questions.reduce(function(e,t){t.defaultValue;var a=t.questionId,n=(t.unitId,Object(L.a)(t,["defaultValue","questionId","unitId"]));return[].concat(Object(P.a)(e),[Object(T.a)({},n,{name:a})])},[])}({questions:o});return[].concat(Object(P.a)(e),[{unitId:c,entityId:n,answers:l,validation:u,multiple:i,fields:d}])},[])},ht=function(e){return e.reduce(function(e,t){var a=t.units,n=t.title,r=t.subtitle,i=t.helpText,s=t.presentationGroupId,c=function(e){return e.reduce(function(e,t){var a=t.unitId,n=t.validation,r=t.fields,i=t.multiple,s=t.entityId,c=t.answers;return{values:Object(T.a)({},e.values,Object(W.a)({},a,{entityId:s,answers:c})),ui:[].concat(Object(P.a)(e.ui),[{unitId:a,fields:r,isRepeating:i,validation:n}])}},{values:[],ui:[]})}(ft(a)||[]),o=c.values,l=c.ui;return[].concat(Object(P.a)(e),[{presentationGroupId:s,ui:{presentationGroupId:s,title:n,subtitle:r,helpText:i,unitUi:l},unitValues:o}])},[])},bt=function(e){return null!==e},vt=["static_enum","search_enum","hpo_terms_module"],_t=["disease_status","age_years_months"],gt=function(e){var t=e.unitId;return e.questions.reduce(function(e,a){var n=a.questionId,r=a.questionText,i=a.caption,s=a.placeholder,c=a.nullable,o=a.mandatory,l=a.default,u=a.dataType,d=u.typeName,m=u.uiType,p=u.properties,f=p.values,h=p.multiline,b=p.searchUrl,v=void 0===b?"":b,_=Object(L.a)(p,["values","multiline","searchUrl"]),g=function(e){var t=e.type,a=e.multiline,n=e.uiType;return _t.includes(n)?{type:n,componentName:n}:vt.includes(t)?{componentName:t}:"date"===t?{type:t,componentName:t}:"text"===t?{type:a?"textarea":"text"}:{type:t}}({type:d,multiline:h,uiType:m}),y=g.type,E=g.componentName,C=function(e){var t=e.maxCharacters,a=e.minCharacters,n=e.max,r=e.min,i=Object(L.a)(e,["maxCharacters","minCharacters","max","min"]);return Object(T.a)({},bt(t)&&{maxLength:t},bt(a)&&{minLength:a},bt(n)&&{max:n},bt(r)&&{min:r},{dataTypeProperties:i})}(_),O=C.dataTypeProperties,j=Object(L.a)(C,["dataTypeProperties"]);return[].concat(Object(P.a)(e),[Object(T.a)({unitId:t,questionId:"".concat("question-id-").concat(n),label:r,hint:i,placeholder:s,validation:{fieldType:y||E,requiredByStage:!c,predicates:j},defaultValue:l,componentName:E,options:f,dataTypeProperties:O,uiAttributes:Object(T.a)({type:y,requiredByReferral:o},j)},v&&{searchUrl:v})])},[])},yt=function(e){return e.map(function(e){return e.ui})},Et=function(e){return e.normalisedQuestions.reduce(function(e,t){var a=t.questionId,n=t.validation;return Object(T.a)({},e,Object(W.a)({},a,n))},{})},Ct=function(e){return window.isNaN(e)?null:parseFloat(e)},Ot=a(20),jt=a.n(Ot);a(169);jt.a.locale("en-gb");var St=function(e){return jt()(e).format("DD-MMM-YYYY")},wt=function(e){return jt()(e).format("DD/MM/YYYY")},kt=function(e){return jt()(e).format("YYYY-MM-DD")},Tt=function(e){var t=e.day,a=e.month,n=e.year;if(a&&n){var r=jt()("".concat(n,"-").concat(a,"-").concat(t||"1"));return t?r.format("DD-MMM-YYYY"):r.format("MMM-YYYY")}return n?"".concat(n):""},It=St,Nt=function(e){return 0===e?0:e?"string"===typeof e?Ct(t=e)||t:Array.isArray(e)?e:e instanceof Date?kt(e):"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"uid")?e.uid:e:null;var t},xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.entries(e).reduce(function(e,t){var a=Object(R.a)(t,2),n=a[0],r=a[1];return Object(T.a)({},e,Object(W.a)({},n.replace("question-id-",""),Nt(r)))},{})},Lt=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){return xt(e)}).reduce(function(e,t){return 0===Object.values(t).filter(function(e){return null!==e}).length?e:[].concat(Object(P.a)(e),[t])},[])},Pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.entries(e).reduce(function(e,t){var a=Object(R.a)(t,2),n=a[0],r=a[1],i=r.answers,s=Object(L.a)(r,["answers"]);return Object(T.a)({},e,Object(W.a)({},n.replace("unit-id-",""),{entity_id:s.entityId||s.entity_id,answers:Array.isArray(i)?Lt(i):xt(i)}))},{})},At={interceptors:{response:function(e){var t=e.data.stages;return function(e){return e.map(function(e){var t,a=e.entityId,n=e.presentationGroups,r=ht(n);return{entityId:a,initialValues:(t=r,t.reduce(function(e,t){var a=t.unitValues;return Object(T.a)({},e,a)},{})),groupUi:yt(r)}})}(void 0===t?[]:t)}}},Rt=U(At),Dt={interceptors:{headers:{"content-type":"application/json"},request:function(e){return Object(T.a)({},e,{data:{units:Pt(e.data)}})}}},qt=U(Dt,!1),Mt=function(e){var t=e.url;return B({url:t,client:Rt}).catch(function(e){return Promise.reject(e)})},Ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a={};return t&&e.find(function(e){var a=e.type;return a&&a.uid===t})||a},Ut={type:"type"},Bt=function(e,t,a){var n=e.labId,r=e.parentSampleId,i=e.sampleType.uid,s=e.sampleState.uid,c=e.tumourId,o=e.identifiers,l=void 0===o?[]:o;return{identifiers:K([{type:{uid:a},value:n}].concat(Object(P.a)(l)),Ut,{removeDuplicates:!0}),patientId:t,parentSampleId:r,typeId:i,stateId:s,tumourId:c}},Vt="/".concat("api/codessearch","/sample_type"),Gt="/".concat("api/codessearch","/sample_state"),Qt=function(e){return"".concat("/api/DynamicContent/Stage","/").concat(e,"/samples")},zt=U(),Ht=function(e){return B({url:e,client:zt}).then(function(e){return e.data.hits}).catch(function(e){return Promise.reject(e)})},Jt=function(){var e=Object(k.a)(w.a.mark(function e(t,a){var n,r,i,s,c,o,l,u;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B({url:"".concat("/api/sample","/").concat(t),client:zt});case 3:if(n=e.sent,r=n.data,i=n.data.parentSampleId){e.next=8;break}return e.abrupt("return",r);case 8:return e.prev=8,e.next=11,B({url:"".concat("/api/sample","/").concat(i),client:zt});case 11:return s=e.sent,c=s.data.identifiers,o=Ft(void 0===c?[]:c,a),l=o.value,u=void 0===l?"":l,e.abrupt("return",Object(T.a)({},r,{parentSampleLabId:u}));case 18:return e.prev=18,e.t0=e.catch(8),e.abrupt("return",r);case 21:e.next=26;break;case 23:return e.prev=23,e.t1=e.catch(0),e.abrupt("return",Promise.reject(e.t1));case 26:case"end":return e.stop()}},e,null,[[0,23],[8,18]])}));return function(t,a){return e.apply(this,arguments)}}(),Zt=function(){var e=Object(k.a)(w.a.mark(function e(t,a){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t.map(function(e){return Jt(e,a)})));case 1:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),Wt=function(e,t,a){return G({url:"/api/sample",data:Bt(e,t,a),client:zt}).then(function(e){return e.data}).catch(function(e){return Promise.reject(e)})},Yt=function(e,t,a,n){return V({url:"".concat("/api/sample","/").concat(e),data:Bt(t,a,n),client:zt}).then(function(e){return e.data}).catch(function(e){return Promise.reject(e)})},Kt=function(e){return Mt({url:Qt(e)}).catch(function(e){return Promise.reject(e)})},Xt=U({headers:{"content-type":"application/json"}}),$t="".concat("/api/Tumour","/Search?patientid"),ea=function(e){return"".concat("/api/DynamicContent/Stage","/").concat(e,"/tumour")},ta=function(e){return B({url:"".concat($t,"=").concat(e),client:Xt}).then(function(e){return e.data.hits}).catch(function(e){return Promise.reject(e)})},aa=function(e){return G({url:"/api/Tumour",data:e,client:Xt}).then(function(e){return e.data}).catch(function(e){return Promise.reject(e)})},na=function(e){return Mt({url:ea(e)}).catch(function(e){return Promise.reject(e)})},ra=function(e){var t=e.tumourId,a=e.data;return V({url:"".concat("/api/Tumour","/").concat(t),data:a,client:Xt}).catch(function(e){return Promise.reject(e)})},ia=function(e){var t=e.referralId,a=e.stageName,n=void 0===a?"clinical_questions":a;return Mt({url:"".concat("/api/DynamicContent/Stage","/").concat(t,"/").concat(n)}).catch(function(e){return Promise.reject(e)})},sa=function(e){var t=e.referralId,a=e.data,n=e.stages;return function(e){var t=e.url,a=e.data;return G({url:t,data:a,client:qt}).catch(function(e){return Promise.reject(e)})}({url:"".concat("/api/DynamicContent/Bulk","/").concat(t),data:a}).then(function(e){if(207===e.status){var t=new Error("Some units did not save successfully");return t.response={status:207},Promise.reject(t)}return e}).then(function(){return H(t,n)}).catch(function(e){return Promise.reject(e)})},ca={type:"type"},oa=function(e){var t=e.descriptiveName,a=e.pathologyReportId,n=e.tumourType.uid,r=e.tumourDiagnosisDay,i=e.tumourDiagnosisMonth,s=e.tumourDiagnosisYear,c=e.tumourNicknameIdentifierType,o=e.tumourPathologyIdIdentifierType,l=e.identifiers,u=void 0===l?[]:l;return{identifiers:K([{type:c,value:t||null},{type:o,value:a}].concat(Object(P.a)(u)),ca,{removeDuplicates:!0}),tumourType:n,tumourDiagnosisDay:r,tumourDiagnosisMonth:i,tumourDiagnosisYear:s}},la="tumour/REQUEST_QUESTIONS",ua="tumour/REQUEST_ERROR",da="tumour/SET_SELECTED_TUMOUR",ma="tumour/CREATE_TUMOUR",pa="tumour/GET_PATIENT_TUMOURS",fa="tumour/CLEAR_TUMOUR_NOTICES",ha="tumour/TUMOUR_QUESTIONS",ba={tumourAdded:!1,isLoading:!0,selectedTumour:null,existingTumours:[],hasExistingTumours:!1,tumourQuestions:[],questionsLoading:!1,isTumourEdit:!1},va=function(e){return function(){var t=Object(k.a)(w.a.mark(function t(a,n){var r,i,s,c,o;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n(),i=r.referral.referralData,s=i.tumourId,t.prev=2,t.next=5,ta(e);case 5:c=t.sent,o=c.find(function(e){return e.id===s}),a({type:pa,payload:{existingTumours:c,selectedTumour:o}}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),t.t0.response&&404===t.t0.response.status&&(a({type:ua,payload:{existingTumours:[]}}),Z("Error in tumour module, fetch by patient id",t.t0.response.status)("error"));case 13:case"end":return t.stop()}},t,null,[[2,10]])}));return function(e,a){return t.apply(this,arguments)}}()},_a=function(e){return function(){var t=Object(k.a)(w.a.mark(function t(a){return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a({type:da,payload:{tumour:e}});case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},ga=Object(A.a)(function(e){return e.selectedTumour},function(e){return e}),ya=Object(A.a)(function(e){return e.existingTumours},function(e){return e}),Ea=Object(A.a)([ga],function(e){return e&&e.id?{id:e.id,description:e.identifiers[0].value}:{}}),Ca=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ba,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload,r=void 0===n?{}:n;switch(a){case la:var i=r.questionsLoading,s=void 0===i||i;return Object(T.a)({},e,{questionsLoading:s});case ua:return Object(T.a)({},e,r,{isLoading:!1});case pa:return Object(T.a)({},e,{existingTumours:r.existingTumours,selectedTumour:r.selectedTumour,hasExistingTumours:r.existingTumours.length>0,isLoading:!1});case da:return Object(T.a)({},e,{selectedTumour:r.tumour,isTumourEdit:!0});case ma:return Object(T.a)({},e,{isLoading:!1,existingTumours:[].concat(Object(P.a)(e.existingTumours),[r.newTumour]),tumourAdded:!0,hasExistingTumours:!0});case fa:return Object(T.a)({},e,{tumourAdded:!1,isTumourEdit:!1});case ha:return Object(T.a)({},e,r,{isLoading:!1});default:return e}},Oa=function(e,t){var a=e.type,n=e.state,r=e.identifiers,i=e.id,s=e.tumourId,c=e.parentSampleId,o=e.parentSampleLabId,l=(Ft(r,t)||{}).value;return{sampleType:a,sampleState:n,labId:void 0===l?"":l,id:i,tumourId:s,parentSampleId:c,parentSampleLabId:o,identifiers:r}},ja={cachedSamples:[],addTumourDescriptionsToSamples:function(){var e=Object(k.a)(w.a.mark(function e(t){var a,n,r;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.samplesOnReferral,n=t.tumour,r=t.localLabIdentifierType,ja.cachedSamples=[],e.abrupt("return",Promise.all(a.map(function(){var e=Object(k.a)(w.a.mark(function e(t){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ja.addTumourDescriptionsToASample({sampleToUpdate:t,samplesOnReferral:a,tumour:n,localLabIdentifierType:r}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),addTumourDescriptionsToASample:function(){var e=Object(k.a)(w.a.mark(function e(t){var a,n,r,i,s,c,o;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.sampleToUpdate,n=t.samplesOnReferral,r=t.tumour,i=t.localLabIdentifierType,e.prev=1,e.next=4,ja.findTumour({sampleToCheck:a,samplesOnReferral:n,tumour:r,localLabIdentifierType:i});case 4:return s=e.sent,c=s.description,o=void 0===c?null:c,e.abrupt("return",Object(T.a)({},a,{tumourDescription:o}));case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",Object(T.a)({},a,{tumourDescription:null}));case 13:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}(),findTumour:function(){var e=Object(k.a)(w.a.mark(function e(t){var a,n,r,i,s,c,o,l,u,d,m,p,f,h,b;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.samplesOnReferral,n=t.tumour,r=t.tumour.id,i=t.sampleToCheck,s=t.sampleToCheck,c=s.id,o=s.tumourId,l=s.parentSampleId,u=t.samplesChecked,d=void 0===u?[]:u,m=t.localLabIdentifierType,p=t.numberOfParentsChecked,!((f=void 0===p?0:p)>10)){e.next=3;break}throw new Error("Too many parent sample calls");case 3:if(!(h=ja.cachedSamples.find(function(e){return e.id===c}))){e.next=6;break}return e.abrupt("return",h.tumour.id===r&&n);case 6:if(o!==r){e.next=9;break}return ja.cachedSamples=[].concat(Object(P.a)(ja.cachedSamples),Object(P.a)(d.map(function(e){return Object(T.a)({},e,{tumour:n})}))),e.abrupt("return",n);case 9:if(!l||d.find(function(e){return e.id===l})){e.next=16;break}if(b=a.find(function(e){return e.id===l})){e.next=15;break}return e.next=14,Jt(l,m);case 14:b=e.sent;case 15:return e.abrupt("return",ja.findTumour({samplesOnReferral:a,tumour:n,sampleToCheck:b,samplesChecked:[].concat(Object(P.a)(d),[i]),numberOfParentsChecked:f+1}));case 16:return ja.cachedSamples=[].concat(Object(P.a)(ja.cachedSamples),Object(P.a)(d.map(function(e){return Object(T.a)({},e,{tumour:!1})}))),e.abrupt("return",!1);case 18:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Sa=ja,wa="samples/REQUEST_SENT",ka="samples/REQUEST_SENT_SYSTEM_QUESTIONS",Ta="samples/SET_SYSTEM_QUESTIONS",Ia="samples/REQUEST_ERROR",Na="samples/ADD_SAMPLE",xa="samples/SAMPLE_UPDATED",La="samples/REFERRAL_SAMPLES_LOADED",Pa="samples/CLEAR_SAMPLE_NOTICES",Aa="samples/SAMPLE_QUESTIONS",Ra={systemQuestions:{sampleType:[],sampleState:[]},dynamicQuestions:{},samples:[],samplesOnReferralLoaded:!1,isNewSampleAdded:!1,isSampleUpdated:!1,error:null,initialLoadComplete:!1,isLoading:!1,isLoadingSystemQuestions:!1,sampleQuestions:[],sampleQuestionsLoaded:!1},Da=function(e){return e.samples||[]},qa=function(){var e=Object(k.a)(w.a.mark(function e(t){var a,n,r,i,s,c,o,l,u,d;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.getState,n=t.sampleToUpdate,r=t.localLabSampleIdIdentifierType,i=t.samples,s=t.updateAllSamples,c=a(),o=c.tumour,l=Ea(o),u={sampleToUpdate:n,samplesOnReferral:i,tumour:l,localLabIdentifierType:r},!s){e.next=10;break}return e.next=7,Sa.addTumourDescriptionsToSamples(u);case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,Sa.addTumourDescriptionsToASample(u);case 12:e.t0=e.sent;case 13:return d=e.t0,e.abrupt("return",d);case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Ma=function(e,t){return function(){var a=Object(k.a)(w.a.mark(function a(n,r){var i,s,c,o,l;return w.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Zt(e,t);case 3:return i=a.sent,s=i.map(function(e){return Oa(e,t)}),a.next=7,qa({getState:r,localLabSampleIdIdentifierType:t,samples:s,updateAllSamples:!0});case 7:c=a.sent,n({type:La,payload:{values:c}}),a.next=18;break;case 11:a.prev=11,a.t0=a.catch(0),Z("Error in samples fetch. ",{error:a.t0})("error"),o=a.t0.response,l=(o=void 0===o?{}:o).status,n({type:Ia,payload:{errorCode:l}});case 18:case"end":return a.stop()}},a,null,[[0,11]])}));return function(e,t){return a.apply(this,arguments)}}()},Fa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case wa:return Object(T.a)({},e,{isLoading:!0});case ka:return Object(T.a)({},e,{isLoadingSystemQuestions:!0});case Ta:return Object(T.a)({},e,{systemQuestions:{sampleType:n.results[0],sampleState:n.results[1]},isLoadingSystemQuestions:!1});case Na:var r=n.newSample;return Object(T.a)({},e,{isNewSampleAdded:!0,isLoading:!1,samples:[].concat(Object(P.a)(e.samples),[r])});case Pa:return Object(T.a)({},e,{isNewSampleAdded:!1,isSampleUpdated:!1,error:null});case La:return Object(T.a)({},e,{samples:n.values,isLoading:!1,initialLoadComplete:!0,samplesOnReferralLoaded:!0});case Ia:return Object(T.a)({},e,{error:n.errorCode,isLoading:!1});case Aa:return Object(T.a)({},e,n,{sampleQuestionsLoaded:!0,isLoading:!1});case xa:return Object(T.a)({},e,{isSampleUpdated:!0,samples:n});default:return e}},Ua=function(e){var t=e.tumourId;return{samples:e.samplesOnReferral.reduce(function(e,a){var n=a.id,r=a.tumourId;return r&&r!==t?e:[].concat(Object(P.a)(e),[{sampleUid:n}])},[])}},Ba=function(e){return localStorage.getItem(e)},Va=function(e){Object.entries(e).forEach(function(e){var t=Object(R.a)(e,2);return function(e,t){localStorage.setItem(e.toString(),t.toString())}(t[0],t[1])})},Ga=function(e){e.map(function(e){return function(e){return localStorage.removeItem(e)}(e)})},Qa=function(e){var t=e.probandId,a=e.allTests;return Object(W.a)({},t,a.reduce(function(e,t){var a=t.id;return t.isDefaultTest?[].concat(Object(P.a)(e),[a]):e},[]))},za=function(e,t){var a=e[t],n=Object.entries(e).reduce(function(e,t){var a=Object(R.a)(t,2),n=a[0],r=a[1];return 0===r.length?e:r.reduce(function(t,a){return Object(T.a)({},e,t,Object(W.a)({},a,[].concat(Object(P.a)(e[a]?e[a]:[]),Object(P.a)(t[a]?t[a]:[]),[n])))},{})},{});return Object.entries(n).reduce(function(e,t){var n=Object(R.a)(t,2),r=n[0],i=n[1];return a.includes(r)?[].concat(Object(P.a)(e),[{ciTestTypeUid:r,procedureRequests:i.reduce(function(e,t,a,n){return n.findIndex(function(e){return e===t})!==a?e:[].concat(Object(P.a)(e),[{patientId:t}])},[])}]):e},[])},Ha="test-list/GET_INITIAL_DATA",Ja="test-list/TOGGLE_SELECTED",Za="test-list/SAVE_START",Wa="test-list/SAVE_COMPLETE",Ya="test-list/ERROR",Ka="test-list/SET_PARTICIPANTS_NUMBER",Xa={hasError:!1,isSaving:!1,moduleIsLoading:!0,probandId:void 0,referralDataReceived:!1,testDataIsLoading:!0,testList:[],testsOnReferral:[],testsPerParticipant:{}},$a=function(e){return e.probandId},en=function(e){return e.testList},tn=function(e){return e.testsOnReferral},an=function(e){return e.testsPerParticipant||{}},nn=Object(A.a)([en,an,$a],function(e,t,a){var n=t[a]||[];return e.map(function(e){return Object(T.a)({},e,{selected:n.includes(e.id)})})}),rn=Object(A.a)([nn],function(e){return e.filter(function(e){var t=e.selected,a=e.multipleParticipantsPermitted;return t&&a})}),sn=Object(A.a)([an,$a],function(e,t){return Object.keys(e).filter(function(e){return e!==t})}),cn=function(e){return e.testList},on=Object(A.a)([cn],function(e){var t=e.testsPerParticipant,a=e.probandId;return za(t,a)}),ln=Object(A.a)([on,cn],function(e,t){return function(e,t){return e.reduce(function(e,a){var n=t.find(function(e){return e.ciTestTypeId===a.ciTestTypeUid})||{},r=(n.ciTestTypeId,n.id,n.penetrance),i=Object(L.a)(n,["ciTestTypeId","id","penetrance"]);return[].concat(Object(P.a)(e),[Object(T.a)({},i,a,r&&r.uid?{penetranceId:r.uid}:{})])},[])}(e,t.testsOnReferral)}),un=function(e,t){return ln(t).map(function(t){var a=t.procedureRequests,n=Object(L.a)(t,["procedureRequests"]);return Object(T.a)({},n,{procedureRequests:a.filter(function(t){return t.patientId!==e})})})},dn=Object(A.a)([tn],function(e){return e.every(function(e){return e.expectedNumberOfPatients})}),mn=Object(A.a)([tn,dn],function(e,t){return!!t&&e.every(function(e){return e.expectedNumberOfPatients===e.procedureRequests.length})}),pn=Object(A.a)([dn,mn],function(e,t){return e&&t}),fn=function(e){return function(){var t=Object(k.a)(w.a.mark(function t(a){var n;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fe(e);case 3:n=t.sent,a({type:Ha,payload:{testList:n}}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),Z(t.t0)("error"),a({type:Ya});case 11:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},hn=function(){return function(){var e=Object(k.a)(w.a.mark(function e(t,a){var n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=ln(a()),t({type:Za}),e.next=4,mt({tests:n})(t,a);case 4:t({type:Wa});case 5:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},bn=function(e,t){var a=t.referralData,n=t.probandPatient,r=e.testList,i=e.testDataIsLoading,s=a.tests,c=void 0===s?[]:s,o=n.id,l=!i&&0===c.length?Qa({probandId:o,allTests:r}):function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var a=t.ciTestTypeId;return t.procedureRequests.reduce(function(t,n){var r=n.patientId;return Object(T.a)({},e,t,Object(W.a)({},r,e[r]?[].concat(Object(P.a)(e[r]),[a]):[a]))},{})},{})}(c);return Object(T.a)({},e,{moduleIsLoading:i,probandId:o,referralDataReceived:!0,testsOnReferral:c,testsPerParticipant:l})},vn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xa,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case Ha:return function(e,t){var a=t.testList,n=e.testsOnReferral,r=void 0===n?[]:n,i=e.referralDataReceived,s=e.probandId,c=i&&0===r.length;return Object(T.a)({},e,{testList:a,testDataIsLoading:!1,moduleIsLoading:!i},c&&{testsPerParticipant:Qa({probandId:s,allTests:a})})}(e,n);case _n.STORE_REFERRAL:return bn(e,n);case Ja:var r=n.id,i=n.selected,s=n.patientId;return function(e,t){var a=t.patientId,n=t.participantTests,r=t.selected,i=t.id;return a?r||0!==n.length?r&&n.includes(i)?e:r?Object(T.a)({},e,{testsPerParticipant:Object(T.a)({},e.testsPerParticipant,Object(W.a)({},a,n?[].concat(Object(P.a)(n),[i]):[i]))}):Object(T.a)({},e,{testsPerParticipant:Object(T.a)({},e.testsPerParticipant,Object(W.a)({},a,n.filter(function(e){return e!==i})))}):e:Object(T.a)({},Xa,{hasError:!0})}(e,{patientId:s,participantTests:e.testsPerParticipant[s]||[],selected:i,id:r});case Ka:var c=n.testsOnReferral;return Object(T.a)({},e,{testsOnReferral:c});case Za:return Object(T.a)({},e,{isSaving:!0});case Wa:return Object(T.a)({},e,{isSaving:!1});case Ya:return Object(T.a)({},Xa,{hasError:!0});default:return e}},_n={ADD_PARTICIPANT:"referral/ADD_PARTICIPANT",CLEAR_REFERRAL:"referral/CLEAR_REFERRAL",RESET_STORE:"referral/RESET_STORE",RUN_AJAX:"referral/RUN_AJAX",SET_ACTIVE:"referral/SET_ACTIVE",SET_STAGES:"referral/SET_STAGES",SET_TUMOUR_ID:"referral/SET_TUMOUR_ID",STORE_REFERRAL:"referral/STORE_REFERRAL",UPDATE_PRIORITY:"referral/UPDATE_PRIORITY",UPDATE_CONSENT_STATUS:"referral/UPDATE_CONSENT_STATUS"},gn={activePatient:{},error:!1,isLoading:!1,otherPatients:[],probandPatient:{},referralData:null,stages:[],clinicalIndicationName:null,patientsConsent:[]},yn=function(e){return e.referralData||{}},En=Object(A.a)([yn],function(e){return e.id}),Cn=(Object(A.a)([yn],function(e){return e.participants}),Object(A.a)([yn],function(e){return e.clinicians})),On=Object(A.a)([yn],function(e){return e.tumourId}),jn=Object(A.a)([yn],function(e){var t=e.samples;return(void 0===t?[]:t).map(function(e){return e.sampleId})}),Sn=Object(A.a)([function(e){return e.activePatient}],function(e){return e}),wn=Object(A.a)([Sn],function(e){return e?e.id:void 0}),kn=Object(A.a)([function(e){return e.probandPatient}],function(e){return e}),Tn=Object(A.a)([kn],function(e){return e?e.id:void 0}),In=Object(A.a)([wn,Tn],function(e,t){return!e||e===t}),Nn=Object(A.a)([function(e){return e.otherPatients}],function(e){return e}),xn=Object(A.a)([Nn],function(e){return e.map(function(e){return e.id})}),Ln=Object(A.a)([yn],function(e){return e.clinicalIndicationId}),Pn=Object(A.a)([yn],function(e){return e.notes}),An=Object(A.a)([yn],function(e){return e.tests}),Rn=Object(A.a)([yn],function(e){return e.priority.uid}),Dn=Object(A.a)([yn],function(e){return e.tests.map(function(e){return e.ciTestTypeId})}),qn=Object(A.a)([yn],function(e){return e.orderingEntityId}),Mn=(Object(A.a)([Nn,wn],function(e,t){return e.find(function(e){return e.id===t})}),Object(A.a)([yn],function(e){var t=e.status;return t&&t.uid})),Fn=function(e){return e.patientsConsent},Un=function(e){var t=e.clinicalReason,a=e.ngisUid,n=e.priorityId,r=e.statusId,i=Object(L.a)(e,["clinicalReason","ngisUid","priorityId","statusId"]);return function(){var e=Object(k.a)(w.a.mark(function e(s){var c,d,m;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return _n.CLEAR_REFERRAL,s({type:_n.RUN_AJAX}),e.prev=2,e.next=5,se(Object(T.a)({clinicalReason:t,ngisUid:a,priorityId:n,statusId:r},i));case 5:return c=e.sent,d=c.id,Ga([o,l,u]),e.next=10,le(d);case 10:return m=e.sent,s(dt(m)),s(Re({stages:m.stages,stagesStatus:m.stagesStatus})),e.abrupt("return",{id:d});case 16:return e.prev=16,e.t0=e.catch(2),Z("Error in referral.",{error:e.t0})("error"),e.abrupt("return",{});case 20:case"end":return e.stop()}},e,null,[[2,16]])}));return function(t){return e.apply(this,arguments)}}()},Bn=function(e){return function(t,a){var n=a().referral;t(e?{type:_n.SET_ACTIVE,payload:{activePatient:Nn(n).find(function(t){return t.id===e})||kn(n)}}:{type:_n.SET_ACTIVE,payload:{activePatient:kn(n)}})}},Vn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var a=Object(k.a)(w.a.mark(function a(n,r){var i,s,c,o,l,u,d;return w.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i=r(),s=i.referral.referralData.participants,c={patientId:e,isProband:!1,relationshipToProbandId:t.uid},o=ot(s),l=ct(o,e),u=lt(o,e,c),d={participants:l?u:[].concat(Object(P.a)(o),[c])},a.prev=6,a.next=9,mt(d,e)(n,r);case 9:a.next=15;break;case 11:a.prev=11,a.t0=a.catch(6),n({type:Ee}),Z("Error updating the referral participants.",{error:a.t0})("error");case 15:case"end":return a.stop()}},a,null,[[6,11]])}));return function(e,t){return a.apply(this,arguments)}}()},Gn=function(e){return function(){var t=Object(k.a)(w.a.mark(function t(a,n){var r,i,s,c,o;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n(),i=r.sampleDetails,s=Da(i),c=Ua({tumourId:e,samplesOnReferral:s}),o=Object(T.a)({},{tumourId:e},c),t.prev=4,t.next=7,mt(o)(a,n);case 7:t.next=13;break;case 9:t.prev=9,t.t0=t.catch(4),a({type:_n.REQUEST_ERROR}),Z("Error in saving tumour selection.",{error:t.t0})("error");case 13:case"end":return t.stop()}},t,null,[[4,9]])}));return function(e,a){return t.apply(this,arguments)}}()},Qn=function(e){var t,a=e.currentActive,n=e.newActive,r=e.probandPatient,i=n||a;return(t=i)&&0!==Object.keys(t).length?i:r},zn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gn,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case _n.RUN_AJAX:return Object(T.a)({},e,{isLoading:!0});case _n.CLEAR_REFERRAL:return Object(T.a)({},e,{referralData:null});case _n.SET_TUMOUR_ID:return Object(T.a)({},e,{referralData:Object(T.a)({},e.referralData,{tumourId:n.tumourId})});case _n.SET_STAGES:return Object(T.a)({},e,{stages:n.stages});case _n.SET_ACTIVE:return Object(T.a)({},e,{activePatient:n.activePatient});case _n.ADD_PARTICIPANT:case _n.STORE_REFERRAL:var r=n.activePatient,i=n.clinicalIndicationName,s=n.otherPatients,c=n.probandPatient,o=n.patientsConsent,l=n.referralData,u=n.stages;return Object(T.a)({},e,{isLoading:!1,referralId:l.id,activePatient:Qn({currentActive:e.activePatient,newActive:r,probandPatient:c}),otherPatients:s,probandPatient:c,patientsConsent:o,referralData:l,stages:u},i&&{clinicalIndicationName:i});case _n.UPDATE_PRIORITY:var d=n.priorityObject;return Object(T.a)({},e,{referralData:Object(T.a)({},e.referralData,{priority:d})});case _n.UPDATE_CONSENT_STATUS:var m=n.consent;return Object(T.a)({},e,{isLoading:!1,patientsConsent:e.patientsConsent.map(function(e){return e.patientId===m.patientId?m:e})});default:return e}},Hn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Replaced",t=null;return function(){return t&&t.cancel(e),t=M.a.CancelToken.source()}}(),Jn=U({interceptors:{response:function(e){return e.data}}}),Zn=function(e){return B({url:"".concat("/api/OrderingEntity","/").concat(e),client:Jn}).catch(function(e){return Promise.reject(e)})},Wn=function(e){return e&&Object.keys(e).reduce(function(t,a){return Object(T.a)({},t,Object(W.a)({},a,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"uid";if(null===e||Array.isArray(e))return e;var a=typeof e;return"string"===a?e||null:"object"===a?e[t]||null:e}(e[a])))},{})},Yn=U({config:{headers:{"content-type":"application/json"}}}),Kn=function(e,t){return e?[t]:[]},Xn=function(e){var t=e.identifiers,a=e.recordFromSpine,n=e.nhsNumber,r=e.hospitalNumber,i=e.configUids,s=i.spinePatientIdIdentifierType,c=i.nhsNumberIdentifierType,o=i.hospitalIdIdentifierType;return[].concat(Object(P.a)(t.reduce(function(e,t){var a=t.type.uid,n=t.value;return[].concat(Object(P.a)(e),[{type:a,value:n}])},[])),Object(P.a)(Kn(a,{type:s,value:n})),Object(P.a)(Kn(!a&&n,{type:c,value:n})),Object(P.a)(Kn(r,{type:o,value:r})))},$n=function(e,t){var a=Wn(e),n=a.title,r=a.firstName,i=a.familyName,s=a.dateOfBirth,c=a.dateOfDeath,o=a.administrativeGender,l=a.lifeStatus,u=a.ethnicity,d=a.hospitalNumber,m=a.identifiers,p=void 0===m?[]:m,f=a.nhsNumber,h=a.isFoetalPatient,b=void 0!==h&&h,v=a.address,_=a.postcode,g=p.length>0,y={name:{prefix:n,first:r,family:i},administrativeGender:o,dateOfBirth:s,dateOfDeath:c,lifeStatus:l,ethnicity:u,isFoetalPatient:b,address:{lines:He(v),postcode:_,effective_from:(new Date).toISOString().split("T")[0]},identifiers:Xn({identifiers:p,recordFromSpine:g,nhsNumber:f,hospitalNumber:d,configUids:t})};return G({url:"/api/Patient",data:y,client:Yn}).then(function(e){return e.data}).catch(function(e){return Promise.reject(e)})},er=Object(W.a)({},f,{error:"Patient details could not be saved",success:"Patient details updated"}),tr="patient-details/RUN_AJAX",ar="patient-details/SET_PATIENT",nr="patient-details/CLEAR_PATIENT",rr="patient-details/GET_PATIENT_REFERRALS",ir="patient-details/CLEAR_PATIENT_REFERRALS",sr="patient-details/STORE_PATIENT",cr="patient-details/EDIT_PATIENT",or={patient:{},referrals:[],isLoading:!1,success:!1,isEditParticipant:!1},lr=function(e){return e.isEditParticipant},ur=function(e,t){return function(){var a=Object(k.a)(w.a.mark(function a(n){var r,i;return w.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Xe(e);case 3:r=a.sent,i=We(r),n({type:sr,payload:{isLoading:!1,patient:i,success:t}}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),Z("Error in patient details",{error:a.t0})("error");case 11:case"end":return a.stop()}},a,null,[[0,8]])}));return function(e){return a.apply(this,arguments)}}()},dr=function(e){return function(){var t=Object(k.a)(w.a.mark(function t(a){var n,r;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:tr}),n=e.map(function(){var e=Object(k.a)(w.a.mark(function e(t){var a,n,r,i,s,c,o,l,u,d,m,p,f,h;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=t.dateSubmitted,r=t.humanReadableId,i=t.status,s=t.clinicians,c=t.tests,o=t.orderingEntityId,l=t.clinicalIndicationId,u={id:a,dateSubmitted:n,humanReadableId:r,clinicians:s,tests:c,status:i,orderingEntityId:o},e.prev=2,e.next=5,he(l);case 5:return d=e.sent,m=d.displayName,p=d.code,e.next=10,Zn(o);case 10:return f=e.sent,h=f.organisationName,e.abrupt("return",Object(T.a)({},u,{clinicalIndication:{displayName:m,code:p},orderingEntityName:h}));case 15:return e.prev=15,e.t0=e.catch(2),Z("Error in patient get clinical indication",{error:e.t0})("error"),e.abrupt("return",Object(T.a)({},u,{clinicalIndication:{displayName:null,code:null}}));case 19:case"end":return e.stop()}},e,null,[[2,15]])}));return function(t){return e.apply(this,arguments)}}()),t.next=4,Promise.all(n);case 4:r=t.sent,a({type:rr,payload:{referrals:r}});case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},mr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case tr:return Object(T.a)({},e,{isLoading:!0});case ar:return Object(T.a)({},e,{patient:Object(T.a)({},n)});case nr:return Object(T.a)({},e,{patient:or.patient,success:!1});case cr:var r=n.isEditParticipant;return Object(T.a)({},e,{isEditParticipant:r});case rr:var i=n.referrals;return Object(T.a)({},e,{referrals:i,isLoading:!1});case ir:return Object(T.a)({},e,{referrals:or.referrals});case sr:var s=n.isLoading,c=n.patient,o=n.success;return Object(T.a)({},e,{isLoading:s,patient:c,success:o});default:return e}},pr=a(10),fr=a(9),hr=a(11),br=a(4),vr=a.n(br),_r=a(1),gr=a.n(_r),yr=(gr.a.func.isRequired,gr.a.shape({path:gr.a.string,isComplete:gr.a.bool,isLocked:gr.a.bool,isMandatory:gr.a.bool}).isRequired,gr.a.string,gr.a.func,gr.a.bool,gr.a.func,gr.a.shape({path:gr.a.string,isComplete:gr.a.bool,isLocked:gr.a.bool,isMandatory:gr.a.bool}),gr.a.string,gr.a.string,gr.a.func.isRequired,gr.a.func.isRequired,gr.a.func.isRequired,{uid:gr.a.string,code:gr.a.string,display:gr.a.string,codesystemUri:gr.a.string}),Er=(gr.a.arrayOf(gr.a.shape(yr)).isRequired,gr.a.func,gr.a.shape({dateOfBirth:gr.a.string,familyName:gr.a.string,firstName:gr.a.string,nhsNumber:gr.a.string,title:gr.a.string,ethnicity:gr.a.shape(yr),administrativeGender:gr.a.shape(yr),lifeStatus:gr.a.shape(yr)}).isRequired,Object(n.createContext)({codes:{},config:{}})),Cr=a(13),Or=function(e){var t=e.fill,a=void 0===t?"inherit":t,n=e.height,i=void 0===n?"20":n,s=e.width,c=void 0===s?"16":s;return r.a.createElement("svg",{fill:a,width:c,height:i,viewBox:"0 0 20 20"},r.a.createElement("rect",{y:"9",width:"20",height:"2",rx:"1"}))},jr=function(e){var t=e.fill,a=void 0===t?"inherit":t,n=e.height,i=void 0===n?"26":n,s=e.width,c=void 0===s?"26":s;return r.a.createElement("svg",{fill:a,width:c,height:i,viewBox:"0 0 26 26"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.402 13.546H19.02c.466 0 .875.363.875.776v2.44h.702c.277 0 .477-.18.477-.43v-6.03c0-.249-.2-.429-.477-.429H4.826c-.278 0-.478.18-.478.43v6.028c0 .25.2.43.478.43h.702v-2.44c0-.412.41-.775.874-.775zM18.144 8.32H7.276V5.45h10.868v2.87zm0 11.655H7.276v-4.878h10.868v4.878zm1.75-11.654h.702c1.228 0 2.226.888 2.226 1.98v6.03c0 1.092-.998 1.98-2.226 1.98h-.702v2.44c0 .413-.409.776-.875.776H6.402c-.465 0-.874-.363-.874-.776v-2.44h-.702c-1.228 0-2.226-.888-2.226-1.98v-6.03c0-1.092.998-1.98 2.226-1.98h.702V4.676c0-.413.41-.776.874-.776H19.02c.466 0 .875.363.875.776v3.646zm-2.65 3.214c0-.77.713-1.407 1.577-1.407.863 0 1.577.637 1.577 1.407s-.714 1.407-1.577 1.407c-.864 0-1.577-.637-1.577-1.407z"}))},Sr=function(e){var t=e.fill,a=void 0===t?"inherit":t,n=e.height,i=void 0===n?"24":n,s=e.width,c=void 0===s?"24":s;return r.a.createElement("svg",{fill:a,width:c,height:i,viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M11.99,2 C6.47,2 2,6.48 2,12 C2,17.52 6.47,22 11.99,22 C17.52,22 22,17.52 22,12 C22,6.48 17.52,2 11.99,2 Z M12,20 C7.58,20 4,16.42 4,12 C4,7.58 7.58,4 12,4 C16.42,4 20,7.58 20,12 C20,16.42 16.42,20 12,20 Z M12.5,7 L11,7 L11,13 L16.25,16.15 L17,14.92 L12.5,12.25 L12.5,7 Z"}))},wr=function(e){var t=e.fill,a=void 0===t?"inherit":t,n=e.height,i=void 0===n?"24":n,s=e.width,c=void 0===s?"24":s;return r.a.createElement("svg",{fill:a,width:c,height:i,viewBox:"0 0 24 24"},r.a.createElement("polygon",{points:"8.926 18.652 4 13.725 5.767 11.957 8.841 15.031 17.959 5 19.808 6.682"}))},kr=function(e){var t=e.fill,a=void 0===t?"inherit":t,n=e.height,i=void 0===n?"24":n,s=e.width,c=void 0===s?"24":s;return r.a.createElement("svg",{fill:a,width:c,height:i,viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M21.707,20.293 L16.314,14.9 C17.403,13.504 18,11.799 18,10 C18,7.863 17.167,5.854 15.656,4.344 C14.146,2.832 12.137,2 10,2 C7.863,2 5.854,2.832 4.344,4.344 C2.833,5.854 2,7.863 2,10 C2,12.137 2.833,14.146 4.344,15.656 C5.854,17.168 7.863,18 10,18 C11.799,18 13.504,17.404 14.9,16.314 L20.293,21.706 L21.707,20.293 Z M10,16 C8.397,16 6.891,15.376 5.758,14.243 C4.624,13.11 4,11.603 4,10 C4,8.398 4.624,6.891 5.758,5.758 C6.891,4.624 8.397,4 10,4 C11.603,4 13.109,4.624 14.242,5.758 C15.376,6.891 16,8.398 16,10 C16,11.603 15.376,13.11 14.242,14.243 C13.109,15.376 11.603,16 10,16 Z"}))},Tr=function(e){var t=e.fill,a=void 0===t?"inherit":t,n=e.height,i=void 0===n?"24":n,s=e.width,c=void 0===s?"24":s;return r.a.createElement("svg",{fill:a,width:c,height:i,viewBox:"0 0 24 24"},r.a.createElement("polygon",{points:"21 11 13 11 13 3 11 3 11 11 3 11 3 13 11 13 11 21 13 21 13 13 21 13"}))},Ir=function(e){var t=e.fill,a=void 0===t?"inherit":t,n=e.height,i=void 0===n?"24":n,s=e.width,c=void 0===s?"24":s;return r.a.createElement("svg",{fill:a,fillRule:"evenodd",width:c,height:i,viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M12,22 C6.486,22 2,17.515 2,12 C2,6.487 6.486,2 12,2 C17.514,2 22,6.486 22,12 C22,17.515 17.514,22 12,22 Z M12,4 C16.411,4 20,7.589 20,12 C20,16.411 16.411,20 12,20 C7.589,20 4,16.411 4,12 C4,7.589 7.589,4 12,4 Z M13,15 L13,11 C13,10.448 12.553,10 12,10 L10,10 L10,12 L11,12 L11,15 L9,15 L9,17 L15,17 L15,15 L13,15 Z M12,9.25 C12.6903559,9.25 13.25,8.69035594 13.25,8 C13.25,7.30964406 12.6903559,6.75 12,6.75 C11.3096441,6.75 10.75,7.30964406 10.75,8 C10.75,8.69035594 11.3096441,9.25 12,9.25 Z"}))},Nr=function(e){var t=e.fill,a=void 0===t?"inherit":t,n=e.height,i=void 0===n?"24":n,s=e.width,c=void 0===s?"24":s;return r.a.createElement("svg",{fill:a,width:c,height:i,viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M12,2 C6.5,2 2,6.5 2,12 C2,17.5 6.5,22 12,22 C17.5,22 22,17.5 22,12 C22,6.5 17.5,2 12,2 Z M12,20 C7.6,20 4,16.4 4,12 C4,7.6 7.6,4 12,4 C16.4,4 20,7.6 20,12 C20,16.4 16.4,20 12,20 Z M13,14.4 L11,14.4 L11,12.3 C11,11.7477153 11.4477153,11.3 12,11.3 C12.8477153,11.3 13.5,10.6477153 13.5,9.8 C13.5,8.95228475 12.8477153,8.3 12,8.3 C11.1522847,8.3 10.5,8.95228475 10.5,9.8 L8.5,9.8 C8.5,7.84771525 10.0477153,6.3 12,6.3 C13.9522847,6.3 15.5,7.84771525 15.5,9.8 C15.5,11.4039031 14.4553736,12.7347431 13,13.1586407 L13,14.4 Z M12,17.8 C11.3372583,17.8 10.8,17.2627417 10.8,16.6 C10.8,15.9372583 11.3372583,15.4 12,15.4 C12.6627417,15.4 13.2,15.9372583 13.2,16.6 C13.2,17.2627417 12.6627417,17.8 12,17.8 Z"}))},xr=function(e){var t=e.fill,a=void 0===t?"inherit":t,n=e.height,i=void 0===n?"24":n,s=e.width,c=void 0===s?"24":s;return r.a.createElement("svg",{fill:a,fillRule:"evenodd",width:c,height:i,viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M12.00025,22.00025 C11.74425,22.00025 11.48825,21.90225 11.29325,21.70725 L2.29325,12.70725 C1.90225,12.31625 1.90225,11.68425 2.29325,11.29325 L11.29325,2.29325 C11.68425,1.90225 12.31625,1.90225 12.70725,2.29325 L21.70725,11.29325 C22.09825,11.68325 22.09825,12.31625 21.70725,12.70725 L12.70725,21.70725 C12.51225,21.90325 12.25625,22.00025 12.00025,22.00025 Z M4.41425,12.00025 L12.00025,4.41525 L19.58625,12.00025 L12.00025,19.58625 L4.41425,12.00025 Z M11.00025,8.00025 L11.00025,14.00025 L13.00025,14.00025 L13.00025,8.00025 L11.00025,8.00025 Z M12.00025,17.25025 C12.6906059,17.25025 13.25025,16.6906059 13.25025,16.00025 C13.25025,15.3098941 12.6906059,14.75025 12.00025,14.75025 C11.3098941,14.75025 10.75025,15.3098941 10.75025,16.00025 C10.75025,16.6906059 11.3098941,17.25025 12.00025,17.25025 Z"}))},Lr=function(e){var t=e.fill,a=void 0===t?"inherit":t,n=e.height,i=void 0===n?"24":n,s=e.width,c=void 0===s?"24":s;return r.a.createElement("svg",{fill:a,transform:"rotate(-180.000000)",width:c,height:i,viewBox:"0 0 24 24"},r.a.createElement("polygon",{points:"15.497789 15 17 13.6138152 12 9 7 13.6138152 8.50221105 15 12 11.7723697"}))},Pr=function(e){var t=e.fill,a=void 0===t?"inherit":t,n=e.height,i=void 0===n?"24":n,s=e.width,c=void 0===s?"24":s;return r.a.createElement("svg",{fill:a,fillRule:"nonzero",width:c,height:i,viewBox:"0 0 24 24"},r.a.createElement("polygon",{points:"15.497789 15 17 13.6138152 12 9 7 13.6138152 8.50221105 15 12 11.7723697"}))},Ar=function(e){var t=e.fill,a=void 0===t?"inherit":t,n=e.height,i=void 0===n?"10":n,s=e.width,c=void 0===s?"6":s;return r.a.createElement("svg",{fill:a,width:c,height:i,viewBox:"0 0 6 10"},r.a.createElement("polygon",{transform:"translate(3.000000, 5.000000) rotate(-270.000000) translate(-3.000000, -5.000000) ",points:"6.49778895 8 8 6.61381517 3 2 -2 6.61381517 -0.497788952 8 3 4.77236965"}))},Rr=function(e){var t=e.fill,a=void 0===t?"inherit":t,n=e.height,i=void 0===n?"15":n,s=e.width,c=void 0===s?"15":s;return r.a.createElement("svg",{fill:a,width:c,height:i,viewBox:"0 0 20 20"},r.a.createElement("path",{d:"m12 4.5438l-1.3141 1.3142 5.2007 5.21h-11.343v1.8641h11.343l-5.2007 5.21 1.3141 1.3142 7.4562-7.4562-7.4562-7.4562z"}))},Dr=function(e){var t=e.fill,a=void 0===t?"inherit":t;return r.a.createElement("svg",{fill:a,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},r.a.createElement("circle",{cx:"50",cy:"50",fill:"none",strokeWidth:"10",r:"45",strokeDasharray:"188.49555921538757 64.83185307179586",transform:"rotate(257.01 50 50)",stroke:"currentcolor"}))},qr=function(e){var t=e.fill,a=void 0===t?"inherit":t,n=e.height,i=void 0===n?"24px":n,s=e.width,c=void 0===s?"24px":s;return r.a.createElement("svg",{focusable:"false",width:c,height:i,viewBox:"0 0 24 24"},r.a.createElement("path",{fill:a,d:"M12,2 C15.9800563,2 19.2,5.18133663 19.2,9.11367207 C19.2,10.3241181 18.8406747,11.6757186 18.1820891,13.1525505 C17.613361,14.4278835 16.8338365,15.7682547 15.896068,17.1414966 C15.1910146,18.1739571 14.4371603,19.1661578 13.6831873,20.0840216 C13.4190593,20.4055629 13.1734766,20.6951955 12.9525509,20.9485525 C12.818633,21.1021292 12.7217058,21.210549 12.6678924,21.2694137 L12,22 L11.3321076,21.2694137 C11.2782942,21.210549 11.181367,21.1021292 11.0474491,20.9485525 C10.8265234,20.6951955 10.5809407,20.4055629 10.3168127,20.0840216 C9.56283967,19.1661578 8.80898544,18.1739571 8.103932,17.1414966 C7.16616353,15.7682547 6.38663903,14.4278835 5.81791086,13.1525505 C5.15932533,11.6757186 4.8,10.3241181 4.8,9.11367207 C4.8,5.18133663 8.01994373,2 12,2 Z M12.2855627,18.9633179 C13.0081522,18.0836595 13.7308604,17.1324522 14.403932,16.1468251 C15.2861739,14.8548947 16.0142467,13.6029933 16.5348854,12.4354976 C17.1011805,11.1656205 17.4,10.0416124 17.4,9.11367207 C17.4,6.16352978 14.9859437,3.77841802 12,3.77841802 C9.01405627,3.77841802 6.6,6.16352978 6.6,9.11367207 C6.6,10.0416124 6.8988195,11.1656205 7.46511463,12.4354976 C7.98575328,13.6029933 8.71382606,14.8548947 9.596068,16.1468251 C10.2691396,17.1324522 10.9918478,18.0836595 11.7144373,18.9633179 C11.8125132,19.0827124 11.9078215,19.1973964 12,19.3071045 C12.0921785,19.1973964 12.1874868,19.0827124 12.2855627,18.9633179 Z M12,12.2259036 C10.2609437,12.2259036 8.85,10.8318771 8.85,9.11367207 C8.85,7.39546706 10.2609437,6.00144054 12,6.00144054 C13.7390563,6.00144054 15.15,7.39546706 15.15,9.11367207 C15.15,10.8318771 13.7390563,12.2259036 12,12.2259036 Z M12,10.4474856 C12.7449437,10.4474856 13.35,9.84968392 13.35,9.11367207 C13.35,8.37766021 12.7449437,7.77985855 12,7.77985855 C11.2550563,7.77985855 10.65,8.37766021 10.65,9.11367207 C10.65,9.84968392 11.2550563,10.4474856 12,10.4474856 Z",id:"path-location-1"}))},Mr=function(e){var t=e.fill,a=void 0===t?"inherit":t,n=e.height,i=void 0===n?"17px":n,s=e.width,c=void 0===s?"19px":s;return r.a.createElement("svg",{width:c,height:i,viewBox:"0 0 19 17"},r.a.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:"1",fill:a,fillRule:"evenodd"},r.a.createElement("g",{id:"Icon/External",transform:"translate(-3.000000, -4.000000)",fill:a,fillRule:"nonzero"},r.a.createElement("path",{d:"M17.5786777,13.9045864 C17.6774629,13.9045864 17.7587324,13.9376205 17.8223008,14.0039977 C17.8860547,14.0701045 17.9178203,14.1547182 17.9178203,14.2578386 L17.9178203,17.7875795 C17.9178203,18.6626159 17.6193867,19.4110023 17.0224824,20.0321591 C16.4256152,20.6535864 15.7068066,20.9644545 14.8663906,20.9644545 L6.05131836,20.9644545 C5.21086523,20.9644545 4.49213086,20.6535864 3.89518945,20.0321591 C3.29843359,19.4110023 3,18.6625773 3,17.7875795 L3,8.60982045 C3,7.73478409 3.29843359,6.986475 3.89515234,6.365125 C4.49209375,5.74373636 5.21082812,5.43302273 6.05128125,5.43302273 L13.510043,5.43302273 C13.6090879,5.43302273 13.6903574,5.46605682 13.7538516,5.53224091 C13.8173457,5.59830909 13.8490742,5.68296136 13.8490742,5.78581136 L13.8490742,6.49189091 C13.8490742,6.59493409 13.8173457,6.67943182 13.7538516,6.74561591 C13.6903574,6.81172273 13.6090879,6.84491136 13.510043,6.84491136 L6.05128125,6.84491136 C5.58511328,6.84491136 5.18600195,7.01765455 4.85398437,7.36333409 C4.52200391,7.708975 4.35608789,8.12435455 4.35608789,8.60970455 L4.35608789,17.787425 C4.35608789,18.2728523 4.52204102,18.6882705 4.85398437,19.0339114 C5.18600195,19.3795136 5.58511328,19.5521795 6.05128125,19.5521795 L14.8663906,19.5521795 C15.3325957,19.5521795 15.7317441,19.3795136 16.0636875,19.0339114 C16.3956309,18.6882318 16.5615098,18.2728136 16.5615098,17.787425 L16.5615098,14.2575682 C16.5615098,14.1545636 16.5932383,14.0699886 16.6569922,14.0039977 C16.7202266,13.9376205 16.8014961,13.9045864 16.900541,13.9045864 L17.5786777,13.9045864 Z M21.7847285,4.23069773 C21.9188418,4.37036818 21.9861211,4.53573182 21.9861582,4.72705909 L21.9861582,10.3749227 C21.9861582,10.5661341 21.9191016,10.731575 21.784877,10.8712841 C21.6506152,11.0110318 21.4916387,11.080925 21.3079844,11.080925 C21.1243301,11.080925 20.9653535,11.0110318 20.8312402,10.8712841 L18.966457,8.92988409 L12.0586211,16.1219659 C11.9880391,16.1955295 11.9067324,16.2321568 11.8149238,16.2321568 C11.7231152,16.2321568 11.6418457,16.1954909 11.5712266,16.1219659 L10.3633906,14.8645841 C10.2927715,14.7910591 10.2574063,14.7064841 10.2574063,14.6107045 C10.2574063,14.5152727 10.2926602,14.4306591 10.3633906,14.3571341 L17.2711895,7.16493636 L15.4065547,5.22353636 C15.2723301,5.08378864 15.205125,4.91827045 15.205125,4.72705909 C15.205125,4.53584773 15.2723301,4.37036818 15.4065547,4.23069773 C15.540668,4.09095 15.6996816,4.02113409 15.8832988,4.02113409 L21.307873,4.02113409 C21.4913789,4.02113409 21.6505039,4.09095 21.7847285,4.23069773 Z",id:"Icon_Exteral-link"}))))},Fr=function(e){var t=e.fill,a=void 0===t?"inherit":t,n=e.height,i=void 0===n?"22px":n,s=e.width,c=void 0===s?"16px":s;return r.a.createElement("svg",{width:c,height:i,viewBox:"0 0 16 22"},r.a.createElement("path",{d:"M14 7h-1V5c0-2.76-2.24-5-5-5S3 2.24 3 5v2H2C.9 7 0 7.9 0 9v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H4.9V5c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z",fill:a,fillRule:"nonzero"}))},Ur=function(e){var t=e.fill,a=void 0===t?"inherit":t,n=e.height,i=void 0===n?"20px":n,s=e.width,c=void 0===s?"20px":s;return r.a.createElement("svg",{width:c,height:i,viewBox:"0 0 20 20",fill:a,xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M5.1 8.21429L5.1 9.35714C5.1 9.90943 5.54772 10.3571 6.1 10.3571L9.65 10.3571L9.65 11.7857L8.55 11.7857C7.99772 11.7857 7.55 12.2334 7.55 12.7857L7.55 14C7.55 14.5523 7.99771 15 8.55 15L11.45 15C12.0023 15 12.45 14.5523 12.45 14L12.45 12.7857C12.45 12.2334 12.0023 11.7857 11.45 11.7857L10.35 11.7857L10.35 10.3571L13.9 10.3571C14.4523 10.3571 14.9 9.90943 14.9 9.35714L14.9 8.21429L16 8.21429C16.5523 8.21429 17 7.76657 17 7.21429L17 6C17 5.44772 16.5523 5 16 5L13.1 5C12.5477 5 12.1 5.44772 12.1 6L12.1 7.21429C12.1 7.76657 12.5477 8.21429 13.1 8.21429L14.2 8.21429L14.2 9.64286L5.8 9.64286L5.8 8.21429L6.9 8.21429C7.45228 8.21429 7.9 7.76657 7.9 7.21429L7.9 6C7.9 5.44772 7.45229 5 6.9 5L4 5C3.44772 5 3 5.44772 3 6L3 7.21429C3 7.76657 3.44771 8.21429 4 8.21429L5.1 8.21429Z",fill:"#4A8BCA"}))},Br=function(e){var t=e.fill,a=void 0===t?"inherit":t,n=e.height,i=void 0===n?"20":n,s=e.width,c=void 0===s?"20":s;return r.a.createElement("svg",{width:c,height:i,viewBox:"0 0 20 20",fill:a,xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M13 2h4a1 1 0 1 1 0 2H3a1 1 0 0 1 0-2h4V1a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v1zM4 5h12a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1zm1 13h10V7H5v11zm3.7-2.38A.9.9 0 0 1 8 16a.8.8 0 0 1-.38-.1 1.03 1.03 0 0 1-.33-.28 1.62 1.62 0 0 1-.3-.91v-4.42c.01-.34.12-.67.3-.91A.9.9 0 0 1 8 9a.9.9 0 0 1 .7.38c.2.24.3.57.3.91v4.42c0 .34-.1.67-.3.91zM12 16c.27 0 .52-.13.7-.36.2-.23.3-.55.3-.88v-4.52c0-.33-.1-.65-.3-.88A.91.91 0 0 0 12 9a.91.91 0 0 0-.7.36c-.2.23-.3.55-.3.88v4.52c0 .33.1.65.3.88.18.23.43.36.7.36z"}))},Vr=function(e){var t=e.fill,a=void 0===t?"inherit":t,n=e.height,i=void 0===n?"20":n,s=e.width,c=void 0===s?"20":s;return r.a.createElement("svg",{width:c,height:i,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fill:a,d:"M19.7 3.9L16.1.3a1.04 1.04 0 0 0-1.46 0L2.08 12.85c-.12.12-.2.25-.26.4L.05 18.65a1.04 1.04 0 0 0 .25 1.04 1.04 1.04 0 0 0 .74.3c.1.02.22.02.33 0l5.37-1.79c.15-.05.3-.14.4-.25L19.7 5.36a1.04 1.04 0 0 0 0-1.47zM5.84 16.26L2.73 17.3l1.04-3.13 8.05-8.05 2.08 2.08-8.05 8.06zm9.53-9.54l-2.09-2.08 2.09-2.08 2.08 2.08-2.08 2.08z"}))},Gr=function(e){var t=e.fill,a=void 0===t?"inherit":t,n=e.height,i=void 0===n?"20":n,s=e.width,c=void 0===s?"20":s;return r.a.createElement("svg",{width:c,height:i,viewBox:"0 0 20 20",fill:a,xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M8.93951 7.12843C8.85478 7.05955 8.75339 7.01644 8.64656 7.00385C8.53974 6.99126 8.43165 7.00969 8.33427 7.05711C8.23517 7.10323 8.1511 7.17835 8.0923 7.27332C8.0335 7.36829 8.0025 7.47901 8.0031 7.592V12.3465C7.99063 12.4694 8.016 12.5931 8.07552 12.6999C8.13505 12.8068 8.22566 12.8911 8.33427 12.9409C8.43133 12.9897 8.53969 13.0088 8.64679 12.9962C8.7539 12.9836 8.85538 12.9397 8.93951 12.8695L11.7944 10.4923C11.8585 10.4347 11.9099 10.3636 11.9454 10.2836C11.9808 10.2037 11.9994 10.1168 12 10.0287C11.9987 9.94078 11.9798 9.85411 11.9444 9.77427C11.909 9.69444 11.8579 9.62319 11.7944 9.56514L8.93951 7.12843Z",fill:"#4A8BCA"}),r.a.createElement("path",{d:"M3.94534 7.13646C3.85882 7.06246 3.75388 7.01633 3.6431 7.0036C3.53232 6.99087 3.4204 7.01208 3.32078 7.06469C3.22522 7.11401 3.14474 7.19064 3.08852 7.28582C3.03231 7.38101 3.00261 7.49092 3.00282 7.60303V12.3883C2.99123 12.5103 3.01552 12.6331 3.07239 12.7401C3.12926 12.8471 3.21597 12.9331 3.32078 12.9865C3.40317 13.0045 3.48821 13.0045 3.5706 12.9865C3.70629 12.9902 3.83892 12.9436 3.94534 12.8549L6.78424 10.4622C6.85178 10.4071 6.90638 10.3364 6.9438 10.2555C6.98121 10.1746 7.00044 10.0857 6.99999 9.99566C6.9988 9.90597 6.97884 9.81765 6.94155 9.73701C6.90426 9.65636 6.85054 9.58538 6.78424 9.5291L3.94534 7.13646Z",fill:"#4A8BCA"}),r.a.createElement("path",{d:"M13.9395 7.12843C13.8548 7.05955 13.7534 7.01644 13.6466 7.00385C13.5397 6.99126 13.4316 7.00969 13.3343 7.05711C13.2352 7.10323 13.1511 7.17835 13.0923 7.27332C13.0335 7.36829 13.0025 7.47901 13.0031 7.592V12.3465C12.9906 12.4694 13.016 12.5931 13.0755 12.6999C13.1351 12.8068 13.2257 12.8911 13.3343 12.9409C13.4313 12.9897 13.5397 13.0088 13.6468 12.9962C13.7539 12.9836 13.8554 12.9397 13.9395 12.8695L16.7944 10.4923C16.8585 10.4347 16.9099 10.3636 16.9454 10.2836C16.9808 10.2037 16.9994 10.1168 17 10.0287C16.9987 9.94078 16.9798 9.85411 16.9444 9.77427C16.909 9.69444 16.8579 9.62319 16.7944 9.56514L13.9395 7.12843Z",fill:"#4A8BCA"}))},Qr=a(186),zr=a.n(Qr),Hr=vr.a.bind(zr.a),Jr=function(e){function t(){return Object(g.a)(this,t),Object(pr.a)(this,Object(fr.a)(t).apply(this,arguments))}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:Hr("error-message")},r.a.createElement(xr,null),r.a.createElement("div",{className:Hr("error-message__text")},this.props.children))}}]),t}(n.PureComponent),Zr=a(187),Wr=a.n(Zr),Yr=a(188),Kr=a.n(Yr),Xr=vr.a.bind(Kr.a),$r=(Array.apply("",{length:8}).map(function(e,t){return"".concat(t+1)}),function(e){var t=e.children,a=e.className,n=e.element,i=void 0===n?"div":n,s=e.size,c=void 0===s?"7":s,o=Object(L.a)(e,["children","className","element","size"]);return r.a.createElement(i,Object.assign({},o,{className:Xr("text","text--".concat(c),{rtc:"div"===i},a)}),t)}),ei=vr.a.bind(Wr.a),ti=function(e){var t=e.children;return r.a.createElement("div",{className:ei("hint")},r.a.createElement(Nr,null),r.a.createElement($r,{element:"p",className:ei("hint__text")},t))},ai=a(189),ni=a.n(ai),ri=vr.a.bind(ni.a),ii=function(e){var t=e.children,a=e.className,n=Object(L.a)(e,["children","className"]);return r.a.createElement("div",Object.assign({},n,{className:ri("field-group",a)}),t)},si=a(190),ci=a.n(si),oi={formik:gr.a.object.isRequired,form:gr.a.object,name:gr.a.string},li=(Object(T.a)({},oi,{field:gr.a.shape({name:gr.a.string.isRequired,value:gr.a.oneOfType([gr.a.string,gr.a.number,gr.a.object]),onBlur:gr.a.func.isRequired,onChange:gr.a.func.isRequired}).isRequired}),vr.a.bind(ci.a)),ui=function(e){function t(){return Object(g.a)(this,t),Object(pr.a)(this,Object(fr.a)(t).apply(this,arguments))}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.element,n=void 0===a?"label":a,i=e.hasError,s=e.id,c=e.name,o=e.required,l=e.requiredByReferral,u=e.size,d=e.hide,m=Object(L.a)(e,["children","element","hasError","id","name","required","requiredByReferral","size","hide"]),p=li("field-label",{"field-label--error":!!i}),f="label"===n?s||c:null;return r.a.createElement($r,Object.assign({element:n,size:u||"6",className:li("field-label",d&&"field-label--visually-hidden",p)},m,{htmlFor:f}),t,(o||l)&&r.a.createElement("span",{className:li("field-label__required-icon"),"aria-hidden":!0}," ","\u2731"))}}]),t}(n.PureComponent),di=Object(Cr.f)(function(e){var t=e.formik,a=e.children,n=e.name,i=e.required,s=e.customValidation,c=Object(L.a)(e,["formik","children","name","required","customValidation"]),o=!!s&&s(t),l=Object(Cr.g)(t.errors,n),u=Object(Cr.g)(t.touched,n)&&l;return r.a.createElement(ui,Object.assign({name:n,required:i},c,{hasError:o||!!u}),a)}),mi=a(191),pi=a.n(mi),fi=vr.a.bind(pi.a),hi=function(e){function t(){return Object(g.a)(this,t),Object(pr.a)(this,Object(fr.a)(t).apply(this,arguments))}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.hasError,n=(e.id,e.name),i=e.type,s=void 0===i?"text":i,c=e.value,o=e.callRef,l=Object(L.a)(e,["className","hasError","id","name","type","value","callRef"]),u=void 0!==c&&null!==c&&{value:c},d=o&&{ref:o};return r.a.createElement("input",Object.assign({type:s,id:n,name:n},d,l,u,{className:fi("text-input","text-input--".concat(s),{"text-input--error":a},t),autoComplete:"autoComplete_off",list:"autocompleteOff"}))}}]),t}(n.PureComponent),bi=Object(Cr.f)(function(e){var t=e.formik,a=e.field,n=(e.form,e.limitNumberOfCharacters),i=(e.onChange,Object(L.a)(e,["formik","field","form","limitNumberOfCharacters","onChange"])),s=Object(Cr.g)(t.errors,a.name),c=Object(Cr.g)(t.touched,a.name)&&s;return r.a.createElement(hi,Object.assign({hasError:!!c},i,a,n>0?{onChange:function(e){t.setFieldValue(a.name,e.target.value.substring(0,n))}}:{}))}),vi=function(e){return e?"":" or leave blank"},_i=function(e){return""===e||null===e},gi=function(e){var t=function(e){var t=Ct(e);return"number"===typeof t&&Number.isInteger(t)}(e),a=Ct(e);return t&&a>0},yi=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=Ct(e);return n>=t&&(!a||n<=a)},Ei=function(e,t){var a=_i(e);return!(!t&&a)&&(t&&a?"Enter a day":yi(e,1,31)?!gi(e)&&"Enter a whole number between 1 and 31":"Enter a day between 1 and 31".concat(vi(t)))},Ci=function(e,t,a){var n=_i(e);return!(!t&&!a&&n)&&(t&&n?"Enter a month":a&&n?"Enter a month if a day has been entered":yi(e,1,12)?!gi(e)&&"Enter a whole number between 1 and 12":"Enter a month between 1 and 12".concat(vi(t)))},Oi=function(e,t){var a,n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1900,i=_i(e);return!(!t&&i)&&(t&&i?"Enter a year":!(e>0)||gi(e)&&(a="".concat(e).length,n=4,a>=4&&a<=n)?!yi(e,r)&&"Enter a year beyond ".concat(r):"Enter a year in 4 figures e.g. 1983")},ji=a(192),Si=a.n(ji),wi=vr.a.bind(Si.a),ki=Object(Cr.f)(function(e){var t=e.label,a=e.day,n=e.month,i=e.year,s=e.hint,c=e.required,o=e.fuzzy,l=(o=void 0===o?{}:o).dayRequired,u=o.monthRequired,d=o.yearRequired;return r.a.createElement(ii,null,r.a.createElement("fieldset",null,r.a.createElement(di,{required:c||l||u||d,element:"legend",name:"date-group",customValidation:function(e){return[a,n,i].reduce(function(t,a){var n=Object(Cr.g)(e.errors,a);return!(!Object(Cr.g)(e.touched,a)||!n)||t},!1)}},t),r.a.createElement("div",{className:wi("date-multi")},r.a.createElement(Cr.b,{className:wi("date-multi__day"),id:a,name:a,component:bi,placeholder:"DD",required:c||l,type:"number",validate:function(e){return Ei(e,c||l)},limitNumberOfCharacters:2}),r.a.createElement(Cr.b,{className:wi("date-multi__month"),id:n,name:n,component:bi,placeholder:"MM",required:c||u,type:"number",validate:function(e){return Ci(e,c||u)},limitNumberOfCharacters:2}),r.a.createElement(Cr.b,{className:wi("date-multi__year"),id:i,name:i,component:bi,placeholder:"YYYY",required:c||d,type:"number",validate:function(e){return Oi(e,c||d)},limitNumberOfCharacters:4})),s&&r.a.createElement(ti,null,s),r.a.createElement(Cr.a,{name:a,component:Jr}),r.a.createElement(Cr.a,{name:n,component:Jr}),r.a.createElement(Cr.a,{name:i,component:Jr})))}),Ti=a(193),Ii=(a(411),a(412),function(e){function t(){return Object(g.a)(this,t),Object(pr.a)(this,Object(fr.a)(t).apply(this,arguments))}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"shouldComponentUpdate",value:function(e){var t=e.dateString,a=this.props.dateString;return!a||a!==t}},{key:"render",value:function(){var e=this.props,t=(e.onBlur,e.value),a=e.hasError,n=Object(L.a)(e,["onBlur","value","hasError"]),i=t||null;return r.a.createElement(Ti.a,Object.assign({autoComplete:"off",customInput:r.a.createElement(hi,{hasError:a}),dateFormat:["dd/MM/yyyy","dd-MM-yyyy"],disabledKeyboardNavigation:!0,placeholderText:"DD/MM/YYYY",selected:i},n))}}]),t}(n.Component)),Ni={Multi:ki,Picker:Object(Cr.f)(function(e){var t,a=e.formik,n=e.field,i=e.form,s=e.onChange,c=Object(L.a)(e,["formik","field","form","onChange"]),o=Object(Cr.g)(a.errors,n.name),l=Object(Cr.g)(a.touched,n.name)&&o,u=n.value,d=Object(L.a)(n,["value"]),m=u?(t=u,jt()(t).toDate()):null;return r.a.createElement(Ii,Object.assign({hasError:!!l},c,d,{value:m,dateString:u,onChange:function(e){var t=e?kt(e):null;i.setFieldValue(n.name,t),i.setFieldTouched(n.name,!0),"function"===typeof s&&s(t)}}))})},xi=a(197),Li=a.n(xi),Pi=vr.a.bind(Li.a),Ai=function(e){function t(){return Object(g.a)(this,t),Object(pr.a)(this,Object(fr.a)(t).apply(this,arguments))}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.hasError,n=(e.id,e.name),i=e.value,s=Object(L.a)(e,["className","hasError","id","name","value"]);return r.a.createElement("textarea",Object.assign({id:n,name:n},s,{value:i||"",className:Pi("textarea",{"textarea--error":a},t),autoComplete:"autoComplete_off",list:"autocompleteOff"}))}}]),t}(n.PureComponent),Ri=Object(Cr.f)(function(e){var t=e.formik,a=e.field,n=(e.form,Object(L.a)(e,["formik","field","form"])),i=Object(Cr.g)(t.errors,a.name),s=Object(Cr.g)(t.touched,a.name)&&i;return r.a.createElement(Ai,Object.assign({hasError:!!s},n,a))}),Di=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.required,a=e.label,n=void 0===a?"This field":a,r=e.validate,i=void 0===r?function(){return!1}:r;return function(e){return t&&!e?"".concat(n," is required."):i(e)}},qi=function(e){var t=e.children,a=e.component,n=void 0===a?bi:a,i=e.hint,s=e.id,c=e.name,o=e.required,l=e.requiredByReferral,u=e.nestedLabel,d=e.disableErrorMessage,m=e.hideLabel,p=e.validate,f=(e.componentName,Object(L.a)(e,["children","component","hint","id","name","required","requiredByReferral","nestedLabel","disableErrorMessage","hideLabel","validate","componentName"])),h=f.label,b=Object(L.a)(f,["label"]),v=u?f:b;if("textarea"===v.type){var _={component:Ri,type:""};v=Object(T.a)({},v,_)}"date"===v.type&&(v=Object(T.a)({},v,{component:Ni.Picker,type:""}));var g=Object(T.a)({required:o,name:c,id:s,component:n,value:"",validate:Di({required:o,label:h,validate:p})},v);return r.a.createElement(ii,null,h&&!u&&r.a.createElement(di,{id:s,name:c,required:o,requiredByReferral:l,hide:m},h),r.a.createElement(Cr.b,g,t),i&&r.a.createElement(ti,null,i),!d&&r.a.createElement(Cr.a,{name:c,component:Jr}))},Mi=function(e){var t=e.disabled;return r.a.createElement(n.Fragment,null,function(e){var t=e.disabled;return[{label:"Address",name:"address[0]",disabled:t,placeholder:"e.g. Flat number"},{label:"Address line 2",hideLabel:!0,name:"address[1]",disabled:t,placeholder:"e.g. House name & number"},{label:"Address line 3",hideLabel:!0,name:"address[2]",disabled:t,placeholder:"e.g. Street name"},{label:"Address line 4",hideLabel:!0,name:"address[3]",disabled:t,placeholder:"e.g. City"},{label:"Address line 5",hideLabel:!0,name:"address[4]",disabled:t,placeholder:"e.g. County"},{label:"Postcode",name:"postcode",disabled:t,placeholder:"e.g. W1K 6NQ"}]}({disabled:t}).map(function(e){return r.a.createElement(qi,Object.assign({},e,{key:e.name}))}))},Fi=a(198),Ui=a.n(Fi),Bi=gr.a.shape({uid:gr.a.string.isRequired,display:gr.a.string.isRequired}).isRequired,Vi=(gr.a.arrayOf(Bi),vr.a.bind(Ui.a)),Gi=function(e){e.children;var t=e.component,a=e.groupLabel,n=e.hint,i=e.id,s=e.labelSize,c=e.name,o=e.options,l=void 0===o?[]:o,u=e.required,d=Object(L.a)(e,["children","component","groupLabel","hint","id","labelSize","name","options","required"]),m=Object(T.a)({},d,u&&{validate:function(e){return""===e&&"".concat(a||"This"," is required.")}});return r.a.createElement(ii,null,a&&r.a.createElement(di,{element:"h3",size:s,required:u,name:c},a),n&&r.a.createElement(ti,null,n),r.a.createElement("div",{className:Vi("option-group__inputs")},l.map(function(e){return r.a.createElement(Cr.b,Object.assign({key:e.uid,id:i,name:c,component:t,required:u,option:e},m))})),r.a.createElement(Cr.a,{name:c,component:Jr}))},Qi=a(199),zi=a.n(Qi),Hi=vr.a.bind(zi.a),Ji=function(e){var t=e.componentType,a=void 0===t?"button":t,n=e.id,i=e.name,s=e.value,c=e.text,o=e.selected,l=Object(L.a)(e,["componentType","id","name","value","text","selected"]);if("input"===a){var u="".concat(n||i,"-").concat(s);return r.a.createElement("div",{className:Hi("option-button")},r.a.createElement("input",Object.assign({},l,{className:Hi("option-button__radio"),id:u,value:s,name:i,type:"radio"})),r.a.createElement("label",{htmlFor:u,className:Hi("option-button-label",{"option-button--selected":o})},o&&r.a.createElement(wr,null),c))}return r.a.createElement("button",Object.assign({},l,{"aria-pressed":o,className:Hi("option-button","option-button-label",{"option-button--selected":o})}),o&&r.a.createElement(wr,null),c)},Zi=Object(Cr.f)(function(e){var t=e.formik,a=e.field,n=(e.form,e.option),i=Object(L.a)(e,["formik","field","form","option"]),s=Object(T.a)({},n),c=s.uid,o=s.display,l=Object(Cr.g)(t.values,a.name).uid;return r.a.createElement(Ji,Object.assign({},a,i,{componentType:"input",selected:l===c,text:o,value:c,onChange:function(){t.setFieldValue(a.name,n),t.setFieldTouched(a.name,!0)}}))}),Wi=a(86),Yi=a(203),Ki=a.n(Yi),Xi=a(200),$i=a.n(Xi),es=a(43),ts=a.n(es),as=function(e){var t=e.isInsideTable,a=void 0!==t&&t,n=e.hasError,r=void 0!==n&&n;return{container:function(e,t){return Object(T.a)({},e,{margin:t.isMulti&&!a?"0.6rem 0":"0"})},control:function(e,t){return Object(T.a)({},e,{position:"relative",height:t.isMulti?"auto":"4rem",color:"#5e6d79",border:"1px solid ".concat(r?"#dd2509":"#e6e6e6"),"&:hover":{borderColor:"#4a8bca"},zIndex:t.isFocused?"10":"0",cursor:"pointer"})},menu:function(e){return Object(T.a)({},e,{backgroundColor:"#fff",width:"100%",padding:"0.2rem 1rem 1rem",borderRadius:"4px",boxShadow:"0 2px 4px 0 rgba(12, 0, 51, 0.1)",cursor:"pointer"})},indicatorSeparator:function(){},option:function(e,t){return Object(T.a)({},e,{color:"#425462",cursor:"pointer",backgroundColor:t.isFocused?"rgba(74, 139, 202, 0.15)":"","&:hover":{backgroundColor:"rgba(74, 139, 202, 0.15)"}})},multiValue:function(e){return Object(T.a)({},e,{color:"#425462",backgroundColor:"#f1f5fb","flex-direction":"row-reverse","align-items":"center",border:"1px solid #3976bc","border-radius":"2px"})},multiValueLabel:function(e){return Object(T.a)({},e,{color:"#425462","padding-left":"0","padding-right":"0.9rem","font-size":"14px"})},multiValueRemove:function(e){return Object(T.a)({},e,{cursor:"pointer",backgroundColor:"#f1f5fb",color:"#005eb8",":hover":{backgroundColor:"#f1f5fb",color:"#4a8bca"}})},placeholder:function(e){return Object(T.a)({},e,{color:"#bfc5c9"})}}},ns=a(201),rs=a.n(ns),is=U(),ss=function(e){var t=e.url,a=e.inputValue;return B({url:"".concat(t,"?query=").concat(a),client:is}).then(function(e){return e.data.hits}).catch(function(e){return Promise.reject(e)})},cs=function(e){return B({url:e,client:is}).then(function(e){return e.data}).catch(function(e){return Promise.reject(e)})},os=vr.a.bind(rs.a),ls=function(e){return Wi.a.DropdownIndicator&&r.a.createElement(Wi.a.DropdownIndicator,e,r.a.createElement(kr,null))},us=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(pr.a)(this,(e=Object(fr.a)(t)).call.apply(e,[this].concat(i)))).state={inputValue:""},a.filterOption=function(e,t){var a=e.label;return(void 0===a?"":a).match(new RegExp(t,"i"))},a.handleInputChange=function(e){return a.setState(function(t){return Object(T.a)({},t,{inputValue:e})})},a.renderOption=function(e){var t=e.display;return r.a.createElement($i.a,{searchWords:[a.state.inputValue],textToHighlight:t,highlightClassName:os("highlight-word")})},a.debounceGetOptions=ts()(function(e,t){var n=a.props.url;ss({url:n,inputValue:e}).then(function(e){t(e)}).catch(function(e){return t(e,null)})},250),a}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.value,a=e.disabled,n=e.filterable,i=e.placeholder,s=e.isInsideTable,c=e.hasError,o=e.loadOptionsOnType,l=e.loadOptionsMethod,u=Object(L.a)(e,["value","disabled","filterable","placeholder","isInsideTable","hasError","loadOptionsOnType","loadOptionsMethod"]),d=o||!!n,m=Object(T.a)({},u,{value:t,components:d&&{DropdownIndicator:ls},formatOptionLabel:this.renderOption,getOptionLabel:function(e){return e.display},getOptionValue:function(e){return e.uid},isDisabled:a,isSearchable:d,onInputChange:this.handleInputChange,styles:as({isInsideTable:s,hasError:c}),placeholder:i});return o?r.a.createElement(Ki.a,Object.assign({},m,{noOptionsMessage:function(){return null},loadOptions:l||this.debounceGetOptions})):r.a.createElement(Wi.b,Object.assign({},m,{filterOption:this.filterOption,isClearable:!0}))}}]),t}(n.PureComponent),ds=Object(Cr.f)(function(e){var t=e.formik,a=e.field,n=e.form,i=e.onChange,s=e.options,c=Object(L.a)(e,["formik","field","form","onChange","options"]),o=Object(Cr.g)(t.errors,a.name),l=Object(Cr.g)(t.touched,a.name)&&o;return r.a.createElement(us,Object.assign({},a,c,{options:s,value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.find(function(t){return t.uid===e.uid})}(a.value||{}),hasError:!!l,onChange:function(e){n.setFieldValue(a.name,Array.isArray(e)?"":e||""),n.setFieldTouched(a.name,!0),"function"===typeof i&&i(e)},validate:!1}))}),ms=function(e){var t,a=e.options,n=void 0===a?[]:a,i=e.label,s=e.noRadio,c=Object(L.a)(e,["options","label","noRadio"]),o=(t=n.length)<=2?{type:"radio"}:{type:"select",filterable:t>8},l=o.filterable;return s||"radio"!==o.type?r.a.createElement(qi,Object.assign({},c,{component:ds,label:i,options:n,filterable:l})):r.a.createElement(Gi,Object.assign({},c,{component:Zi,groupLabel:i,options:n}))},ps=function(e){var t=e.isParticipant,a=e.validateRelationship,i=e.administrativeGender,s=e.ethnicity,c=e.lifeStatus,o=e.relationshipTypes,l=e.hospitalNumberRequired;return r.a.createElement(n.Fragment,null,r.a.createElement(qi,{label:"Title",name:"title",disabled:t}),r.a.createElement(qi,{label:"First name",name:"firstName",disabled:t,required:!0}),r.a.createElement(qi,{label:"Last name",name:"familyName",disabled:t,required:!0}),r.a.createElement(qi,{label:"Date of birth",name:"dateOfBirth",type:"date",disabled:t,required:!0}),r.a.createElement(ms,{label:"Gender",name:"administrativeGender",options:i,disabled:t,required:!0}),r.a.createElement(ms,{label:"Life status",name:"lifeStatus",options:c,disabled:t,required:!0}),r.a.createElement(ms,{label:"Ethnicity",name:"ethnicity",options:s,disabled:t}),t&&r.a.createElement(ms,{label:"Relationship to proband",name:"relationship",options:o,validate:a,required:!0}),r.a.createElement(qi,{label:"NHS Number",name:"nhsNumber",disabled:!0}),r.a.createElement(qi,{label:"Hospital Number",name:"hospitalNumber",maxLength:15,placeholder:"B123456",required:l}),r.a.createElement(Mi,{disabled:t}))},fs=a(204),hs=a.n(fs),bs=a(205),vs=a.n(bs),_s=vr.a.bind(vs.a),gs=function(e){var t,a=e.size,n=e.children,i=e.link,s=e.outline,c=e.invert,o=e.disabled,l=e.isSearch,u=e.className,d=Object(L.a)(e,["size","children","link","outline","invert","disabled","isSearch","className"]);return r.a.createElement("button",Object.assign({className:_s((t={"link-button":i,button:!i},Object(W.a)(t,"button--".concat(a),!l&&a),Object(W.a)(t,"button--outline",s),Object(W.a)(t,"button--inverted",c),Object(W.a)(t,"button--search",l),t),u),disabled:o},d),l&&r.a.createElement(kr,null),n)},ys=function(e){var t=e.text,a=void 0===t?"Back":t,n=e.handleClick,i=Object(L.a)(e,["text","handleClick"]);return r.a.createElement(gs,Object.assign({onClick:n},i,{type:"button",link:!0}),a)},Es=vr.a.bind(hs.a),Cs=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(pr.a)(this,(e=Object(fr.a)(t)).call.apply(e,[this].concat(r)))).isContinueOnly=function(){var e=a.props,t=e.handleClick,n=e.type;return!t&&"submit"!==n},a.isSaveOnly=function(){var e=a.props,t=e.handleClick,n=e.type,r=e.navigateTo,i=(r=void 0===r?{path:"",isLocked:!1}:r).path,s=r.isLocked,c=e.nestedStage;return s||!i&&!c&&(t||"submit"===n)},a.getButtonText=function(){return a.isContinueOnly()?"Continue":a.isSaveOnly()?"Save":"Save and continue"},a.handleClick=function(){var e=a.props,t=e.handleClick,n=e.navigateTo,r=(n=void 0===n?{}:n).path,i=e.navigate,s=e.pathPrefix;t?t():a.isContinueOnly()&&r&&i("".concat(s).concat(r))},a.handleBackClick=function(){var e=a.props,t=e.navigateBack,n=e.navigate,r=e.pathPrefix;n("".concat(r).concat(t))},a.showArrow=function(e){var t=e.isLocked,a=e.navigateToPath,n=e.nestedStage;return!t&&(a||n)},a}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.navigateTo,n=(a=void 0===a?{path:"",isLocked:!1}:a).path,r=a.isLocked,i=t.navigate,s=t.navigationOverride,c=t.resetSaveState,o=t.resetNavigationOverride,l=t.saveState,u=t.pathPrefix;l!==e.saveState&&"success"===l&&(r||!n||s||i("".concat(u).concat(n)),s&&o(),c())}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.setNavigationOverride,a=e.resetSaveState,n=e.saveState;"saving"===n&&t(),"error"===n&&a()}},{key:"componentDidMount",value:function(){var e=this.props,t=e.resetSaveState;"success"===e.saveState&&t()}},{key:"render",value:function(){var e=this.props,t=e.saveState,a=void 0===t?"default":t,n=e.disabled,i=e.type,s=void 0===i?"button":i,c=e.navigateTo,o=(c=void 0===c?{path:"",isLocked:!1}:c).path,l=c.isLocked,u=e.nestedStage,m=e.navigateBack,p=o||this.isSaveOnly()||u,f=this.showArrow({isLocked:l,navigateToPath:o,nestedStage:u});return p?r.a.createElement("div",{className:Es("referral-navigation")},r.a.createElement("div",null,m&&r.a.createElement(ys,{handleClick:this.handleBackClick,className:Es("referral-navigation__button","referral-navigation__button--back")})),"default"===a&&r.a.createElement(gs,{size:"medium",type:s,onClick:this.handleClick,disabled:n,className:Es("referral-navigation__button","referral-navigation__continue")},this.getButtonText(),f&&r.a.createElement("span",{className:Es("referral-navigation__continue-icon")},r.a.createElement(Rr,null))),"error"===a&&r.a.createElement(gs,{size:"medium",onClick:this.handleClick,disabled:n,type:s,className:Es("referral-navigation__button","referral-navigation__error")},"Try again"),"saving"===a&&r.a.createElement(gs,{size:"medium",type:s,disabled:!0,className:Es("referral-navigation__button","referral-navigation__loading")},r.a.createElement("img",{className:Es("referral-navigation__spinner-icon"),src:"".concat(d,"/images/spinner.gif"),alt:"Loading..."}))):null}}]),t}(n.Component);Cs.defaultProps={navigateTo:{},pathPrefix:"../"};var Os=Object(c.b)(function(e,t){var a=e.navigation,n=t.disableAutoAdvance;return{saveState:Ce(a),navigationOverride:n||Oe(a)}},{resetSaveState:function(){return{type:"navigation/SET_DEFAULT_STATE"}},setNavigationOverride:function(){return{type:"navigation/SET_NAVIGATION_OVERRIDE"}},resetNavigationOverride:function(){return{type:"navigation/RESET_NAVIGATION_OVERRIDE"}}})(Cs),js=function(e){return e.uid?"":"Please select a relationship"},Ss=function(e){var t=e.initialValues,a=e.isParticipant;return Object(T.a)({},t,a&&!t.relationship?{relationship:{uid:null}}:{},t.address&&0!==t.address.length?{}:{address:["","","","",""]})},ws=function(e){var t=e.message;return new Promise(function(e,a){return window.confirm(t)?e(!0):a()})},ks=function(e){var t=e.message,a=void 0===t?"Are you sure?":t,n=e.action,r=e.onCancel;"function"===typeof n&&(window.confirm(a)?n():"function"===typeof r&&r())},Ts=!1,Is="This section contains unsaved information. Discard changes?",Ns=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(pr.a)(this,Object(fr.a)(t).call(this,e))).handlePageUnload=function(e){if(a.props.hasUnsavedChanges)return e.returnValue=Is,Is},a.handleInAppNavigate=function(){return a.props.hasUnsavedChanges?(setTimeout(function(){a.modalShown=!1},100),a.modalShown?Promise.resolve():(a.modalShown=!0,ws({message:Is}).catch(function(){throw new Error("User declined to continue")}))):Promise.resolve()},a.render=function(){return null},a.modalShown=!1,a}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){!1===Ts&&(window.addEventListener("beforeunload",this.handlePageUnload),C.interceptNavigate(this.handleInAppNavigate),Ts=!0)}},{key:"componentWillUnmount",value:function(){var e=this.handlePageUnload;window.removeEventListener("beforeunload",e),C.removeIntercept(this.handleInAppNavigate),Ts=!1}}]),t}(n.Component);Ns.defaultProps={hasUnsavedChanges:!1};var xs=Ns,Ls=a(206),Ps=a.n(Ls),As=vr.a.bind(Ps.a),Rs=function(e){var t=e.children,a=e.enableUnsavedChangesWarning,n=Object(L.a)(e,["children","enableUnsavedChangesWarning"]);return r.a.createElement(Cr.e,Object.assign({enableReinitialize:!0},n),function(e){var n=e.dirty,i=e.isSubmitting;return r.a.createElement(Cr.d,{noValidate:!0,autoComplete:"off"},r.a.createElement("input",{name:"surname",className:As("always-hide-this-field")}),a&&r.a.createElement(xs,{hasUnsavedChanges:!i&&n}),t(e))})},Ds=function(e){function t(){return Object(g.a)(this,t),Object(pr.a)(this,Object(fr.a)(t).apply(this,arguments))}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.handleSubmit,a=void 0===t?function(){}:t,i=e.initialValues,s=e.nextStage,c=e.navigate,o=e.isParticipant;return r.a.createElement(Er.Consumer,null,function(e){var t=e.codes,l=t.relationshipTypes,u=t.ethnicity,d=t.lifeStatus,m=t.administrativeGender,p=e.config;return r.a.createElement(n.Fragment,null,r.a.createElement(Rs,{initialValues:Ss({initialValues:i,isParticipant:o}),onSubmit:function(e,t){var n=t.setSubmitting;a({values:e,configUids:p,setSubmitting:n,isParticipant:o})},enableUnsavedChangesWarning:!0},function(e){var t=e.isSubmitting,a=e.values.nhsNumber;return r.a.createElement(n.Fragment,null,r.a.createElement(ps,{validateRelationship:js,relationshipTypes:l,ethnicity:u,lifeStatus:d,administrativeGender:m,isParticipant:o,hospitalNumberRequired:!a}),r.a.createElement(Os,{disabled:t,navigateTo:s,navigate:c,type:"submit"}))}))})}}]),t}(n.Component),qs=a(207),Ms=a.n(qs),Fs=vr.a.bind(Ms.a),Us={error:"#d0021b",warning:"#f08c02",success:"#04a499",info:"#9EBFDF"},Bs=function(e){var t=e.children,a=e.type,n=e.className,i=e.includeDefaultSpace,s=e.belowTitle;return r.a.createElement("div",{className:Fs("notification","notification--".concat(a),{"notification--default-space":i},{"notification--below-title":s},n)},r.a.createElement("div",{className:Fs("notification__icon")},("error"===a||"warning"===a)&&r.a.createElement(xr,{fill:Us[a],height:"30",width:"30"}),"success"===a&&r.a.createElement(wr,{fill:Us[a],height:"30",width:"30"}),"info"===a&&r.a.createElement(Ir,{fill:Us[a],height:"30",width:"30"})),r.a.createElement($r,{size:"5",className:Fs("notification__text")},t))},Vs=a(208),Gs=a.n(Vs),Qs=vr.a.bind(Gs.a),zs=function(e){var t=e.className,a=Object(L.a)(e,["className"]);return r.a.createElement(E.a,Object.assign({},a,{className:Qs("inline-link",t)}))},Hs=a(209),Js=a.n(Hs),Zs=vr.a.bind(Js.a),Ws=function(e){var t=e.isParticipant,a=e.disabled,i=e.onClick,s={size:"medium",className:Zs("patient-details-form__submit-button"),disabled:a};return t?r.a.createElement(gs,Object.assign({},s,{type:"submit"}),"Save and continue"):r.a.createElement(n.Fragment,null,r.a.createElement(gs,Object.assign({},s,{type:"button",onClick:i}),"Start referral"),r.a.createElement("div",{className:Zs("patient-details-form__back")},r.a.createElement(zs,{to:"".concat(d,"/").concat(m)},"Go back to patient search")))},Ys=function(e){function t(){return Object(g.a)(this,t),Object(pr.a)(this,Object(fr.a)(t).apply(this,arguments))}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.handleSubmit,a=void 0===t?function(){}:t,i=e.initialValues,s=e.isParticipant,c=e.isProbandPatient,o=e.ciguid,l=e.spineResult,u=e.handleReferralButton,d=e.success,m=e.hideButton,p=e.ngisUid,f=c&&!o,h=f||c&&!p;return r.a.createElement(Er.Consumer,null,function(e){var t=e.codes,c=t.relationshipTypes,o=t.ethnicity,p=t.lifeStatus,b=t.administrativeGender,v=e.config;return r.a.createElement(n.Fragment,null,f&&r.a.createElement(Bs,{type:"warning",className:Zs("patient-details-form__notification")},"You need to add a Clinical Indication from the"," ",r.a.createElement("a",{href:v.testDirectoryPrivateUrl,className:Zs("patient-details-form__external-link")},"Test Directory")," ","before you can start a new referral."),r.a.createElement(Rs,{initialValues:Ss({initialValues:i,isParticipant:s}),onSubmit:function(e,t){var n=t.setSubmitting;return a({values:e,configUids:v,setSubmitting:n,isParticipant:s})},enableUnsavedChangesWarning:!0},function(e){var t=e.isSubmitting,a=e.setSubmitting,i=e.values.nhsNumber;return r.a.createElement(n.Fragment,null,r.a.createElement(ps,{isParticipant:s,spineResult:l,validateRelationship:js,relationshipTypes:c,ethnicity:o,lifeStatus:p,administrativeGender:b,hospitalNumberRequired:!i}),!s&&r.a.createElement("div",null,r.a.createElement(gs,{type:"submit",size:"medium",className:Zs("patient-details-form__submit-button")},l?"Add details to NGIS":"Update NGIS record")),d&&r.a.createElement(Bs,{type:"success",className:Zs("patient-details-form__success-notification")},"Details saved"),!m&&r.a.createElement(Ws,{isParticipant:s,disabled:h||t,onClick:function(){u({configUids:v,setSubmitting:a})}}))}))})}}]),t}(n.Component),Ks=a(210),Xs=a.n(Ks),$s=a(211),ec=a.n($s),tc=a(212),ac=a.n(tc),nc=vr.a.bind(ac.a),rc=function(e){var t=e.id,a=e.chunkFormat,n=void 0===a?[4,4,4]:a,i=e.element,s=void 0===i?"span":i,c="string"===typeof t?function(e,t){var a=0;return Array.isArray(t)&&e.length!==t.reduce(function(e,t){return e+t},0)?[e]:t.map(function(t){var n=e.substring(a,a+t);return a+=t,n})}(t,n):[];return r.a.createElement($r,{element:s,key:t},c.map(function(e,t){return r.a.createElement("span",{key:t,className:nc("chunk__separator")},e)}))},ic=vr.a.bind(ec.a),sc=function(e){var t=e.title,a=e.code,n=e.dateSubmitted,i=e.responsibleClinician,s=e.orderEntity,c=e.testsNumber,o=e.referralId,l=e.status,u=e.isSubmitted,d=i.forename,m=i.surname,p=d?"".concat(d," ").concat(m):m;return r.a.createElement("div",{className:ic("referral-card")},r.a.createElement("div",{className:ic("referral-card__header")},r.a.createElement("div",{className:ic("referral-card__title-row")},r.a.createElement("div",{className:ic("referral-card__title")},r.a.createElement($r,{element:"h4",size:"6"},t,t&&r.a.createElement("span",{className:ic("referral-card__dot-separator")}),a),r.a.createElement($r,{element:"p",className:ic("referral-card__clinician-info")},r.a.createElement("span",null,p),p&&r.a.createElement("span",{className:ic("referral-card__dot-separator")}),r.a.createElement("span",null,s),s&&r.a.createElement("span",{className:ic("referral-card__dot-separator")}),r.a.createElement("span",null,c," ",1===c?"test":"tests"))),l&&r.a.createElement("div",{className:ic("referral-card__info-item")},r.a.createElement("div",{className:ic("referral-card__status",{"referral-card__status--is-submitted":u})},l),n&&r.a.createElement("div",{className:ic("referral-card__submitted--date")},St(n))))),r.a.createElement("div",{className:ic("referral-card__content")},r.a.createElement("div",{className:ic("referral-card__info-item")},r.a.createElement($r,{element:"label",className:ic("referral-card__label")},"Referral ID"),r.a.createElement(rc,{id:o,element:"p"}))))},cc=(gr.a.arrayOf(gr.a.shape({id:gr.a.string.isRequired,dateLastSubmitted:gr.a.string,status:gr.a.shape({display:gr.a.string}),clinicalIndication:gr.a.shape({displayName:gr.a.string,code:gr.a.string}),clinicians:gr.a.arrayOf(gr.a.shape({forename:gr.a.string,surname:gr.a.string})),tests:gr.a.array,orderingEntityId:gr.a.string})),vr.a.bind(Xs.a)),oc=function(e){var t=e.referralList;return r.a.createElement("div",{className:cc("referral-list")},r.a.createElement($r,{size:"3",className:cc("referral-list__heading")},"Completed and ongoing referrals"),r.a.createElement($r,{className:cc("referral-list__info")},"Check the status before updating a referral. Changes to completed referrals might not be seen by the laboratory."),t.map(function(e){var t=e.id,a=e.dateSubmitted,n=e.humanReadableId,i=e.status,s=e.clinicalIndication,c=s.displayName,o=s.code,l=e.clinicians,u=e.tests,m=e.orderingEntityName,p=null!==i?i.display:"",f=(Object(R.a)(l,1)[0]||{clinician:{}}).clinician;return r.a.createElement(E.a,{key:t,to:"".concat(d,"/").concat(b,"/").concat(t),className:cc("referral-list__link")},r.a.createElement(sc,{key:t,title:c,code:o,referralId:n,dateSubmitted:a,status:p,responsibleClinician:f,orderEntity:m,testsNumber:u.length,isSubmitted:"Submitted"===p}))}))},lc=a(213),uc=a.n(lc),dc=vr.a.bind(uc.a),mc=function(e){var t=e.children,a=e.className;return r.a.createElement($r,{element:"h1",size:"1",className:dc("page-title",a)},t)},pc=a(214),fc=a.n(pc),hc=vr.a.bind(fc.a),bc=function(e){function t(){var e,a;Object(g.a)(this,t);for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return(a=Object(pr.a)(this,(e=Object(fr.a)(t)).call.apply(e,[this].concat(s)))).state={patientId:a.props.patientId||a.props.probandId,spinePatientId:!1,preserveFormState:!1},a.clinicalIndication=Ba(o),a.startReferral=function(){var e=Object(k.a)(w.a.mark(function e(t){var n,r,i,s,c,o,m,p,f,h,v,_,g;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.configUids,r=n.routinePriority,i=n.createdReferralStatus,s=t.setSubmitting,c=a.props,o=c.createReferral,m=c.navigate,p=c.patient.id,s(!0),f=Ba(u)||null,h=Ba(l)||null,v=h?h.split(",").map(function(e){return{ciTestTypeUid:e,procedureRequests:[{patientId:p}]}}):[],e.prev=6,e.next=9,o(Object(T.a)({ngisUid:p,clinicalReason:a.clinicalIndication,priorityId:r,statusId:i},f&&{orderingEntityId:f},v.length>0?{tests:v}:{}));case 9:_=e.sent,g=_.id,m("".concat(d,"/").concat(b,"/").concat(g)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),s(!1);case 17:case"end":return e.stop()}},e,null,[[6,14]])}));return function(t){return e.apply(this,arguments)}}(),a.participantSubmission=function(){var e=Object(k.a)(w.a.mark(function e(t){var n,r,i,s,c,o,l,u,d,m,p,f;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.ngisUid,r=t.relationship,i=t.values,s=t.configUids,c=a.props,o=c.patient.spineResult,l=c.createPatient,u=c.addParticipant,d=c.updatePatient,m=c.navigate,p=c.nextStage,e.prev=2,a.setState({preserveFormState:!0}),!o){e.next=10;break}return e.next=7,l(i,s);case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=n;case 11:if(f=e.t0,o){e.next=15;break}return e.next=15,d(Object(T.a)({},i,{id:f}));case 15:return e.next=17,u(f,r);case 17:m(p.pathWithNgisId(f)),e.next=23;break;case 20:e.prev=20,e.t1=e.catch(2),Promise.reject(e.t1);case 23:case"end":return e.stop()}},e,null,[[2,20]])}));return function(t){return e.apply(this,arguments)}}(),a.updateURLWithoutReloadingPage=function(e,t){var a=window.location.pathname;window.history.pushState("","",a.replace(e,t))},a.probandSubmission=function(){var e=Object(k.a)(w.a.mark(function e(t){var n,r,i,s,c,o,l,u,d,m,p;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.values,r=t.configUids,i=t.ngisUid,s=a.props,c=s.patient.spineResult,o=s.createPatient,l=s.updatePatient,u=s.updateReferralPatient,d=s.referralId,m=s.patientId,e.prev=2,!d){e.next=7;break}u(Object(T.a)({},n,{id:i}),d),e.next=18;break;case 7:if(!c){e.next=16;break}return a.setState({preserveFormState:!0}),e.next=11,o(n,r);case 11:p=e.sent,a.updateURLWithoutReloadingPage(m,p),a.setState({patientId:p,spinePatientId:!1}),e.next=18;break;case 16:return e.next=18,l(Object(T.a)({},n,{id:i}));case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(2),Promise.reject(e.t0);case 23:case"end":return e.stop()}},e,null,[[2,20]])}));return function(t){return e.apply(this,arguments)}}(),a.handleSubmit=function(){var e=Object(k.a)(w.a.mark(function e(t){var n,r,i,s,c,o,l,u;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.values,r=n.relationship,i=void 0===r?{}:r,s=Object(L.a)(n,["relationship"]),c=t.setSubmitting,o=t.configUids,l=t.isParticipant,u=a.props.patient.id,e.prev=2,!l){e.next=8;break}return e.next=6,a.participantSubmission({ngisUid:u,relationship:i,values:s,configUids:o});case 6:e.next=10;break;case 8:return e.next=10,a.probandSubmission({values:s,configUids:o,ngisUid:u});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),c(!1);case 15:c(!1);case 16:case"end":return e.stop()}},e,null,[[2,12]])}));return function(t){return e.apply(this,arguments)}}(),a.componentDidMount=Object(k.a)(w.a.mark(function e(){var t,n,r,i,s,c,o,l,u,d,p,f,h;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props,n=t.navigate,r=t.getReferrals,i=t.inReferral,s=t.patientId,c=t.storePatient,o=t.otherPatientsId,l=t.editExistingPatient,u=a.props,d=u.patient.id,p=u.location,f=p.search.includes(_),h=o.some(function(e){return s===e}),l(h),a.setState({spinePatientId:f}),!s||d===s){e.next=13;break}if(!s){e.next=12;break}return e.next=10,c(s,!1);case 10:e.next=13;break;case 12:n("../../".concat(m));case 13:if(!s||f||i){e.next=22;break}return e.prev=14,e.next=17,r(s);case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(14),Z("Error in getting referrals for patient",{error:e.t0})("error");case 22:case"end":return e.stop()}},e,null,[[14,19]])})),a.renderLoading=function(){return r.a.createElement("p",null,"Loading...")},a.redirectUserToSearch=function(){var e=a.props,t=e.patientId,n=e.uri,i="".concat(n.substring(0,n.indexOf(t))).concat(m);return r.a.createElement(E.c,{noThrow:!0,to:i})},a.renderForm=function(){var e=a.props,t=e.pageTitle,i=e.referralId,s=e.patient,c=e.isProbandPatient,o=e.inReferral,l=e.nextStage,u=e.navigate,d=e.success,m=e.referrals;return r.a.createElement(n.Fragment,null,t&&r.a.createElement(mc,null,t),r.a.createElement($r,{element:"p",size:"5",className:hc("patient-details__sub-title-copy")},"Patient details entered here will be ",r.a.createElement("strong",null,"added to NGIS only"),". Contact the patient's GP to have their details updated to NHS Spine."),i?r.a.createElement(Ds,{initialValues:s,handleSubmit:a.handleSubmit,isParticipant:!c&&o,nextStage:l,navigate:u}):r.a.createElement(n.Fragment,null,r.a.createElement(Ys,{initialValues:s,isParticipant:!c&&o,isProbandPatient:c,handleReferralButton:a.startReferral,success:d,hideButton:c&&o,spineResult:s.spineResult,ngisUid:!s.spineResult&&s.id,handleSubmit:a.handleSubmit,ciguid:a.clinicalIndication}),m&&m.length>0&&r.a.createElement(oc,{referralList:m})))},a}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"componentDidUpdate",value:function(e){var t=e.patient.id,a=e.patientId,n=this.props,r=n.patient.id,i=n.storePatient;a&&(t===r&&void 0===t)&&i(a)}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.clearPatient,a=e.clearReferrals,n=e.referralId,r=e.isProbandPatient;n&&r||(t(),a())}},{key:"render",value:function(){var e=this.props.patient.id,t=this.state,a=t.patientId,n=t.spinePatientId;return t.preserveFormState||e===a?this.renderForm():n?this.redirectUserToSearch():this.renderLoading()}}]),t}(n.Component);bc.defaultProps={pageTitle:"Check your patient's details"};var vc=bc,_c=Object(c.b)(function(e,t){var a=t.inReferral,n=e.patientDetails,r=n.patient,i=Object(L.a)(n,["patient"]),s=e.referral;return Object(T.a)({},i,{referralId:En(s),patient:Object.keys(r).length>0?r:Sn(s),probandId:Tn(s),isProbandPatient:a&&r.id?Tn(s)===r.id:In(s),otherPatientsId:xn(s)})},{createReferral:Un,addParticipant:Vn,clearPatient:function(){return{type:nr}},getReferrals:function(e){return function(){var t=Object(k.a)(w.a.mark(function t(a){var n;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:tr}),t.prev=1,t.next=4,r=e,B({url:"".concat("/api/Referral","/").concat("search?patientId","=").concat(r,"&isProband=").concat(!0,"&limit=6"),client:re}).then(function(e){return e.data.hits}).catch(function(e){return Promise.reject(e)});case 4:n=t.sent,a(dr(n)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),Z("Error in patient get referrals",{error:t.t0})("error");case 11:case"end":return t.stop()}var r},t,null,[[1,8]])}));return function(e){return t.apply(this,arguments)}}()},clearReferrals:function(){return{type:ir}},updatePatient:function(e){return function(){var t=Object(k.a)(w.a.mark(function t(a){var n,r;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:tr}),t.prev=1,t.next=4,$e(e);case 4:n=t.sent,r=n.uid,ur(r,!0)(a),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),Z("Error in update patient",{error:t.t0})("error");case 13:case"end":return t.stop()}},t,null,[[1,10]])}));return function(e){return t.apply(this,arguments)}}()},updateReferralPatient:function(e,t){return function(){var a=Object(k.a)(w.a.mark(function a(n){var r,i,s,c;return w.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:tr}),n({type:ge}),a.prev=2,a.next=5,$e(e);case 5:return r=a.sent,i=r.uid,a.next=10,ur(i,!0)(n);case 10:return a.next=12,le(t);case 12:return s=a.sent,a.next=15,n(dt(s));case 15:o="success",c=er["patient-details"][o],n({type:ye,payload:c}),a.next=23;break;case 19:a.prev=19,a.t0=a.catch(2),Z("Error in update referral patient",{error:a.t0})("error"),n({type:Ee});case 23:case"end":return a.stop()}var o},a,null,[[2,19]])}));return function(e){return a.apply(this,arguments)}}()},createPatient:function(e,t){return function(){var a=Object(k.a)(w.a.mark(function a(n){var r,i;return w.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:tr}),a.prev=1,a.next=4,$n(e,t);case 4:return r=a.sent,i=r.uid,ur(i,!0)(n),a.abrupt("return",i);case 10:return a.prev=10,a.t0=a.catch(1),Z("Error in patient details",{error:a.t0})("error"),a.abrupt("return",Promise.reject(a.t0));case 14:case"end":return a.stop()}},a,null,[[1,10]])}));return function(e){return a.apply(this,arguments)}}()},storePatient:ur,editExistingPatient:function(e){return{type:cr,payload:{isEditParticipant:e}}}})(vc),gc={interceptors:{response:function(e){return e.data.hits.map(function(e){return Object(T.a)({},e,{spineResult:!1})})}}},yc=U({interceptors:{response:function(e){return e.data.hits.map(function(e){return Object(T.a)({},e,{spineResult:!0})})}}}),Ec=U(gc),Cc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return B({url:"/api/PatientSearch",params:e,client:Ec}).then(function(t){return 0===t.length?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return B({url:"/api/SpineSearch",params:e,client:yc}).catch(function(e){return Promise.reject(e)})}(Object(T.a)({},e)):t}).then(function(e){if(e.length>1){var t=new Error("Too many results");throw t.response={status:300},t}return e}).catch(function(e){return Promise.reject(e)})},Oc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.birthDate,a=Object(L.a)(e,["birthDate"]);return Cc(Object(T.a)({},a,t&&{birthDate:kt(t)}))},jc=function(e,t){return[].concat(Object(P.a)(e),[We(t)])},Sc={SET_PATIENT:"patient-search/SET_PATIENT",SET_NHS_KNOWN:"patient-search/SET_NHS_KNOWN",REQUEST_SENT:"patient-search/REQUEST_SENT",REQUEST_ERROR:"patient-search/REQUEST_ERROR",CLEAR:"patient-search/CLEAR"},wc={nhsNumberKnown:!0,results:[],searchTerms:null,errorCode:null,isLoading:!1},kc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wc,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case Sc.REQUEST_SENT:return Object(T.a)({},e,{isLoading:!0,results:null,searchTerms:n.searchTerms});case Sc.REQUEST_ERROR:return Object(T.a)({},e,{isLoading:!1,results:[],errorCode:n.errorCode});case Sc.SET_PATIENT:return Object(T.a)({},e,{results:n.results,errorCode:null,isLoading:!1});case Sc.SET_NHS_KNOWN:return Object(T.a)({},e,{nhsNumberKnown:n.value});case Sc.CLEAR:return wc;default:return e}},Tc={terms:gr.a.shape({nhsNumber:gr.a.string,firstName:gr.a.string,lastName:gr.a.string,gender:gr.a.shape({uid:gr.a.string,display:gr.a.string}),postcode:gr.a.string,birthDate:gr.a.string})},Ic=(Object(T.a)({selectPatient:gr.a.func.isRequired,results:gr.a.arrayOf(gr.a.object)},Tc),a(215)),Nc=a.n(Ic),xc=a(216),Lc=a.n(xc),Pc=function(e){var t=e.years,a=e.months,n=e.weeks,r=e.days;return"".concat(t?"".concat(t,"y"):"").concat(a?" ".concat(a,"m"):"").concat(n?" ".concat(n,"w"):"").concat(r?" ".concat(r).concat("d"):"").replace(/^\s+/,"")},Ac=function(e,t){var a=jt()(t),n=a.diff(e,"month",!0);if(n>=216)return Pc({years:Math.floor(n/12)});if(n>=24)return Pc({years:Math.floor(n/12),months:Math.floor(n%12)});if(n>=12){var r=Math.floor(n),i=jt()(e).add(r,"month"),s=a.diff(i,"day");return Pc({months:r,days:s})}var c=a.diff(e,"week",!0);if(c>=4){var o=Math.floor(c),l=jt()(e).add(o,"week"),u=a.diff(l,"day");return Pc({weeks:o,days:u})}var d=a.diff(e,"day");return 0===d?"< 1".concat("d"):Pc({days:d})},Rc=function(e){var t=e.startDate,a=e.endDate;return a?r.a.createElement("span",null,Ac(t,a)):r.a.createElement("span",null,"(",Ac(t,a),")")},Dc=a(217),qc=a.n(Dc),Mc=vr.a.bind(qc.a),Fc=function(e){var t=e.text,a=e.type,n=void 0===a?"default":a;return r.a.createElement("span",{className:Mc("badge","badge--".concat(n))},t)},Uc=function(e){var t=e.number;return 10===t.length?r.a.createElement(rc,{id:t,chunkFormat:[3,3,4]}):t},Bc=function(e){var t=e.familyName,a=e.firstName,n=e.title;return"".concat(t&&t.toUpperCase()).concat(function(e){return e?", ".concat(e):""}(a)," ").concat(function(e){return e?"(".concat(e,")"):""}(n))},Vc=vr.a.bind(Lc.a),Gc=function(e){var t=e.children;return r.a.createElement("div",{className:Vc("card-multi-line")},t)},Qc=function(e){var t=e.name,a=e.value;return a?r.a.createElement($r,{element:"p",className:Vc("card-line")},t," ",r.a.createElement("b",null,a)):null},zc=function(e){var t=e.date,a=e.deceased;return t?r.a.createElement(r.a.Fragment,null,It(t)," ",!a&&r.a.createElement(Rc,{startDate:t})):null},Hc=function(e){var t=e.dateOfBirth,a=e.dateOfDeath;return r.a.createElement(Rc,{startDate:t,endDate:a})},Jc=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(pr.a)(this,(e=Object(fr.a)(t)).call.apply(e,[this].concat(r)))).displayAddress=function(e,t){var a=e.filter(function(e){return e}).join(", ");return t?"".concat(a,", ").concat(t):"".concat(a)},a.getResultPath=function(e,t){var a="../../".concat(e,"/").concat(f),n=t?"?".concat(_,"=true"):"";return"".concat(a).concat(n)},a}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.handleComponentDidMount,a=Object(L.a)(e,["handleComponentDidMount"]);t&&t(a)}},{key:"render",value:function(){var e=this.props,t=e.address,a=e.spineResult,n=e.dateOfBirth,i=e.familyName,s=e.administrativeGender,c=(s=void 0===s?{}:s).display,o=e.firstName,l=e.nhsNumber,u=e.postcode,d=e.title,m=e.dateOfDeath,p=e.id;return r.a.createElement(E.a,{to:this.getResultPath(p,a),className:Vc("patient-card")},r.a.createElement("div",{className:Vc("patient-card__content")},r.a.createElement("div",{className:Vc("patient-card__top")},r.a.createElement($r,{element:"p",size:"6",className:Vc("patient-name")},Bc({familyName:i,firstName:o,title:d})),r.a.createElement(Gc,null,r.a.createElement(Qc,{name:"Born",value:r.a.createElement(zc,{date:n,deceased:!!m})}),r.a.createElement(Qc,{name:"Died",value:m&&It(m)})),r.a.createElement(Gc,null,r.a.createElement(Qc,{name:"Gender",value:c}),r.a.createElement(Qc,{name:"Age at Death",value:n&&m&&r.a.createElement(Hc,{dateOfBirth:n,dateOfDeath:m})})),r.a.createElement(Qc,{name:"NHS No.",value:r.a.createElement(Uc,{number:l})})),r.a.createElement("div",{className:Vc("patient-card__bottom")},r.a.createElement(Qc,{name:"Address",value:t&&0!==t.length?this.displayAddress(t,u):"Not available"}),r.a.createElement("div",null,r.a.createElement(Fc,{text:a?"NHS Spine":"NGIS"})))))}}]),t}(n.Component),Zc=vr.a.bind(Nc.a),Wc=function(e){var t=e.selectPatient,a=e.results;return r.a.createElement("div",{className:Zc("results")},r.a.createElement($r,{element:"h3",size:"3",className:Zc("results__header")},"We found a result"),a.map(function(e){return r.a.createElement(Jc,Object.assign({key:e.id},e,{handleComponentDidMount:t}))}))},Yc=a(218),Kc=a.n(Yc),Xc=a(219),$c=a.n(Xc),eo=vr.a.bind($c.a),to=function(e){var t=e.nhsNumber,a=e.birthDate,n=e.gender,i=(n=void 0===n?{}:n).display,s=e.lastName,c=e.firstName,o=e.postcode;return r.a.createElement("div",{className:eo("search-terms")},r.a.createElement($r,{element:"p",size:"6",className:eo("search-terms__text")},"You\u2019ve searched for",r.a.createElement("strong",null,[t,c,s,i,o].map(function(e){return e&&" ".concat(e,",")})," ",a)))},ao=vr.a.bind(Kc.a),no=function(e){var t=e.code,a=e.terms,i=void 0===a?{}:a;return r.a.createElement("div",{className:ao("no-results")},r.a.createElement(to,i),r.a.createElement($r,{element:"h3",size:"3",className:ao("no-results__header")},300===t?"Too many patients found":"No patient found"),r.a.createElement($r,{element:"p",size:"4",className:ao("no-results__list-header")},"Make sure:"),r.a.createElement($r,{element:"ul",size:"4",className:ao("no-results__help")},r.a.createElement("li",null,"you have entered the correct details"),r.a.createElement("li",null,"all details are spelled correctly")),300!==t&&r.a.createElement(n.Fragment,null,r.a.createElement($r,{element:"p",className:ao("no-results__help-link")},"Only ",r.a.createElement(zs,{to:"../../".concat(p)},"create a new patient record")," ","after you have checked all the details and searched again."),r.a.createElement($r,{element:"p",className:ao("no-results__duplicate")},r.a.createElement("strong",null,"Duplicate records can affect a patient's treatment."))),r.a.createElement("img",{className:ao("no-results__img"),alt:"",src:"images/no-results-found.svg"}))},ro=Object(c.b)(function(e){return e.patientSearch},{selectPatient:function(e){return{type:ar,payload:e}}})(function(e){var t=e.results,a=e.isLoading,n=e.errorCode,i=e.searchTerms,s=e.selectPatient;return t||a?n?r.a.createElement(no,{path:h,code:n,terms:i}):t&&t.length>0?r.a.createElement(Wc,{path:h,results:t,terms:i,selectPatient:s}):null:r.a.createElement(E.c,{noThrow:!0,to:"".concat(d,"/").concat(m)})}),io=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return"".concat(e).length<t?"0".concat(e):e},so=function(e){var t=e.day,a=e.month,n=e.year;return"".concat(n,"-").concat(io(a,2),"-").concat(io(t,2))},co=function(e){var t=parseInt(e,10),a=Number.isNaN(t)||t<0,n=10!==t.toString().length;return!(!e||!a&&!n)&&"Please enter your full NHS Number (".concat(10," characters)")},oo=function(e){var t=e.handleSubmit;return r.a.createElement(Rs,{initialValues:{nhsNumber:"",day:"",month:"",year:""},validate:function(e){var t=e.nhsNumber,a=co(t);return a?{nhsNumber:a}:{}},onSubmit:function(){var e=Object(k.a)(w.a.mark(function e(a,n){var r,i,s,c,o;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.day,i=a.month,s=a.year,c=Object(L.a)(a,["day","month","year"]),o=so({day:r,month:i,year:s}),e.prev=2,e.next=5,t(Object(T.a)({},c,{birthDate:o}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),Z("Error in NHS Number search form")("error");case 10:n.setSubmitting(!1);case 11:case"end":return e.stop()}},e,null,[[2,7]])}));return function(t,a){return e.apply(this,arguments)}}()},function(e){var t=e.isSubmitting;return r.a.createElement(n.Fragment,null,r.a.createElement(qi,{name:"nhsNumber",label:"NHS Number",minLength:10,maxLength:10,placeholder:"e.g. 1231237890",required:!0}),r.a.createElement(Ni.Multi,{label:"Date of birth",day:"day",month:"month",year:"year",name:"birthDate",required:!0}),r.a.createElement(gs,{isSearch:!0,type:"submit",disabled:t},"Search"))})},lo=function(e){var t=e.handleSubmit;return r.a.createElement(Er.Consumer,null,function(e){var a=e.codes.administrativeGender;return r.a.createElement(Rs,{initialValues:{firstName:"",lastName:"",gender:"",postcode:"",day:"",month:"",year:""},onSubmit:function(){var e=Object(k.a)(w.a.mark(function e(a,n){var r,i,s,c,o,l,u;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.setSubmitting,i=a.gender.code,s=a.day,c=a.month,o=a.year,l=Object(L.a)(a,["gender","day","month","year"]),u=so({day:s,month:c,year:o}),e.next=5,t(Object(T.a)({},l,{gender:i,birthDate:u}));case 5:r(!1);case 6:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},function(e){var t=e.isSubmitting;return r.a.createElement(n.Fragment,null,r.a.createElement(Ni.Multi,{label:"Date of birth",day:"day",month:"month",year:"year",name:"birthDate",required:!0}),r.a.createElement(qi,{name:"firstName",label:"First name",placeholder:"e.g. Helen",required:!0}),r.a.createElement(qi,{name:"lastName",label:"Last name",placeholder:"e.g. Jones",required:!0}),r.a.createElement(ms,{label:"Gender",name:"gender",options:a,required:!0}),r.a.createElement(qi,{name:"postcode",label:"Postcode",placeholder:"e.g. N16 7TU",hint:"Searches without a postcode only access existing NGIS records"}),r.a.createElement(gs,{isSearch:!0,type:"submit",disabled:t},"Search"))})})},uo=a(220),mo=a.n(uo),po=vr.a.bind(mo.a),fo=function(e){var t=e.nhsNumberKnown,a=e.onSearch,i=e.toggleNhsKnown,s=e.title;return r.a.createElement(n.Fragment,null,r.a.createElement($r,{element:"p",size:"5",className:po("patient-search__intro")},"Add any information you have to search the ",r.a.createElement("strong",null,"NHS Spine")," and the"," ",r.a.createElement("strong",null,"Genomics England database")," (NGIS). Full name, gender and postcode are required if NHS Number is not available."),r.a.createElement(ii,null,r.a.createElement(di,{element:"h3"},s),r.a.createElement("div",null,r.a.createElement(Ji,{selected:t,onClick:function(){return i(!0)},text:"Yes"}),r.a.createElement(Ji,{selected:!t,onClick:function(){return i(!1)},text:"No"}))),t?r.a.createElement(oo,{handleSubmit:a}):r.a.createElement(lo,{handleSubmit:a}))},ho=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(pr.a)(this,(e=Object(fr.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(){var e=Object(k.a)(w.a.mark(function e(t){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.getPatients(t);case 2:a.props.navigate(h);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"componentWillUnmount",value:function(){this.props.clearPatients()}},{key:"render",value:function(){var e=this.props,t=e.nhsNumberKnown,a=e.toggleNhsKnown,i=e.searchTitle,s=e.pageTitle;return r.a.createElement(n.Fragment,null,s&&r.a.createElement(mc,null,s),r.a.createElement(fo,{nhsNumberKnown:t,onSearch:this.handleSubmit,toggleNhsKnown:a,title:i}),r.a.createElement(E.d,{primary:!1},r.a.createElement(ro,{path:h})))}}]),t}(n.Component);ho.defaultProps={pageTitle:"Find your patient",searchTitle:"Do you have the patient's NHS Number?"};var bo=Object(c.b)(function(e){return e.patientSearch},{toggleNhsKnown:function(e){return{type:Sc.SET_NHS_KNOWN,payload:{value:e}}},getPatients:function(e){return function(){var t=Object(k.a)(w.a.mark(function t(a){var n,r,i;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:Sc.REQUEST_SENT,payload:{searchTerms:e}}),t.prev=1,t.next=4,Oc(e);case 4:n=t.sent,a({type:Sc.SET_PATIENT,payload:{results:n.reduce(jc,[])}}),t.next=15;break;case 8:t.prev=8,t.t0=t.catch(1),r=t.t0.response,i=(r=void 0===r?{}:r).status,a({type:Sc.REQUEST_ERROR,payload:{errorCode:i}}),Z("Error in patient search.",{error:t.t0})("error");case 15:case"end":return t.stop()}},t,null,[[1,8]])}));return function(e){return t.apply(this,arguments)}}()},clearPatients:function(){return{type:Sc.CLEAR}}})(ho),vo="new-patient/POST_SENT",_o="new-patient/POST_SUCCESS",go="new-patient/POST_ERROR",yo="new-patient/RESET_STATE",Eo={isSaving:!1,error:null,success:null,ngisUid:null},Co=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Eo,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case vo:return Object(T.a)({},e,{isSaving:!0});case _o:var r=n.ngisUid;return Object(T.a)({},e,{isSaving:!1,success:!0,error:!1,ngisUid:r});case go:return Object(T.a)({},e,{isSaving:!1,success:!1,error:!0,ngisUid:null});case yo:return Object(T.a)({},Eo);default:return e}},Oo=a(221),jo=a.n(Oo),So=vr.a.bind(jo.a),wo={title:"",firstName:"",familyName:"",dateOfBirth:"",administrativeGender:"",lifeStatus:"",dateOfDeath:"",ethnicity:"",hospitalNumber:"",postcode:"",address:["","","","",""]},ko=function(e){var t=e.savePatient,a=e.startReferral,i=e.inReferral,s=e.ciguid,c=e.hasNgisUid,o=e.error;return r.a.createElement(Er.Consumer,null,function(e){var l=e.codes,u=l.ethnicity,p=l.lifeStatus,f=l.relationshipTypes,h=l.administrativeGender,b=e.config;return r.a.createElement(Rs,{initialValues:wo,validate:function(e){var t=e.nhsNumber,a=co(t);return a?{nhsNumber:a}:{}},onSubmit:function(e,a){return t(e,a,b)},enableUnsavedChangesWarning:!0},function(e){var t=e.isSubmitting,l=e.values,v=Object(L.a)(e,["isSubmitting","values"]);return r.a.createElement("div",null,r.a.createElement(qi,{label:"Title",name:"title",disabled:c}),r.a.createElement(qi,{label:"First name",name:"firstName",required:!0,disabled:c}),r.a.createElement(qi,{label:"Last name",name:"familyName",required:!0,disabled:c}),r.a.createElement(qi,{label:"Date of birth",name:"dateOfBirth",type:"date",disabled:c,required:!0}),r.a.createElement(ms,{label:"Gender",name:"administrativeGender",options:h,disabled:c,required:!0}),r.a.createElement(ms,{label:"Life status",name:"lifeStatus",options:p,disabled:c,required:!0}),r.a.createElement(qi,{label:"Date of death",name:"dateOfDeath",disabled:c,type:"date"}),r.a.createElement(ms,{label:"Ethnicity",name:"ethnicity",options:u,disabled:c}),r.a.createElement(qi,{label:"NHS Number",name:"nhsNumber",placeholder:"e.g. 1231237890",type:"number",limitNumberOfCharacters:10,disabled:c}),r.a.createElement(qi,{label:"Hospital number",name:"hospitalNumber",disabled:c,required:!l.nhsNumber}),i&&r.a.createElement(ms,{label:"Relationship to proband",name:"relationship",options:f,required:!0}),r.a.createElement(Mi,{disabled:c}),r.a.createElement(gs,{type:"submit",size:"medium",disabled:(t||c)&&!o,className:So("new-patient-form__submit-button")},i?"Add new patient to referral":"Save patient details to NGIS"),c&&r.a.createElement(Bs,{type:"success",className:So("new-patient-form__success-notification")},"Details saved"),o&&r.a.createElement(Bs,{type:"error",className:So("new-patient-form__success-notification")},"Unable to save details"),!i&&c&&function(e,t,i){return r.a.createElement(n.Fragment,null,!s&&r.a.createElement(Bs,{type:"warning",className:So("new-patient-form__notification")},"You need to add a Clinical Indication from the"," ",r.a.createElement("a",{href:i.testDirectoryPrivateUrl,className:So("new-patient-form__external-link")},"Test Directory")," ","before you can start a new referral."),r.a.createElement(gs,{type:"button",size:"medium",disabled:!s,className:So("new-patient-form__submit-button"),onClick:function(){a(e,t,i)}},"Start a new referral"))}(l,v,b),!i&&r.a.createElement("div",{className:So("new-patient-form__back")},r.a.createElement(zs,{to:"".concat(d,"/").concat(m)},"Go back to patient search")))})})},To=a(222),Io=a.n(To),No=vr.a.bind(Io.a),xo=function(e){var t=e.startReferral,a=e.savePatient,i=Object(L.a)(e,["startReferral","savePatient"]);return r.a.createElement(n.Fragment,null,r.a.createElement(mc,null,"Add a new patient to the database"),r.a.createElement($r,{size:"5",element:"p",className:No("new-patient__intro")},"Patient details entered here will be ",r.a.createElement("strong",{className:No("new-patient__bold")},"added to NGIS only"),". Please contact the patient's GP to have their details entered into NHS Spine."),r.a.createElement(ko,Object.assign({startReferral:t,savePatient:a},i)))},Lo=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(pr.a)(this,(e=Object(fr.a)(t)).call.apply(e,[this].concat(r)))).clinicalIndication=Ba(o),a.savePatient=function(){var e=Object(k.a)(w.a.mark(function e(t,n,r){var i,s,c,o,l,u,d,m,p;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.setSubmitting,s=a.props,c=s.onAddNewPatient,o=s.onAddParticipant,l=s.navigate,u=s.inReferral,e.prev=2,e.next=5,c(t,r);case 5:if(d=e.sent,!u){e.next=11;break}return m=t.relationship,p=void 0===m?{}:m,e.next=10,o(d,p);case 10:l("../".concat(d,"/").concat(Se));case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),i(!1),Z("Error in new patient container.",{error:e.t0})("error");case 17:i(!1);case 18:case"end":return e.stop()}},e,null,[[2,13]])}));return function(t,a,n){return e.apply(this,arguments)}}(),a.startReferral=function(){var e=Object(k.a)(w.a.mark(function e(t,n,r){var i,s,c,o,m,p,f,h,v,_,g,y;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.setSubmitting,s=r.routinePriority,c=r.createdReferralStatus,o=a.props,m=o.onCreateReferral,p=o.navigate,f=o.ngisUid,i(!0),h=Ba(u)||null,v=Ba(l)||null,_=v?v.split(",").map(function(e){return{ciTestTypeUid:e,procedureRequests:[{patientId:f}]}}):[],!f){e.next=22;break}return e.prev=8,e.next=11,m(Object(T.a)({ngisUid:f,clinicalReason:a.clinicalIndication,priorityId:s,statusId:c},h&&{orderingEntityId:h},_.length>0?{tests:_}:{}));case 11:g=e.sent,y=g.id,p("".concat(d,"/").concat(b,"/").concat(y)),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(8),i(!1),Z("Error in new patient container.",{error:e.t0})("error");case 20:e.next=23;break;case 22:i(!1);case 23:case"end":return e.stop()}},e,null,[[8,16]])}));return function(t,a,n){return e.apply(this,arguments)}}(),a}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"componentWillUnmount",value:function(){this.props.onResetState()}},{key:"render",value:function(){var e=this.props,t=e.inReferral,a=e.ngisUid;return r.a.createElement(xo,{startReferral:this.startReferral,savePatient:this.savePatient,inReferral:t,hasNgisUid:!!a,ciguid:this.clinicalIndication,error:this.props.error})}}]),t}(n.Component),Po=Object(c.b)(function(e){return e.newPatient},{onAddNewPatient:function(e,t){return function(){var a=Object(k.a)(w.a.mark(function a(n){var r,i;return w.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:vo}),a.prev=1,a.next=4,$n(e,t);case 4:return r=a.sent,i=r.uid,n({type:_o,payload:{ngisUid:i}}),a.abrupt("return",i);case 10:return a.prev=10,a.t0=a.catch(1),n({type:go}),Z("Error in add new patient.",{error:a.t0})("error"),a.abrupt("return",a.t0);case 15:case"end":return a.stop()}},a,null,[[1,10]])}));return function(e){return a.apply(this,arguments)}}()},onCreateReferral:Un,onAddParticipant:Vn,onResetState:function(){return{type:yo}}})(Lo),Ao={display:gr.a.string.isRequired,path:gr.a.string.isRequired,component:gr.a.string.isRequired,nested:gr.a.bool,extended:gr.a.bool,entities:gr.a.any},Ro=(gr.a.arrayOf(gr.a.shape(Ao)),gr.a.bool,gr.a.bool,gr.a.string.isRequired,gr.a.string.isRequired,"priority/GET_INITIAL_DATA"),Do="priority/ERROR",qo={priorityCodes:[],isLoading:!0,error:!1},Mo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qo,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case Ro:var r=n.priorityCodes;return Object(T.a)({},e,{priorityCodes:r,isLoading:!1,error:!1});case Do:return Object(T.a)({},e,{priorityCodes:[],isLoading:!1,error:!0});default:return e}},Fo=(gr.a.string,gr.a.string,gr.a.shape({name:gr.a.string}),gr.a.string.isRequired,gr.a.arrayOf(gr.a.shape({code:gr.a.string,codesystemUri:gr.a.string,display:gr.a.string,uid:gr.a.string})).isRequired,gr.a.string,gr.a.bool,gr.a.bool,a(223)),Uo=a.n(Fo),Bo=a(224),Vo=a.n(Bo),Go=vr.a.bind(Vo.a),Qo=function(e){var t=e.title,a=e.type,n=e.name,i=e.optimalFamilyStructure.description;return r.a.createElement("div",{className:Go("test-card")},r.a.createElement($r,{element:"p",className:Go("test-card__title")},t,r.a.createElement("span",{className:Go("test-card__bullet")}),a),r.a.createElement($r,{element:"p",size:"6",className:Go("test-card__name")},n),r.a.createElement("div",{className:Go("test-card__test-category-background")},r.a.createElement("div",{className:Go("test-card__test-category")},r.a.createElement(Gr,null),r.a.createElement($r,{element:"p",className:Go("test-card__test-type")},"Routine"))),r.a.createElement("div",{className:Go("test-card__test-category-background")},r.a.createElement("div",{className:Go("test-card__test-category")},r.a.createElement(Ur,null),r.a.createElement($r,{element:"p",className:Go("test-card__test-type")},i))))},zo=a(225),Ho=a.n(zo),Jo=32,Zo=13,Wo=function(e,t,a){[Zo,Jo].includes(e)&&t(a)},Yo=vr.a.bind(Ho.a),Ko=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(pr.a)(this,(e=Object(fr.a)(t)).call.apply(e,[this].concat(r)))).setSelected=function(){var e=a.props;(0,e.onChange)(!e.selected)},a}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.selected,n=(t.onChange,t.className),i=Object(L.a)(t,["selected","onChange","className"]);return r.a.createElement("div",Object.assign({tabIndex:"0"},i,{className:Yo("checkbox-card",{className:n,"checkbox-card--checked":a}),onClick:this.setSelected,onKeyDown:function(t){var a=t.which;return Wo(a,e.setSelected)}}),r.a.createElement("div",{className:Yo("checkbox-card__body")},this.props.children({selected:a})),r.a.createElement("span",{className:Yo("checkbox-card__checkmark",{"checkbox-card__checkmark--checked":a})}))}}]),t}(n.Component);Ko.defaultProps={selected:!1,onChange:function(){}};var Xo=Ko,$o=[{uid:"one",display:"1"},{uid:"two",display:"2"},{uid:"three",display:"3"},{uid:"four",display:"4"},{uid:"five",display:"5"},{uid:"six",display:"6"},{uid:"seven",display:"7"},{uid:"eight",display:"8"}],el=a(226),tl=a.n(el),al=vr.a.bind(tl.a),nl=function(e){var t=e.text;return r.a.createElement("span",{className:al("relationship-tag")},t)},rl=a(82),il=a.n(rl),sl=vr.a.bind(il.a),cl="".concat("../../","../test-package"),ol="quoted for this test",ll=function(e){var t=e.type,a=e.children,i=e.participantsNumber,s=(i=void 0===i?{}:i).uid,c=void 0===s?"":s,o="one"===c?"participant was":"participants were";return r.a.createElement(n.Fragment,null,"add"===t?r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:sl("test-list-item__info-message")},r.a.createElement(Ir,null),r.a.createElement($r,{element:"p",className:sl("test-list-item_info-message-text")},r.a.createElement("span",{className:sl("test-list-item__capitalize")},c)," ",o," ",ol)),r.a.createElement("div",{className:sl("test-list-item__member-options")},r.a.createElement(Tr,null),r.a.createElement(zs,{to:"../../"},a))):r.a.createElement(n.Fragment,null,r.a.createElement(Jr,null,r.a.createElement("span",{className:sl("test-list-item__capitalize")},c)," ",o," ",ol),r.a.createElement("div",{className:sl("test-list-item__member-options")},r.a.createElement(Or,null),r.a.createElement(zs,{to:"../../"},a))),r.a.createElement("div",{className:sl("test-list-item__member-options")},r.a.createElement(Vr,null),r.a.createElement(zs,{to:cl},"Edit quoted participants")))},ul=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(Jr,null,"No participants were ".concat(ol)),r.a.createElement("div",{className:sl("test-list-item__member-options")},r.a.createElement(Vr,null),r.a.createElement(zs,{to:cl},"Edit quoted participants")))},dl=vr.a.bind(il.a),ml={uid:"one",display:"1"},pl=function(e){function t(){var e,a;Object(g.a)(this,t);for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return(a=Object(pr.a)(this,(e=Object(fr.a)(t)).call.apply(e,[this].concat(s)))).initialValues={numberOfParticipants:{uid:"",display:""}},a.componentDidMount=function(){var e=a.props,t=e.handleParticipantsNumber,n=e.multipleParticipants,r=e.id,i=e.sendDefaultSelectedTest,s=e.isTestDefaultSelected;n||t(ml,r),s&&i()},a.getPatientsNumberFromTemplate=function(e){return $o.find(function(t){var a=t.display;return e&&a===e.toString()})},a.displayBottomSection=function(){var e=a.props,t=e.multipleParticipants,i=e.checked;return i&&t?r.a.createElement(n.Fragment,null,a.renderDropdown(),a.renderSelectedMembers()):!t&&i?r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:dl("test-list-item__dropdown")},r.a.createElement($r,{element:"p"},"This test is for one person only."))):""},a.displayInfoMessages=function(e){var t=a.props.currentTestOnReferral,i=Object(R.a)(t,1)[0],s=(i=void 0===i?{}:i).expectedNumberOfPatients,c=e.length+1,o=s&&s<c,l=!s,u=s&&!o&&s!==c,d=a.getPatientsNumberFromTemplate(s);return r.a.createElement(n.Fragment,null,o&&r.a.createElement(ll,{type:"remove",participantsNumber:d},"Remove a family member"),u&&r.a.createElement(ll,{type:"add",participantsNumber:d},"Add participants to quote"),l&&r.a.createElement(ul,null))},a.renderSelectedMembers=function(){var e=a.props,t=e.checked,n=e.selectedMembers,i=e.showParticipantsNumber,s=e.activePatient.relationship.display,c=void 0===s?"":s,o=n;t?c&&!o.includes(c)&&(o=[].concat(Object(P.a)(n),[c])):o=o.filter(function(e){return e!==c});var l=t&&!i;return r.a.createElement("div",{className:dl("test-list-item__selected-family-members")},r.a.createElement($r,{element:"h4",size:"6",className:dl("test-list-item__selected-title")},"Selected family members"),r.a.createElement(nl,{text:"Proband"}),o.sort().map(function(e){return r.a.createElement(nl,{key:e,text:e})}),l&&a.displayInfoMessages(o))},a.renderDropdown=function(){var e=a.props,t=e.handleParticipantsNumber,i=e.currentTestOnReferral,s=void 0===i?{}:i,c=e.initialValues,o=Object(R.a)(s,1)[0],l=(o=void 0===o?{}:o).expectedNumberOfPatients;return a.initialValues=Object(T.a)({},c,{numberOfParticipants:$o.find(function(e){var t=e.display;return l&&t===l.toString()})}),r.a.createElement("div",{className:dl("test-list-item__dropdown")},r.a.createElement(Rs,{initialValues:a.initialValues,validate:function(e){var t={};return e.numberOfParticipants||(t.numberOfParticipants="Select the total number of participants you expect for this test"),Object(T.a)({},t)},enableUnsavedChangesWarning:!0},function(){return r.a.createElement(n.Fragment,null,r.a.createElement(ms,{id:"numberOfParticipants",name:"numberOfParticipants",label:"Total number of participants",component:ds,options:$o,required:!0,onChange:t}))}))},a}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.type,n=e.name,i=e.description,s=e.handleChange,c=e.checked,o=e.optimalFamilyStructure,l=e.showParticipantsNumber;return r.a.createElement("div",{className:dl("test-list-item")},r.a.createElement("div",{className:dl("test-list-item__checkbox")},r.a.createElement(Xo,{selected:c,onChange:s},function(){return r.a.createElement(Qo,{title:t,type:a,name:n,optimalFamilyStructure:o})})),r.a.createElement("div",{className:dl("test-list-item__split-section")},r.a.createElement("div",{className:dl("test-list-item__details")},r.a.createElement($r,{element:"h4",size:"6",className:dl("test-list-item__target")},"Targeted genes"),r.a.createElement($r,{element:"p",size:"8",className:dl("test-list-item__description")},i)),r.a.createElement("div",{className:dl("test-list-item__section-row")},l?this.displayBottomSection():this.renderSelectedMembers())))}}]),t}(r.a.Component),fl=vr.a.bind(Uo.a),hl=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(pr.a)(this,(e=Object(fr.a)(t)).call.apply(e,[this].concat(r)))).initialValues={numberOfParticipants:{uid:"",display:""}},a.state={participantTestSelected:!0},a.handleOnChange=function(e,t,n){var r=a.props,i=r.isProband,s=r.activePatientId,c=r.toggleSelectedTests,o=r.setNumberOfParticipants,l=r.showParticipantsNumber;a.setState(function(e){return{participantTestSelected:!e.participantTestSelected}}),c({id:t,selected:e,isProband:i,patientId:s}),l&&o({uid:"",display:""},t),!n&&e&&o({uid:"one",display:"1"},t)},a}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.clinicalIndicationId,a=e.getAllData;e.testDataIsLoading&&a(t)}},{key:"render",value:function(){var e=this,t=this.props,a=t.probandTests,n=t.participantTestOptions,i=void 0===n?[]:n,s=t.participantTests,c=void 0===s?[]:s,o=t.isProband,l=t.setNumberOfParticipants,u=t.showParticipantsNumber,d=t.testsOnReferral,m=t.activePatient,p=void 0===m?{}:m,f=t.otherPatients,h=void 0===f?[]:f,b=t.toggleSelectedTests,v=t.activePatientId,_=t.isTestDefaultSelected,g=t.isNewPatient,y=this.state.participantTestSelected,E=i.map(function(e){return Object(T.a)({},e,{selected:g?c.includes(e.id):y})}),C=o?a:E;return r.a.createElement("div",{className:fl("test-list")},C.map(function(t){var a=t.id,n=t.testType,i=n.name,s=n.currentTechnology,c=n.targetName,o=t.code,m=t.optimalFamilyStructure,f=t.selected,g=t.multipleParticipantsPermitted,y=d.filter(function(e){return e.ciTestTypeId===a}),E=Object(R.a)(y,1)[0],C=(E=void 0===E?[]:E).procedureRequests,O=(C?h.filter(function(e){return C.some(function(t){var a=t.patientId;return e.id===a})}):[]).map(function(e){return e.relationshipToProband.display});return r.a.createElement(pl,{key:a,title:s,type:o,name:i,description:c,checked:!!f,showParticipantsNumber:u,handleChange:function(t){return e.handleOnChange(t,a,g)},handleParticipantsNumber:function(e){return l(e,a)},multipleParticipants:g,optimalFamilyStructure:m,currentTestOnReferral:y,initialValues:e.initialValues,activePatient:p,selectedMembers:O,isTestDefaultSelected:_,sendDefaultSelectedTest:function(){return b({id:a,selected:f,patientId:v})}})}))}}]),t}(n.Component),bl=Object(c.b)(function(e,t){var a=e.testList,n=e.referral,r=e.patientDetails,i=t.activePatientId;return Object(T.a)({},a,{probandTests:nn(a),participantTestOptions:rn(a),participantTests:an(a)[i],clinicalIndicationId:Ln(n),testsOnReferral:tn(a),activePatient:Sn(n),otherPatients:Nn(n),isNewPatient:lr(r)})},{getAllData:fn,toggleSelectedTests:function(e){var t=e.id,a=e.selected,n=e.patientId;return{type:Ja,payload:{id:t,selected:a,patientId:n}}},saveTestSelection:hn,setNumberOfParticipants:function(e,t){return function(a,n){var r=n().testList,i=r.testsPerParticipant,s=r.probandId,c=r.testsOnReferral,o=function(e,t){return e.map(function(e){var a=e.ciTestTypeUid,n=Object(L.a)(e,["ciTestTypeUid"]);return Object(T.a)({ciTestTypeId:a},n,t.find(function(e){return e&&e.ciTestTypeId===a}))})}(za(i,s),c).reduce(function(a,n){return n.ciTestTypeId===t?[].concat(Object(P.a)(a),[Object(T.a)({},n,{expectedNumberOfPatients:e&&""!==e.display?e.display:null,panels:[],regions:[],variants:[]})]):[].concat(Object(P.a)(a),[n])},[]);a({type:Ka,payload:{testsOnReferral:o}})}}})(hl),vl=a(227),_l=a.n(vl),gl=vr.a.bind(_l.a),yl=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(pr.a)(this,(e=Object(fr.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(){a.props.saveTestSelection()},a.componentDidMount=function(){var e=a.props;(0,e.getAllData)(e.clinicalIndicationId)},a}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.activePatientId,a=e.clinicalIndicationId,i=e.error,s=e.isLoading,c=e.navigate,o=e.nextStage,l=e.priorityCode,u=e.priorityCodes,d=e.selectedPriorityCode,m=e.setPriorityCode,p=e.probandTests,f=d||l,h=p.filter(function(e){return e.selected}).length;return r.a.createElement(n.Fragment,null,r.a.createElement(mc,null,"Confirm the test package"),i?r.a.createElement(Bs,{type:"error",className:gl("test-package__error")},"Error retrieving test package details for Clinical Indication ID: ",a):r.a.createElement(n.Fragment,null,s?r.a.createElement($r,{element:"p",className:gl("test-package__loading")},"Loading..."):r.a.createElement("div",{className:gl("test-package__priority")},r.a.createElement(di,{name:"priorityCodes",id:f},"What is the priority of your referral?"),u.map(function(e){var t=e.uid,a=e.display;return r.a.createElement(Ji,{key:t,selected:f===t,text:a,value:t,onClick:function(){return m(t)},name:f})}),r.a.createElement(ti,{className:gl("test-package__notice")},"Choose ",r.a.createElement("strong",null,"Urgent")," if you want the laboratory to prioritise some or all of your tests.")),r.a.createElement("div",{className:gl("test-package__select-tests")},r.a.createElement($r,{element:"h3",size:"4",className:gl("test-package__select-tests-heading")},"Selected tests for proband ","(".concat(h,")")),r.a.createElement($r,{element:"p"},"Available tests for this clinical indication are listed below in order of priority and sequence. You can select or deselect individual tests and edit the number of participants for each, if required (the number should include the proband).")),r.a.createElement(bl,{isProband:!0,showParticipantsNumber:!0,activePatientId:t,className:gl("test-package__test-list")}),r.a.createElement(Os,{handleClick:this.handleSubmit,navigateTo:o,navigate:c})))}}]),t}(n.Component),El=Object(c.b)(function(e){var t=e.priority,a=e.referral,n=e.testList;return Object(T.a)({},t,{probandTests:nn(n),selectedPriorityCode:Rn(a),activePatientId:wn(a),clinicalIndicationId:Ln(a),priorityCode:Rn(a),probandId:Tn(a),isProband:In(a)})},{getAllData:function(e){return function(){var t=Object(k.a)(w.a.mark(function t(a){var n,r;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i=e,M.a.all([fe(i),me()]).then(M.a.spread(function(e,t){return{testList:e,priorityCodes:t}})).catch(function(e){return Promise.reject(e)});case 3:n=t.sent,r=n.priorityCodes,a({type:Ro,payload:{priorityCodes:r}}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),Z(t.t0)("error"),a({type:Do});case 12:case"end":return t.stop()}var i},t,null,[[0,8]])}));return function(e){return t.apply(this,arguments)}}()},setPriorityCode:function(e){return function(t,a){var n=a().priority.priorityCodes;t({type:_n.UPDATE_PRIORITY,payload:{priorityObject:n.find(function(t){return t.uid===e})}})}},saveTestSelection:hn})(yl),Cl=(gr.a.shape({forename:gr.a.string.isRequired,surname:gr.a.string.isRequired,contactDetails:gr.a.string.isRequired,departmentalAddress:gr.a.string,professionalRegistrationNumber:gr.a.string,role:gr.a.shape({uid:gr.a.string,codesystemUri:gr.a.string,display:gr.a.string,code:gr.a.string})}),function(e){return"textarea"===e?{component:Ri}:{type:e}}),Ol=[{name:"forename",label:"First name",placeholder:"e.g. Karen",type:"textinput"},{name:"surname",label:"Last name",required:!0,placeholder:"e.g. Smith",type:"textinput"},{name:"emailAddress",label:"Email address",placeholder:"e.g. karen.smith@nhs.net",hint:"Laboratories will only return results to an address approved to receive patient information",type:"textinput"},{name:"phoneNumber",label:"Phone number",placeholder:"e.g. 07823423423",type:"textinput",maxLength:"15"},{name:"departmentalAddress",label:"Department name and address",placeholder:"e.g. 105 Victoria Street Westminster London SW1E 6QT",hint:"Test results will be sent here",requiredByReferral:!0,type:"textarea"},{name:"professionalRegistrationNumber",label:"Professional registration number",placeholder:"e.g. 28972091200190",type:"textarea"}],jl=a(228),Sl=a.n(jl),wl=vr.a.bind(Sl.a),kl=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(pr.a)(this,(e=Object(fr.a)(t)).call.apply(e,[this].concat(i)))).initialValues={additionalClinicians:[],responsibleClinician:{forename:"",surname:"",emailAddress:"",phoneNumber:"",departmentalAddress:"",professionalRegistrationNumber:"",role:{uid:""}},responsibleClinicianRequired:{uid:"true"}},a.getFormNamesFromTemplate=function(){return Ol.reduce(function(e,t){var a=t.name;return Object(T.a)({},e,Object(W.a)({},a,""))},{})},a.renderFromTemplate=function(e){var t=e.name;return Ol.map(function(e){var a=e.name,n=e.label,i=e.type,s=Object(L.a)(e,["name","label","type"]);return r.a.createElement(qi,Object.assign({key:a,name:"".concat(t,".").concat(a),label:n},Cl(i),s))})},a.renderAddButton=function(e){var t=e.arrayHelpers;return r.a.createElement(gs,{className:wl("clinician-details-form__add"),link:!0,size:"medium",type:"button",onClick:function(){return t.push(a.getFormNamesFromTemplate())}},"Add another")},a}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.handleSubmit,i=t.initialValues,s=t.nextStage,c=t.navigate;return this.initialValues=Object(T.a)({},this.initialValues,i),r.a.createElement(Rs,{initialValues:this.initialValues,onSubmit:function(){var e=Object(k.a)(w.a.mark(function e(t,n){var r;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.setSubmitting,e.next=3,a(t);case 3:r(!1);case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),enableUnsavedChangesWarning:!0},function(t){var a=t.values,i=t.isSubmitting;return r.a.createElement(n.Fragment,null,r.a.createElement($r,{size:"4",className:wl("clinician-details-form__heading")},"Responsible clinician"),"true"===a.responsibleClinicianRequired.uid&&e.renderFromTemplate({name:"responsibleClinician"}),r.a.createElement($r,{size:"4",className:wl("clinician-details-form__contact__heading")},"Additional contacts"),r.a.createElement($r,{size:"7",className:wl("clinician-details-form__info")},"A referral can include as many additional clinicians as needed. Each contact will receive a copy of the report."),r.a.createElement(Cr.c,{name:"additionalClinicians"},function(t){return r.a.createElement("div",null,a.additionalClinicians&&a.additionalClinicians.map(function(n,i){return r.a.createElement("div",{key:i},i>=1&&r.a.createElement($r,{size:"4",className:wl("clinician-details-form__additional__heading")},"Additional contact ".concat(i+1)),e.renderFromTemplate({name:"additionalClinicians[".concat(i,"]"),labelSuffix:" - Additional clinician"}),r.a.createElement("div",{className:wl("clinician-details-form__buttons")},i===a.additionalClinicians.length-1&&e.renderAddButton({arrayHelpers:t}),r.a.createElement(gs,{className:wl("clinician-details-form__remove"),link:!0,size:"medium",type:"button",onClick:function(){return t.remove(i)}},"Remove")))}),a.additionalClinicians&&0===a.additionalClinicians.length&&e.renderAddButton({arrayHelpers:t}))}),r.a.createElement(Os,{disabled:i,navigateTo:s,navigate:c,type:"submit"}))})}}]),t}(n.Component),Tl=a(229),Il=a.n(Tl),Nl=vr.a.bind(Il.a),xl=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(pr.a)(this,(e=Object(fr.a)(t)).call.apply(e,[this].concat(r)))).state={initialValues:{additionalClinicians:[],responsibleClinician:{forename:"",surname:"",emailAddress:"",phoneNumber:"",departmentalAddress:"",professionalRegistrationNumber:"",role:{uid:""}},responsibleClinicianRequired:{uid:"true"}}},a.componentDidMount=Object(k.a)(w.a.mark(function e(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.setInitialValues();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Z("Error get clinicians",{error:e.t0})("error");case 8:case"end":return e.stop()}},e,null,[[0,5]])})),a.addRole=function(e,t){return Object(T.a)({},e,{role:t})},a.transformClinicianForPost=function(e){e.id;return Object(L.a)(e,["id"])},a.handleSubmit=function(e){var t=e.responsibleClinicianRequired,n=e.additionalClinicians,r=e.responsibleClinician,i=a.context.config,s=i.additionalClinicianRole,c=i.responsibleClinicianRole,o=a.props.updateReferralAction,l=a.addRole(r,c),u=n.map(function(e){return a.addRole(e,s)});o({clinicians:("false"===t?a.addRole(Object(P.a)(u)):[l].concat(Object(P.a)(u))).reduce(function(e,t){return[].concat(Object(P.a)(e),[{clinician:Qe(t)}])},[])})},a.setInitialValues=Object(k.a)(w.a.mark(function e(){var t,n,r,i,s,c,o,l;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.clinicians,n=a.context.config,r=n.additionalClinicianRole,i=n.responsibleClinicianRole,t.length>0&&(s=t.filter(function(e){return e.clinician.role.uid===i}).map(function(e){var t=e.clinician;return a.transformClinicianForPost(t)}),c=Object(R.a)(s,1),o=c[0],l=t.filter(function(e){return e.clinician.role.uid===r}).map(function(e){var t=e.clinician;return a.transformClinicianForPost(t)}),a.setState({initialValues:Object(T.a)({},a.initialValues,{responsibleClinician:o,additionalClinicians:l})})),e.abrupt("return",a.initialValues);case 4:case"end":return e.stop()}},e)})),a}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.nextStage,a=e.navigate;return r.a.createElement(n.Fragment,null,r.a.createElement(mc,null,"Add clinician information"),r.a.createElement($r,{size:"5",className:Nl("clinician-details__intro")},"Each referral requires a responsible clinician. They are ultimately accountable for referral accuracy and sample collection. A referral can also include additional clinicians. All linked clinicians will receive the test results."),r.a.createElement(kl,{initialValues:this.state.initialValues,handleSubmit:this.handleSubmit,nextStage:t,navigate:a}))}}]),t}(n.Component);xl.contextType=Er;var Ll=xl,Pl=Object(c.b)(function(e){var t=e.referral;return{clinicians:Cn(t)}},{updateReferralAction:mt})(Ll),Al=function(){return Object(D.a)(M.a.create())},Rl="/".concat("api/codessearch","/hpo_modifier"),Dl="/".concat("api/codessearch","/hpo"),ql="/".concat("api/codessearch","/observation_value"),Ml=function(e){return Al().get("".concat("/api/PatientObservations/").concat(e)).then(function(e){return e.data.observations}).catch(function(e){return Promise.reject(e)})},Fl=function(e,t){Al().put("".concat("/api/PatientObservations/").concat(t),{observations:e}).catch(function(e){return Promise.reject(e)})},Ul="clinical-questionnaire/REQUEST_SENT",Bl="clinical-questionnaire/REQUEST_ERROR",Vl="clinical-questionnaire/SET_STAGE",Gl="clinical-questionnaire/SAVE_FORM",Ql="clinical-questionnaire/CLEAR_DATA",zl={stage:null,isLoading:!1,errorCode:null},Hl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zl,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case Ul:return Object(T.a)({},e,{isLoading:!0});case Bl:return Object(T.a)({},e,{isLoading:!1,errorCode:n.errorCode});case Vl:return Object(T.a)({},e,{isLoading:!1,stage:n.stage,errorCode:null});case Ql:return zl;default:return e}},Jl=gr.a.object,Zl=(gr.a.func,gr.a.func,gr.a.func,gr.a.func,gr.a.string,gr.a.string,gr.a.string,gr.a.object.isRequired,gr.a.arrayOf(gr.a.object).isRequired,a(230)),Wl=a.n(Zl),Yl=vr.a.bind(Wl.a),Kl=function(e){var t=e.children,a=e.helpText,n=e.title,i=e.subtitle;return r.a.createElement("div",{className:Yl("form-group")},n&&r.a.createElement($r,{element:"h2",size:"3",className:Yl("form-group__heading")},n),i&&r.a.createElement($r,{element:"h3",size:"6",className:Yl("form-group__sub-heading")},i),a&&r.a.createElement($r,{element:"p",className:Yl("form-group__help-text")},a),t)},Xl=a(231),$l=a.n(Xl),eu=vr.a.bind($l.a),tu=function(e){function t(){return Object(g.a)(this,t),Object(pr.a)(this,Object(fr.a)(t).apply(this,arguments))}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.label,a=e.className,n=e.id,i=e.name,s=e.checked,c=Object(L.a)(e,["label","className","id","name","checked"]);return r.a.createElement("label",{className:eu("radio",a)},r.a.createElement("input",Object.assign({className:eu("radio__input"),id:n||i,name:i,checked:s},c,{type:"radio"})),r.a.createElement("span",{className:eu("radio__mark")}),r.a.createElement("span",{className:eu("radio__text")},t))}}]),t}(n.PureComponent),au=(Object(Cr.f)(function(e){var t=e.formik,a=e.field,n=(e.form,e.option),i=Object(L.a)(e,["formik","field","form","option"]),s=Object(T.a)({},n),c=s.uid,o=s.display,l=Object(Cr.g)(t.values,a.name).uid;return r.a.createElement(tu,Object.assign({},a,i,{checked:l===c,label:o,value:c,onChange:function(){t.setFieldValue(a.name,n),t.setFieldTouched(a.name,!0)}}))}),function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(pr.a)(this,(e=Object(fr.a)(t)).call.apply(e,[this].concat(r)))).state={options:[],isLoading:!0},a.componentDidMount=Object(k.a)(w.a.mark(function e(){var t,n,r,i;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props,n=t.url,r=t.formatResults,!t.fetchOnLoad){e.next=12;break}return e.prev=2,e.next=5,cs(n);case 5:i=e.sent,a.setState({options:"function"===typeof r?r(i):i,isLoading:!1}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),Z("Error in getting the options for AsyncSelect")("error");case 12:case"end":return e.stop()}},e,null,[[2,9]])})),a}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.formik,a=e.field,n=e.form,i=(e.onChange,e.hide),s=Object(L.a)(e,["formik","field","form","onChange","hide"]);if(i)return null;var c=this.state,o=c.options,l=c.isLoading,u=Object(Cr.g)(t.errors,a.name),d=Object(Cr.g)(t.touched,a.name)&&u;return r.a.createElement(us,Object.assign({},a,s,{value:a.value,hasError:!!d,options:o,isLoading:l,onChange:function(e){var t=Array.isArray(e)?"":e;n.setFieldValue(a.name,t),n.setFieldTouched(a.name,!0)},onBlur:function(){n.setFieldTouched(a.name,!0)},filterable:!0}))}}]),t}(n.Component));au.defaultProps={fetchOnLoad:!0};var nu=Object(Cr.f)(au),ru=a(232),iu=a.n(ru),su=vr.a.bind(iu.a),cu=function(e){function t(e){var a;Object(g.a)(this,t),(a=Object(pr.a)(this,Object(fr.a)(t).call(this,e))).state={type:null,renderedSearchPaths:null},a.handleValuesChange=function(e){var t=a.state.renderedSearchPaths,n=e.name;a.setState({type:n,renderedSearchPaths:t.every(function(e){return e.codesystemUri!==n})?[].concat(Object(P.a)(t),[e]):t})};var n=e.formik,r=e.data,i=(r=void 0===r?{searchPaths:[]}:r).searchPaths,s=e.name,c=void 0===s?"":s,o=Object(Cr.g)(n.values,c)||i[0];return a.state={type:o.codesystemUri,renderedSearchPaths:[o]},a}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.type,n=t.renderedSearchPaths,i=this.props,s=i.data.searchPaths,c=i.formatResults,o=i.uiAttributes,l=i.name,u=i.label,d=i.id,m=i.required,p=i.hint,f=i.disableErrorMessage,h=i.searchPath,b=i.hideLabel,v=i.validate,_=i.renderSwitchOptions;return r.a.createElement("div",{className:su("switchable-enum")},r.a.createElement(ii,null,u&&r.a.createElement(di,{id:d,name:l,required:m,hide:b},u),_&&s.map(function(t,n){return r.a.createElement(tu,{className:su("switchable-enum__radio"),key:n,id:t.name,name:"".concat(l,"-radio"),label:t.name,value:t.name,checked:a===t.name,onChange:function(){return e.handleValuesChange(t)}})}),n.map(function(t,n){return r.a.createElement(Cr.b,Object.assign({},e.props,{key:n,name:l,component:nu,url:"".concat(h,"/").concat(t.codesystemUri),hide:a!==t.codesystemUri,formatResults:c},o,{validate:Di({required:m,label:u,validate:v}),fetchOnLoad:!1}))}),p&&r.a.createElement(ti,null,p),!f&&r.a.createElement(Cr.a,{name:l,component:Jr})))}}]),t}(n.Component),ou=Object(Cr.f)(cu),lu=Object(Cr.f)(function(e){var t=e.formik,a=Object(L.a)(e,["formik"]);return r.a.createElement(ms,Object.assign({},a,{onChange:function(e){var a=e.uid,n=void 0===a?"":a;t.setStatus({selectedDiseaseStatus:n})}}))}),uu=function(e){return e&&e%1!==0},du=function(e){return e>0},mu=function(e){return e<0},pu=function(e){return Math.ceil(e/12)},fu=function(e){var t=e.years,a=e.max,n=e.months,r=void 0===n?0:n,i=12*t;return du(t)&&i+r>a},hu=function(e){var t=e.find(function(e){return(0,e.rule)()});return t&&t.message},bu=function(e){var t=e.years,a=e.months,n=e.max,r=e.required;return hu([{rule:function(){return r&&Number.isNaN(t)&&Number.isNaN(a)},message:"Please enter an age of onset in years and months"},{rule:function(){return uu(a)&&uu(t)},message:"Please enter whole years and months"},{rule:function(){return du(t)&&mu(a)},message:"Only prenatal cases can have a negative number"},{rule:function(){return du(t)&&a>11},message:"Number of months can only exceed 11 if years is 0"},{rule:function(){return mu(t)&&mu(a)},message:"Please enter prenatal age in negative months"},{rule:function(){return fu({years:t,months:a,max:n})},message:"Patient age cannot exceed ".concat(pu(n)," years")}])},vu=function(e){var t=e.months,a=e.min,n=e.max;return hu([{rule:function(){return uu(t)},message:"Please enter whole years and months"},{rule:function(){return t<a},message:"Patient cannot be younger than ".concat(a," months")},{rule:function(){return t>n},message:"Patient age cannot exceed ".concat(n," months")}])},_u=function(e){var t=e.years,a=e.max;return hu([{rule:function(){return uu(t)},message:"Please enter whole years and months"},{rule:function(){return mu(t)},message:"Please enter prenatal age in negative months"},{rule:function(){return fu({years:t,max:a})},message:"Patient age cannot exceed ".concat(pu(a)," years")}])},gu=a(233),yu=a.n(gu),Eu=vr.a.bind(yu.a),Cu=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(pr.a)(this,(e=Object(fr.a)(t)).call.apply(e,[this].concat(r)))).state={years:0,yearsError:!1,months:0,monthsError:!1},a.handleYearChange=function(e){var t=e.target.value,n=a.state.months;a.setState({years:t}),a.setAge({months:n,years:t})},a.handleMonthChange=function(e){var t=e.target.value,n=a.state.years;a.setState({months:t}),a.setAge({months:t,years:n})},a.setAge=function(e){var t=e.months,n=e.years,r=a.props,i=r.formik,s=i.setFieldTouched,c=i.setFieldValue,o=r.name,l="-0"===n?0:parseInt(n,10),u=12*l,d=!Number.isNaN(l),m=parseInt(t,10),p=!Number.isNaN(m);c(o,d&&p?u+m:!d&&p?m:d&&!p?u:""),s(o)},a.validate=function(){var e=a.state,t=e.years,n=e.months,r=a.props,i=r.min,s=r.max,c=r.required,o=parseFloat(t,10),l=parseFloat(n,10),u=bu({years:o,months:l,max:s,required:c}),d=vu({months:l,min:i,max:s}),m=_u({years:o,max:s});return a.setState({monthsError:!1,yearsError:!1}),u?(a.setState({monthsError:!0,yearsError:!0}),u):d?(a.setState({monthsError:!0}),d):!!m&&(a.setState({yearsError:!0}),m)},a}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.formik.values,a=e.name,n=Object(Cr.g)(t,a),r=n?Math.floor(Math.abs(n)/12):"",i=n?n%12:"";this.setState({years:r,months:i})}},{key:"render",value:function(){var e=this.props,t=e.question,a=t.label,n=t.hint,i=e.name,s=e.required,c=e.formik,o=this.state,l=o.months,u=o.monthsError,d=o.years,m=o.yearsError;return r.a.createElement(ii,{className:Eu("age")},r.a.createElement(di,{required:s,name:i,customValidation:function(){return!!Object(Cr.g)(c.errors,i)}},a),r.a.createElement(hi,{name:"".concat(i,"-years"),type:"number",value:d,onChange:this.handleYearChange,hasError:m,className:Eu("age__input"),placeholder:"0"}),r.a.createElement(di,{name:"".concat(i,"-years"),className:Eu("age__label")},"Years"),r.a.createElement(hi,{name:"".concat(i,"-months"),type:"number",value:l,onChange:this.handleMonthChange,hasError:u,className:Eu("age__input"),placeholder:"0"}),r.a.createElement(di,{name:"".concat(i,"-months"),className:Eu("age__label")},"Months"),r.a.createElement(Cr.b,{id:i,name:i,component:bi,required:s,type:"hidden",validate:this.validate}),r.a.createElement(Cr.a,{name:i,component:Jr}),n&&r.a.createElement(ti,null,n))}}]),t}(n.Component),Ou=Object(Cr.f)(Cu),ju=a(234),Su=a.n(ju),wu=a(235),ku=a.n(wu),Tu=vr.a.bind(ku.a),Iu=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(pr.a)(this,(e=Object(fr.a)(t)).call.apply(e,[this].concat(r)))).handleModifiersChange=function(e){var t=a.props;(0,t.handleInputChange)(t.id,e)},a.handleValuesChange=function(e){(0,a.props.handleValuesChange)(a.props.id,e.target.id)},a}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.groupLabel,n=t.modifiers,i=t.values,s=t.selectedValueId,c=t.selectedModifiers,o=t.removeTerm,l=t.id;return r.a.createElement("tr",{className:Tu("hpo-term")},r.a.createElement("td",{className:Tu("hpo-term__name")},a),r.a.createElement("td",null,i.map(function(t){return r.a.createElement(tu,{key:t.code,id:t.uid,checked:s===t.uid,name:a,label:t.display,value:t.display,onChange:e.handleValuesChange})})),r.a.createElement("td",{className:Tu("hpo-term__modifiers")},r.a.createElement(us,{options:n,onChange:this.handleModifiersChange,name:"modifiers",isMulti:!0,isInsideTable:!0,value:c})),r.a.createElement("td",null,r.a.createElement(gs,{className:Tu("hpo-term__delete"),link:!0,onClick:function(){ks({message:"Confirm removal of this HPO term.",action:function(){return o(l)}})},type:"button"},r.a.createElement(Br,null))))}}]),t}(n.Component),Nu=a(236),xu=a.n(Nu),Lu=vr.a.bind(xu.a),Pu=function(e){var t=e.headers,a=e.children,n=e.isSelect,i=e.isHPO,s=e.showError,c=e.className,o=e.isShade,l=e.isSpecimen,u=e.isSpecimenSelect,d=e.narrowCellCount,m=void 0===d?1:d;return r.a.createElement("table",{className:Lu("table",{"table--specimen":l},{"table--specimen-select":u},{"table--row-select":n},{"table--shade":o},{"table--hpo":i},{"table--error":s},c)},r.a.createElement("thead",null,r.a.createElement("tr",null,t.map(function(e,t,a){var n=e.value,i=void 0===n?e:n,s=e.isInvalid,c=void 0!==s&&s,o=t+m>=a.length;return r.a.createElement($r,{element:"th",key:i,className:Lu({error:c,"narrow-cell":o})},i)}))),r.a.createElement("tbody",null,a))},Au=function(e,t){return t.filter(function(t){return!e.some(function(e){return e.code.uid===t.uid})})},Ru=function(e){return e.components.map(function(e){return e.code})},Du=vr.a.bind(Su.a),qu=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(pr.a)(this,(e=Object(fr.a)(t)).call.apply(e,[this].concat(r)))).state={answers:[],observations:a.props.observations,isDiseaseStatusAffected:!0,mountValidationRun:!1,valid:!1,touched:!1},a.shouldShowError=function(){var e=a.state,t=e.valid,n=e.isDiseaseStatusAffected,r=e.answers;return!t&&n&&r.length>0},a.mapModifiersToAnswer=function(e){var t=a.props.presentCode;return e.map(function(e){return{valueString:t,codeId:e.uid}})},a.mapPreviousObservationsToAnswers=function(){return a.props.observations.map(function(e){var t=e.effectiveFrom,n=e.code.uid,r=e.valueCode.uid,i=e.components;return{effectiveFrom:t,codeId:n,valueCodeId:r,components:a.mapModifiersToAnswer(i)}})},a.addNewTermToAnswers=function(e){var t=a.state.answers,n=a.props,r=n.updateHPOFormikAnswers,i=n.presentCode;a.setState({answers:[].concat(Object(P.a)(t),[{effectiveFrom:kt(new Date),codeId:e,valueCodeId:i,components:[]}])},function(){var e=a.state.answers;r(e)})},a.addNewTermToObservations=function(e){var t=e.code,n=e.uid,r=e.display,i=e.codesystemUri,s=a.state.observations,c=a.props.presentCode;a.setState({observations:[].concat(Object(P.a)(s),[{effectiveFrom:kt(new Date),code:{uid:n,code:t,display:r,codesystemUri:i},valueCode:{uid:c,code:"present",display:"Present",codesystemUri:"hpo_values"},components:[]}])})},a.removeTerm=function(e){var t=a.state,n=t.observations,r=t.answers,i=a.props.updateHPOFormikAnswers,s=n.filter(function(t){return t.code.uid!==e}),c=r.filter(function(t){return t.codeId!==e});a.setState({observations:s,answers:c}),i(c)},a.updateValueInState=function(e,t){var n=a.props.updateHPOFormikAnswers,r=a.state,i=r.answers,s=r.observations,c=i.map(function(a){return a.codeId===e?Object(T.a)({},a,{valueCodeId:t}):a});a.setState({answers:c},function(){return n(c)});var o=s.map(function(n){return n.code.uid===e?Object(T.a)({},n,{valueCode:a.mapIdToValueObject(t)}):n});a.setState({observations:o})},a.mapIdToValueObject=function(e){return a.props.values.find(function(t){return t.uid===e})},a.updateModifiers=function(e,t){var n=a.props.updateHPOFormikAnswers,r=a.state,i=r.answers,s=r.observations,c=a.mapModifiersToAnswer(t),o=i.map(function(t){return t.codeId===e?Object(T.a)({},t,{components:c}):t});a.setState({answers:o},function(){n(o)});var l=s.map(function(a){return a.code.uid===e?Object(T.a)({},a,{components:t}):a});a.setState({observations:l})},a.addNewTermToState=function(e){a.addNewTermToAnswers(e.uid),a.addNewTermToObservations(e)},a.checkIsPatientAffected=function(){var e=a.props,t=e.affectedCode;return(e.activePatient.diseaseStatus||{}).uid===t},a.checkValidity=function(){var e=a.state,t=e.isDiseaseStatusAffected,n=e.answers,r=a.props.presentCode;return!t||n.some(function(e){return e.valueCodeId===r})},a.validateHiddenField=function(){var e=a.state.mountValidationRun,t=a.checkValidity();return a.setValidity({valid:t,touched:e}),a.setState({mountValidationRun:!0}),!1},a.getTermsDebounced=ts()(function(e,t){var n=a.state.observations,r=a.props.termsUrl;ss({url:r,inputValue:e}).then(function(e){t(Au(n,e))}).catch(function(e){return t(e,null)})},250),a.componentDidUpdate=Object(k.a)(w.a.mark(function e(){var t,n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=a.props.listenToDiseaseStatusChange,(n=t())&&a.updateAffectedStatus({selectedDiseaseStatus:n});case 3:case"end":return e.stop()}},e)})),a.updateAffectedStatus=function(e){var t=e.selectedDiseaseStatus,n=a.props.affectedCode,r=a.state.isDiseaseStatusAffected;t===n&&!0!==r&&a.setState({isDiseaseStatusAffected:!0},function(){return a.validateHiddenField()}),t!==n&&!0===r&&a.setState({isDiseaseStatusAffected:!1},function(){return a.validateHiddenField()})},a.setValidity=function(e){var t=e.valid,n=void 0===t?a.state.valid:t,r=e.touched,i=void 0===r||r;a.setState({valid:n,touched:i})},a.setTouched=function(){a.setState({touched:!0})},a}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.updateHPOFormikAnswers,t=this.mapPreviousObservationsToAnswers(),a=this.checkIsPatientAffected();this.setState({answers:t,isDiseaseStatusAffected:a},function(){e(t)})}},{key:"render",value:function(){var e=this,t=this.props,a=t.modifiers,n=t.values,i=t.question,s=i.label,c=i.hint,o=i.placeholder,l=this.shouldShowError(),u=this.state,d=u.observations,m=u.isDiseaseStatusAffected;return r.a.createElement("div",{className:Du("hpo")},l&&r.a.createElement("div",{className:Du("hpo__notification-error")},r.a.createElement(Bs,{type:"error"},"At least 1 phenotype must be marked Present")),r.a.createElement(Cr.b,{type:"hidden",name:"HPOHiddenField",validate:this.validateHiddenField}),r.a.createElement("div",{className:Du("hpo__search")},r.a.createElement(ui,{name:"hpo-search",requiredByReferral:m},s),r.a.createElement(us,{onChange:this.addNewTermToState,name:"terms",backspaceRemovesValue:!1,placeholder:o,onBlur:function(){return e.setTouched()},className:Du("hpo-select"),loadOptionsOnType:!0,loadOptionsMethod:this.getTermsDebounced,controlShouldRenderValue:!1}),c&&r.a.createElement(ti,null,c)),d.length>0&&r.a.createElement("div",{className:Du("hpo__observations")},r.a.createElement($r,{element:"p"},"Term presence is marked Present by default. Change to Absent or Unknown if appropriate."),r.a.createElement(Pu,{isHPO:!0,headers:["Name","Term presence","Modifiers","Remove"]},d.map(function(t){var i=t.code,s=(i=void 0===i?{}:i).uid,c=i.display,o=t.valueCode,l=(o=void 0===o?{}:o).uid,u=t.components;return r.a.createElement(Iu,{id:s,key:s,modifiers:a,values:n,groupLabel:c,selectedValueId:l,handleInputChange:e.updateModifiers,handleValuesChange:e.updateValueInState,selectedModifiers:u,removeTerm:e.removeTerm})}))))}}]),t}(n.Component),Mu=function(e,t){var a=e.status;return(void 0===a?{}:a)[t]},Fu=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(pr.a)(this,(e=Object(fr.a)(t)).call.apply(e,[this].concat(i)))).state={modifiers:[],values:[],observations:[],terms:[],getHPODataError:!1},a.updateHPOFormikAnswers=function(e){var t=a.props,n=t.formik,r=t.activePatient.id,i=t.id;n.setFieldValue(i,{observations:e,patientId:r})},a.listenToDiseaseStatusChange=function(){var e=a.props.formik;return Mu(e,"selectedDiseaseStatus")},a.renderQuestion=function(){var e=a.state,t=e.modifiers,n=e.terms,i=e.values,s=e.observations,c=e.id,o=a.props,l=o.activePatient,u=o.question;return r.a.createElement(Er.Consumer,null,function(e){var o=e.config,d=o.affectedDiseaseStatus,m=o.presentObservationValue;return r.a.createElement(qu,{key:c,modifiers:t,terms:n,values:i,observations:s,updateHPOFormikAnswers:a.updateHPOFormikAnswers,activePatient:l,affectedCode:d,presentCode:m,termsUrl:Dl,question:u,listenToDiseaseStatusChange:a.listenToDiseaseStatusChange})})},a.renderLoading=function(){return r.a.createElement(Bs,{type:"warning"},"Loading HPO data")},a.renderError=function(){return r.a.createElement(Bs,{type:"error"},"Error retrieving HPO data")},a.render=function(){var e=a.state,t=e.modifiers;return e.getHPODataError?a.renderError():t.length>0?a.renderQuestion():a.renderLoading()},a}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=Object(k.a)(w.a.mark(function e(){var t,a,n,r,i,s;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.activePatient,e.prev=1,e.next=4,c=t.id,M.a.all([Al().get(ql).then(function(e){return e.data.hits}).catch(function(e){return Promise.reject(e)}),Ml(c),Al().get(Rl).then(function(e){return e.data.hits}).catch(function(e){return Promise.reject(e)})]).then(M.a.spread(function(e,t,a){return{values:e,observations:t,modifiers:a}}));case 4:a=e.sent,n=a.values,r=a.observations,i=a.modifiers,s=r.map(function(e){return Object(T.a)({},e,{components:Ru(e)})}),this.setState({modifiers:i,values:n,observations:s}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),this.setState({getHPODataError:!0});case 15:case"end":return e.stop()}var c},e,this,[[1,12]])}));return function(){return e.apply(this,arguments)}}()}]),t}(n.Component),Uu=Object(Cr.f)(Fu),Bu=function(e){function t(){return Object(g.a)(this,t),Object(pr.a)(this,Object(fr.a)(t).apply(this,arguments))}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return r.a.createElement(Uu,this.props)}}]),t}(n.Component),Vu=Object(c.b)(function(e,t){var a=e.referral;return Object(T.a)({},t,{id:t.id,referralState:a,activePatient:Sn(a)})},{})(Bu),Gu=function(e){var t=e.componentName,a=e.dataTypeProperties,n=e.inRepeatingUnit,i=e.name,s=e.setFieldValue,c=e.setHPOField,o=(e.type,e.uiAttributes),l=e.unitName,u=Object(L.a)(e,["componentName","dataTypeProperties","inRepeatingUnit","name","setFieldValue","setHPOField","type","uiAttributes","unitName"]),d="".concat(l,".").concat(i),m={key:d,id:d,name:d,hideLabel:n,disableErrorMessage:n};if("disease_status"===t)return r.a.createElement(lu,Object.assign({},m,o,u,{isInsideTable:n,noRadio:n}));if("search_enum"===t){var p=a.searchPaths,f=(void 0===p?[]:p).length>1;return r.a.createElement(ou,Object.assign({},m,o,u,{data:a,formatResults:function(e){return e.hits},loadOptionsOnType:!0,renderSwitchOptions:f,searchPath:"api/codessearch",setFieldValue:s}))}return"static_enum"===t?r.a.createElement(ms,Object.assign({},m,o,u,{isInsideTable:n,noRadio:n})):"hpo_terms_module"===t?(c(d),r.a.createElement(Vu,Object.assign({},m,{question:u}))):"age_years_months"===t?r.a.createElement(Ou,Object.assign({},m,o,{question:u})):r.a.createElement(qi,Object.assign({},m,o,u,{componentName:t}))},Qu=a(22),zu=a.n(Qu),Hu=function(e,t){var a,n=t.min,r=t.max,i=t.integer,s=t.decimal,c=(a=e,zu.a.emptyString(a)||window.isNaN(a)?null:parseFloat(a));if(!zu.a.number(c))return"Only numbers allowed";var o=function(e,t){var a=t.integer,n=t.decimal;return a&&zu.a.not.integer(e)?"Please enter an integer":!(!n||!zu.a.integer(e))&&"Please enter a decimal"}(c,{integer:i,decimal:s});if(o)return o;var l=function(e,t){var a=t.min,n=t.max;return a&&n&&zu.a.not.inRange(e,a,n)?"Please enter a value between ".concat(a," and ").concat(n):a&&zu.a.not.greaterOrEqual(e,a)?"Please enter a value greater than ".concat(a):!(!n||!zu.a.not.lessOrEqual(e,n))&&"Please enter a value less than or equal to ".concat(n)}(c,{min:n,max:r});return l||!1},Ju=function(e,t){var a=t.minLength,n=t.maxLength;if(!zu.a.string(e))return"Error - type mismatch";var r=e.length;return a&&n&&zu.a.not.inRange(r,a,n)?"Please add between ".concat(a," and ").concat(n," characters."):a&&zu.a.not.greaterOrEqual(r,a)?"Please add more than ".concat(a," characters."):!(!n||!zu.a.not.lessOrEqual(r,n))&&"Please add less than ".concat(n," characters.")},Zu=function(e){return!zu.a.object(e)&&"Type error"},Wu=a(237),Yu=a.n(Wu);jt.a.locale("en-gb"),jt.a.extend(Yu.a);var Ku=function(e,t){var a=t.min,n=t.max,r=jt()(e),i=a&&jt()(a),s=n&&jt()(n);return r.isValid()?function(e){var t=e.minDate,a=e.maxDate,n=e.date;return t&&a&&!n.isBetween(t,a,null,"[]")}({minDate:i,maxDate:s,date:r})?"Please enter a date between ".concat(wt(i)," and ").concat(wt(s)):function(e){var t=e.minDate,a=e.date;return t&&!a.isAfter(t)}({minDate:i,date:r})?"Please enter a date after ".concat(wt(i)):!!function(e){var t=e.maxDate,a=e.date;return t&&!a.isBefore(t)}({maxDate:s,date:r})&&"Please enter a date before ".concat(wt(s)):"Please enter a valid date"},Xu=["integer","decimal"],$u=["date"],ed=["text","textarea"],td=function(e){var t=e.predicates,a=e.requiredByStage,n=e.showMandatory,r=e.fieldType,i=e.value;return zu.a.emptyString(i)?!(!a||!n)&&"This field is required as other fields in this unit have been set.":Xu.includes(r)?Hu(i,Object(T.a)({},t,Object(W.a)({},r,!0))):$u.includes(r)?Ku(i,t):ed.includes(r)?Ju(i,t):"age_years_months"!==r&&Zu(i)},ad=function(e){var t=(zu.a.object(e)?e:{uid:e}).uid;return zu.a.nonEmptyString("".concat(t))},nd=function(e){var t,a=e.value,n=e.data,r=void 0===n?{}:n,i=(t=a,!zu.a.not.object(t)&&!zu.a.emptyObject(t)&&zu.a.any(zu.a.map(Object.values(t),ad))),s=Object.entries(a).reduce(function(e,t){var a=Object(R.a)(t,2),n=a[0],s=a[1],c=td(Object(T.a)({value:s,showMandatory:i},r[n]));return Object(T.a)({},e,c&&Object(W.a)({},n,c))},{});return!!zu.a.not.emptyObject(s)&&s},rd=function(e){var t=e.name,a=e.fields,n=e.inRepeatingUnit,i=e.repeatingUnitIndex,s=e.setHPOField,c=e.unitId,o=Object(L.a)(e,["name","fields","inRepeatingUnit","repeatingUnitIndex","setHPOField","unitId"]),l=n?"".concat(t,"[").concat(i,"]"):t,u=a.reduce(function(e,t){var a=t.name,n=t.validation;return Object(T.a)({},e,Object(W.a)({},a,n))},{}),d=Object(T.a)({unitName:l,inRepeatingUnit:n,setHPOField:function(e){"function"===typeof s&&s({unitId:c,name:e})}},o);return r.a.createElement(Cr.b,{id:c,name:l,validate:function(e){return nd({value:e,data:u})},render:function(){return a.map(function(e,t){e.unitId,e.validation;var a=Object(L.a)(e,["unitId","validation"]);return n?r.a.createElement("td",{key:t},r.a.createElement(Gu,Object.assign({},d,a))):r.a.createElement(Gu,Object.assign({key:t},d,a))})}})},id=a(238),sd=a.n(id),cd=vr.a.bind(sd.a),od=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(pr.a)(this,(e=Object(fr.a)(t)).call.apply(e,[this].concat(r)))).generateObjectShapeForNewRow=function(e){return e.reduce(function(e,t){var a=t.name;return Object(T.a)({},e,Object(W.a)({},a,""))},{})},a}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.fields,i=t.unitId,s=t.formik,c=t.name,o=Object(L.a)(t,["fields","unitId","formik","name"]),l=Object(Cr.g)(s.errors,c),u=Object(Cr.g)(s.values,c),d=function(e){var t=e.errors,a=void 0===t?[]:t,n=e.touched,r=void 0===n?[]:n,i=e.inputFields,s=void 0===i?[]:i,c=a.reduce(function(e,t,n){return t&&Object.keys(t).forEach(function(t){r[n]&&r[n][t]&&(e.errorIds.push(t),e.errorMessages.push(a[n][t]))}),e},{errorIds:[],errorMessages:[]}),o=c.errorIds,l=c.errorMessages;return{errorMessages:l.filter(function(e,t){return l.indexOf(e)===t}),invalidHeaderIndexes:s.map(function(e){var t=e.name;return o.includes(t)})}}({errors:l,touched:Object(Cr.g)(s.touched,c),fields:a}),m=d.errorMessages,p=void 0===m?[]:m,f=d.invalidHeaderIndexes,h=p.length>0,b=[].concat(Object(P.a)(a.map(function(e,t){return{value:e.label,isInvalid:f[t]}})),[""]);return r.a.createElement("div",{className:cd("repeating-unit")},r.a.createElement(Cr.c,{name:c,render:function(t){return r.a.createElement(n.Fragment,null,r.a.createElement(Pu,{headers:b},u&&u.map(function(e,n){return r.a.createElement("tr",{key:n},r.a.createElement(rd,Object.assign({name:c,fields:a,inRepeatingUnit:!0,repeatingUnitIndex:n,unitId:i},o)),r.a.createElement("td",null,u.length>1&&r.a.createElement(gs,{link:!0,type:"button",onClick:function(){return t.remove(n)}},"Delete")))})),h&&r.a.createElement("div",{className:cd("repeating-unit__errors")},p.map(function(e,t){return r.a.createElement(Jr,{key:t},e)})),r.a.createElement(gs,{link:!0,type:"button",onClick:function(){return t.push(e.generateObjectShapeForNewRow(a))}},"+ Add another"))}}))}}]),t}(n.Component),ld=Object(Cr.f)(od),ud=function(e){var t=e.isRepeating,a=e.unitId,n=Object(L.a)(e,["isRepeating","unitId"]),i=t?ld:rd;return r.a.createElement(i,Object.assign({name:"".concat(a,".answers"),unitId:a},n))},dd=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(pr.a)(this,(e=Object(fr.a)(t)).call.apply(e,[this].concat(i)))).hpoField=null,a.setHPOField=function(e){a.hpoField=e},a.tidyCustomFields=function(e,t){var n,r=a.props.handleSubmit,i=Object(T.a)({},e);if(a.hpoField){var s=a.hpoField,c=s.unitId,o=s.name;n=Object(Cr.g)(e,o),delete i[c]}r({values:i,hpoAnswer:n,setSubmitting:t})},a.customSubmitWithoutWarning=function(e,t){var n=t.validateForm,r=t.setSubmitting;r(!0),n().then(function(){a.tidyCustomFields(e,r)})},a.renderUnit=function(e,t){var n=e.fields,i=e.isRepeating,s=e.unitId;return r.a.createElement(ud,{fields:n,isRepeating:i,setFieldValue:t,setHPOField:a.setHPOField,unitId:s,key:s})},a.renderGroups=function(e,t){var n=e.unitUi,i=void 0===n?[]:n,s=e.presentationGroupId,c=Object(L.a)(e,["unitUi","presentationGroupId"]);return r.a.createElement(Kl,Object.assign({key:s},c),i.map(function(e){return a.renderUnit(e,t)}))},a}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.groupUi,i=t.initialValues,s=t.navigate,c=t.nextStage,o=t.previousStage;return r.a.createElement(Rs,{initialValues:i,onSubmit:this.customSubmitWithoutWarning},function(t){var i=t.isSubmitting,l=t.setFieldValue;return r.a.createElement(n.Fragment,null,a.map(function(t){return e.renderGroups(t,l)}),r.a.createElement(Os,{type:"submit",disabled:i,navigate:s,navigateTo:c,navigateBack:o}))})}}]),t}(n.Component),md=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(pr.a)(this,(e=Object(fr.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){var e=a.props;(0,e.getStageData)({referralId:e.referralId,stageName:e.questionStage,entityId:e.activePatientId})},a.componentWillUnmount=function(){a.props.clearQuestions()},a.handleSubmit=function(){var e=Object(k.a)(w.a.mark(function e(t){var n,r,i,s,c,o;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.values,r=t.hpoAnswer,i=t.setSubmitting,s=a.props,c=s.saveForm,o=s.referralId,e.prev=2,e.next=5,c({referralId:o,values:n,hpoAnswer:r});case 5:i(!1),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(2);case 10:case"end":return e.stop()}},e,null,[[2,8]])}));return function(t){return e.apply(this,arguments)}}(),a}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.stage,a=e.errorCode,i=e.isLoading,s=e.navigate,c=e.nextStage,o=e.previousStage;return r.a.createElement(n.Fragment,null,i&&r.a.createElement($r,{element:"p",size:"5"},"Loading"),404===a&&r.a.createElement($r,{element:"p",size:"5"},"Questionnaire not found"),t&&r.a.createElement(dd,Object.assign({},t,{handleSubmit:this.handleSubmit,navigate:s,nextStage:c,previousStage:o})))}}]),t}(n.Component),pd=Object(c.b)(function(e,t){var a=e.referral,n=e.clinicalQuestionnaire,r=t.isProband;return Object(T.a)({referralId:En(a),activePatientId:r?Tn(a):wn(a)},n)},{getStageData:function(e){var t=e.entityId,a=Object(L.a)(e,["entityId"]);return function(){var e=Object(k.a)(w.a.mark(function e(n){var r,i,s,c;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:Ul}),e.prev=1,e.next=4,ia(a);case 4:r=e.sent,i=r.find(function(e){var a=e.entityId;return t===a}),n({type:Vl,payload:{stage:i}}),e.next=16;break;case 9:e.prev=9,e.t0=e.catch(1),s=e.t0.response,c=(s=void 0===s?{}:s).status,n({type:Bl,payload:{errorCode:void 0===c?406:c}}),Z("Error in clinical questionnaire.",{error:e.t0})("error");case 16:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}()},saveForm:function(e){var t=e.referralId,a=e.values,n=e.hpoAnswer;return function(){var e=Object(k.a)(w.a.mark(function e(r,i){var s,c,o,l,u,d,m;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=Ue(i()),e.prev=1,r({type:ge}),!n){e.next=7;break}return c=n.observations,o=n.patientId,e.next=7,Fl(c,o);case 7:return e.next=9,sa({referralId:t,data:a,stages:s});case 9:return l=e.sent,u=l.stages,e.next=13,ce(t);case 13:return d=e.sent,m={referral:d},r(De(u)),e.next=18,r(dt(m));case 18:r({type:Gl}),r({type:ye}),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(1),Z("Error in saving clinical questionnaire data.",{error:e.t0})("error"),r({type:Ee});case 26:case"end":return e.stop()}},e,null,[[1,22]])}));return function(t,a){return e.apply(this,arguments)}}()},clearQuestions:function(){return{type:Ql}}})(md),fd=function(e){var t=e.navigate,a=e.nextStage;return r.a.createElement(n.Fragment,null,r.a.createElement(mc,null,"Answer clinical questions"),r.a.createElement(pd,{navigate:t,nextStage:a,isProband:!0}))},hd=U(),bd=function(e){var t=e.clinicalIndicationId,a=e.orderingEntityId,n=e.clinicalIndicationTestTypeIds;return B({url:"".concat("/api/referralrouting","/").concat(t,"/").concat(a,"?").concat("citt=").concat(n.join("&".concat("citt="))),client:hd}).then(function(e){return e.data}).catch(function(e){return Promise.reject(e)})},vd=a(126),_d=a.n(vd),gd=function(e){var t=e.addressLine_0,a=void 0===t?"":t,n=e.addressLine_1,r=void 0===n?"":n,i=e.addressLine_2,s=void 0===i?"":i,c=e.addressLine_3,o=void 0===c?"":c,l=e.addressLine_4,u=void 0===l?"":l,d=e.addressLine_5,m=void 0===d?"":d,p=e.postcodeOrZip;return[a,r,s,o,u,m,void 0===p?"":p]},yd=function(e,t){var a=(e||{}).display;return t?"Proband":void 0===a?"":a},Ed=function(e){var t=e.proband,a=e.otherPatients,n=e.referralId,r=e.labId;return[t].concat(Object(P.a)(a)).map(function(e){var t=e.firstName,a=e.familyName,i=e.relationship,s=e.dateOfBirth,c=e.nhsNumber,o=e.id,l=e.isProband;return{name:"".concat(a.toUpperCase(),", ").concat(t),relationship:yd(i,l),dob:St(s),nhsNumber:c,printLink:"".concat(d,"/").concat("api/documentgeneration/sample","/").concat(n,"/").concat(o,"/").concat(r),id:o}})},Cd=function(e){var t=e.ciTestTypes,a=e.clinicalIndicationTestTypeIds,n=e.testList,r=t.map(function(e){return e.ciTtUid}),i=a.filter(function(e){return r.includes(e)}),s=n.filter(function(e){return i.includes(e.id)});return{tests:_d()(s.map(function(e){return{name:e.testType.name,code:e.code,id:e.id}})),samples:_d()(s.map(function(e){return e.sampleGroup.description}))}},Od="downloads/POST_SENT",jd="downloads/SET_LABS",Sd="downloads/REQUEST_ERROR",wd={error:null,isLoading:!1,labs:[]},kd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wd,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case Od:return Object(T.a)({},e,{isLoading:!0});case Sd:return Object(T.a)({},e,{isLoading:!1,error:n.errorCode});case jd:return Object(T.a)({},e,{isLoading:!1,error:null,labs:n.results});default:return e}},Td=a(239),Id=a.n(Td),Nd=vr.a.bind(Id.a),xd=function(e){var t=e.lines,a=void 0===t?[]:t;return r.a.createElement("address",{className:Nd("address")},a.map(function(e,t){return e&&r.a.createElement($r,{element:"span",className:Nd("address__line"),key:t},e)}))},Ld=a(240),Pd=a.n(Ld),Ad=vr.a.bind(Pd.a),Rd=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(pr.a)(this,(e=Object(fr.a)(t)).call.apply(e,[this].concat(r)))).state={show:!1},a.handleClick=function(){a.state.show?a.hideContent():a.showContent()},a.hideContent=function(){a.setState({show:!1})},a.showContent=function(){a.setState({show:!0})},a}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props.children,t=this.state.show;return r.a.createElement("div",{className:Ad("show-hide")},r.a.createElement(Dd,Object.assign({},this.props,{handleClick:this.handleClick,show:t})),t&&e)}}]),t}(n.Component),Dd=function(e){var t=e.handleClick,a=e.show,i=e.expandedLabel,s=e.closedLabel,c=e.className;return r.a.createElement(gs,{link:!0,className:(Ad("show-hide__label"),c),onClick:t},r.a.createElement("span",{className:Ad("show-hide__icon")},a?r.a.createElement(n.Fragment,null,i,r.a.createElement(Pr,null)):r.a.createElement(n.Fragment,null,s,r.a.createElement(Lr,null))))},qd=Rd,Md=a(241),Fd=a.n(Md),Ud=vr.a.bind(Fd.a),Bd=function(e){var t=e.ordered,a=e.noStyle,n=e.italic,i=e.children;return t?r.a.createElement("ol",{className:Ud("list",!a&&"list--ordered",n&&"list--italic")},i):r.a.createElement("ul",{className:Ud("list",!a&&"list--unordered",n&&"list--italic")},i)},Vd=a(242),Gd=a.n(Vd),Qd=vr.a.bind(Gd.a),zd=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(pr.a)(this,(e=Object(fr.a)(t)).call.apply(e,[this].concat(r)))).state={show:!1},a.handleClick=function(){a.setState({show:!a.state.show})},a}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.listItems,a=e.defaultNumberOfItems,n=Object(L.a)(e,["listItems","defaultNumberOfItems"]),i=this.state.show,s=i?t:t.slice(0,a);return r.a.createElement("div",{className:Qd("show-hide-list")},r.a.createElement(Bd,n,s.map(function(e,t){return r.a.createElement("li",{key:t},e)})),t.length>a&&r.a.createElement(Dd,Object.assign({},this.props,{handleClick:this.handleClick,show:i,className:Qd("show-hide-list__button")})))}}]),t}(n.Component),Hd=a(243),Jd=a.n(Hd),Zd={rank:gr.a.number.isRequired,system:gr.a.shape({code:gr.a.string,codesystemUri:gr.a.string,display:gr.a.string,uid:gr.a.string,use:gr.a.shape({code:gr.a.string,codesystemUri:gr.a.string,display:gr.a.string,uid:gr.a.string,value:gr.a.string})})},Wd=(gr.a.arrayOf(gr.a.string).isRequired,gr.a.array,gr.a.any,gr.a.any,gr.a.string,gr.a.string,gr.a.string,gr.a.shape(yr),gr.a.string.isRequired,gr.a.string.isRequired,gr.a.shape(yr),gr.a.string.isRequired,gr.a.bool,gr.a.any,gr.a.shape(yr),gr.a.string,gr.a.array,gr.a.arrayOf(gr.a.shape(Zd)),gr.a.string,gr.a.string,gr.a.arrayOf(gr.a.string),gr.a.arrayOf(gr.a.shape({name:gr.a.string,relationship:gr.a.string,dob:gr.a.string,nhsNumber:gr.a.string,printLink:gr.a.string})),gr.a.arrayOf(gr.a.shape({name:gr.a.string,code:gr.a.code})),gr.a.arrayOf(gr.a.string),a(244)),Yd=a.n(Wd),Kd=vr.a.bind(Yd.a),Xd=function(e){var t=e.children,a=e.image,n=e.title,i=e.type,s=void 0===i?"info":i,c=e.className;return r.a.createElement("section",{className:Kd("notice","notice--".concat(s),c)},n&&r.a.createElement("div",{className:Kd("notice__title")},a&&r.a.createElement("div",{className:Kd("notice__image")},r.a.createElement(a,null)),r.a.createElement($r,{size:"1",element:"h2"},n)),r.a.createElement($r,{size:"5",element:"div",className:Kd("notice__text")},t))},$d=vr.a.bind(Jd.a),em=function(e){function t(){var e,a;Object(g.a)(this,t);for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return(a=Object(pr.a)(this,(e=Object(fr.a)(t)).call.apply(e,[this].concat(s)))).state={isError:!1},a.componentDidMount=Object(k.a)(w.a.mark(function e(){var t,n,r,i,s;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props,n=t.onGetAllData,r=t.clinicalIndicationId,i=t.testList,s=t.clinicalIndicationTestTypeIds,0!==i.length){e.next=10;break}return e.prev=2,e.next=5,n(r,s);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),a.setState({isError:!0});case 10:a.getLabData();case 11:case"end":return e.stop()}},e,null,[[2,7]])})),a.getLabData=function(){var e=a.props,t=e.clinicalIndicationId,n=e.orderingEntityId,r=e.clinicalIndicationTestTypeIds;(0,e.onGetLabs)({clinicalIndicationId:t,orderingEntityId:n,clinicalIndicationTestTypeIds:r,testList:e.testList,proband:e.proband,otherPatients:e.otherPatients,referralId:e.referralId})},a.renderLoading=function(){return r.a.createElement("p",null,"Loading...")},a.renderError=function(){return r.a.createElement(Bs,{type:"error"},"Unable to load download forms")},a.formatTests=function(e,t){var i=a.props.testsOnReferral;return e.map(function(e,a){var s=e.name,c=e.code,o=e.id,l=i.filter(function(e){return e.ciTestTypeId===o||[]}),u=Object(R.a)(l,1)[0],d=(u=void 0===u?[]:u).procedureRequests,m=t.filter(function(e){return d&&d.find(function(t){var a=t.patientId;return e.id===a})}).map(function(e){return e.relationship});return r.a.createElement(n.Fragment,{key:a},r.a.createElement("strong",null,s," \u2022 "),c,r.a.createElement("br",null),m.join(", "))})},a.renderPatientRow=function(e,t){var a=e.name,n=e.relationship,i=e.dob,s=e.nhsNumber,c=e.printLink;return r.a.createElement("tr",{key:t},r.a.createElement("th",{scope:"row"},a),r.a.createElement("td",null,n),r.a.createElement("td",null,i),r.a.createElement("td",null,s),r.a.createElement("td",null,r.a.createElement("a",{href:c,download:!0},r.a.createElement("div",{className:$d("downloads__icon")},r.a.createElement(jr,null)))))},a.renderLab=function(e,t){var n=e.name,i=e.address,s=e.patients,c=e.tests,o=e.samples;return r.a.createElement("div",{className:$d("downloads__lab"),key:t},r.a.createElement("div",{className:$d("downloads__lab-details")},r.a.createElement("div",{className:$d("downloads__lab-icon")},r.a.createElement(qr,{width:"28",height:"28"})),r.a.createElement($r,{element:"h3",size:"3",className:$d("downloads__lab-name")},n)),r.a.createElement("div",{className:$d("downloads__lab-address")},r.a.createElement(qd,{closedLabel:"Show address",expandedLabel:"Hide address"},r.a.createElement(xd,{lines:i}))),r.a.createElement(Pu,{headers:["Name","Relationship","Born","NHS No.","Print"],className:$d("downloads__participants")},s.map(function(e,t){return a.renderPatientRow(e,t)})),r.a.createElement("div",{className:$d("downloads__info")},r.a.createElement("div",{className:$d("downloads__info-list")},r.a.createElement($r,{element:"h4",size:"4"},"Tests"),r.a.createElement(zd,{closedLabel:"Show all",expandedLabel:"Hide",defaultNumberOfItems:4,ordered:!0,listItems:a.formatTests(c,s)})),r.a.createElement("div",{className:$d("downloads__info-list")},r.a.createElement($r,{element:"h4",size:"4"},"Sample"),r.a.createElement(zd,{closedLabel:"Show all",expandedLabel:"Hide",defaultNumberOfItems:4,listItems:o,noStyle:!0,italic:!0}))))},a.renderNotice=function(e){return r.a.createElement(Xd,{type:"info",title:"Your referral has been submitted",image:function(){return r.a.createElement("img",{alt:"",src:"images/chart-and-doctors.svg"})},className:$d("downloads__notice")},r.a.createElement("div",{className:$d("downloads__notice-content")},r.a.createElement($r,{element:"h3",size:"4",className:$d("downloads__notice-copy")},"Contact the laboratory if a submitted referral needs to be updated"),r.a.createElement($r,{element:"p",size:"5",className:$d("downloads__notice-copy")},"Updates made online might not be seen before tests begin."),r.a.createElement($r,{element:"h3",size:"4",className:$d("downloads__notice-copy")},"Make sure you have:"),r.a.createElement($r,{element:"p",size:"5",className:$d("downloads__notice-copy")},r.a.createElement("ul",null,r.a.createElement("li",null,"- printed your sample forms from this page"),r.a.createElement("li",null,"- sent your forms to the relevant laboratory")))),e&&r.a.createElement("div",{className:$d("downloads__notice-actions")},r.a.createElement($r,{element:"p",size:"5"},"Search for a Clinical indication in the Test Directory to request more tests"),r.a.createElement(gs,{size:"medium",onClick:function(){return window.location.replace(e)}},"Start a new referral")))},a}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.labs,n=t.isLoading,i=t.referralStatusId,s=this.state.isError;return n?this.renderLoading():r.a.createElement("div",{className:$d("downloads")},r.a.createElement(Er.Consumer,null,function(t){var a=t.config,n=a.submittedReferralStatus,r=a.testDirectoryPrivateUrl;return n===i&&e.renderNotice(r)}),r.a.createElement(mc,null,"Print sample forms"),r.a.createElement(Bs,{type:"warning",className:$d("downloads__warning")},r.a.createElement("strong",null,"Do not store sample forms")," on any computer or hard drive. Delete each form as soon as it has been sent."),r.a.createElement($r,{element:"p",size:"6"},r.a.createElement("strong",null,"Each patient sample must be submitted with its own form.")),r.a.createElement(Bd,null,r.a.createElement("li",null,"For example, a proband sample needs 1 form, and each family member needs 1 form per sample."),r.a.createElement("li",null,"Tests of samples could take place at more than one laboratory.")),s?this.renderError():a.map(function(t,a){return e.renderLab(t,a)}))}}]),t}(n.Component),tm=Object(c.b)(function(e){var t=e.downloads,a=e.referral,n=e.testList;return Object(T.a)({},t,{clinicalIndicationId:Ln(a),orderingEntityId:qn(a),clinicalIndicationTestTypeIds:Dn(a),proband:kn(a),otherPatients:Nn(a),testList:en(n),referralId:En(a),referralStatusId:Mn(a),testsOnReferral:tn(n)})},{onGetLabs:function(e){var t=e.clinicalIndicationId,a=e.orderingEntityId,n=e.clinicalIndicationTestTypeIds,r=e.testList,i=e.proband,s=e.otherPatients,c=e.referralId;return function(){var e=Object(k.a)(w.a.mark(function e(o){var l,u,d,m,p;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o({type:Od,payload:{}}),e.prev=1,e.next=4,bd({clinicalIndicationId:t,orderingEntityId:a,clinicalIndicationTestTypeIds:n});case 4:l=e.sent,u=l.labs,d=u.map(function(e){var t=e.name,a=e.address.uid,o=e.address,l=e.ciTestTypes,u=Cd({ciTestTypes:l,clinicalIndicationTestTypeIds:n,testList:r}),d=u.tests,m=u.samples;return{name:t,address:gd(o),patients:Ed({proband:i,otherPatients:s,referralId:c,labId:a}),tests:d,samples:m}}),o({type:jd,payload:{results:d}}),e.next=17;break;case 10:e.prev=10,e.t0=e.catch(1),m=e.t0.response,p=(m=void 0===m?{}:m).status,o({type:Sd,payload:{errorCode:void 0===p?404:p}}),Z("Error in system question fetch. ",{error:e.t0})("error");case 17:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}()},onGetAllData:fn})(em),am="ordering-entity/UPDATE_SUGGESTIONS",nm="ordering-entity/CLEAR_SUGGESTIONS",rm="ordering-entity/SET_SELECTED_ENTITY",im="ordering-entity/SET_SELECTED_ENTITY_BY_ID",sm="ordering-entity/REQUEST_SENT",cm="ordering-entity/REQUEST_ERROR",om={selected:null,suggestions:[],isLoading:!1,showErrorMessage:!1},lm=function(e,t){return e.suggestions.find(function(e){return e.uid===t})||null},um=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:om,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case sm:return Object(T.a)({},e,{isLoading:!0});case cm:return Object(T.a)({},e,{isLoading:!1});case am:return Object(T.a)({},e,{suggestions:n.queryLength>2?n.suggestions:[],showErrorMessage:0===n.suggestions.length&&n.queryLength>2,isLoading:!1});case rm:return Object(T.a)({},e,{selected:n});case im:return Object(T.a)({},e,{selected:lm(e,n.id)});case nm:return Object(T.a)({},e,{suggestions:[]});default:return e}},dm={uid:gr.a.string.isRequired,organisationGroupingLocationCode:gr.a.string.isRequired,organisationName:gr.a.string.isRequired,organisationAddress:gr.a.shape({name:gr.a.string.isRequired,lines:gr.a.array.isRequired,postcodeOrZip:gr.a.string.isRequired,country:gr.a.string.isRequired}),managingEntity:gr.a.shape({name:gr.a.string.isRequired,groupType:gr.a.shape({name:gr.a.string.isRequired})}),legalEntity:gr.a.string,distance:gr.a.number},mm=(gr.a.bool,gr.a.string.isRequired,gr.a.func.isRequired,gr.a.func.isRequired,gr.a.func.isRequired,gr.a.func.isRequired,gr.a.shape(dm),gr.a.bool.isRequired,gr.a.arrayOf(gr.a.shape(dm)),gr.a.string,a(245)),pm=a.n(mm),fm=vr.a.bind(pm.a),hm=function(e){var t=e.organisationGroupingLocationCode,a=e.organisationName,n=e.site,i=e.organisationAddress,s=e.managingEntityName;return r.a.createElement("div",{className:fm("container")},r.a.createElement("div",{className:fm("location-result")},r.a.createElement("h4",{className:fm("location-result__header")},r.a.createElement(qr,null),a),r.a.createElement("div",{className:fm("location-result__details")},r.a.createElement("ul",null,r.a.createElement("li",{className:fm("location-result__detail")},r.a.createElement("p",{className:fm("location-result__detail-heading")},"Site"),r.a.createElement("p",{className:fm("location-result__detail-text")},n)),r.a.createElement("li",{className:fm("location-result__detail")},r.a.createElement("p",{className:fm("location-result__detail-heading")},"Requesting Organisation"),r.a.createElement("p",{className:fm("location-result__detail-text")},i)))),r.a.createElement("div",{className:fm("location-result__divider")}),r.a.createElement("div",{className:fm("location-result__details")},r.a.createElement("ul",null,r.a.createElement("li",{className:fm("location-result__detail")},r.a.createElement("p",{className:fm("location-result__detail-heading")},"Requesting Organisation ID"),r.a.createElement("p",{className:fm("location-result__detail-text")},t)),r.a.createElement("li",{className:fm("location-result__detail")},r.a.createElement("p",{className:fm("location-result__detail-heading")},"Managing Entity (GLH)"),r.a.createElement("p",{className:fm("location-result__detail-text")},s))))))},bm=a(246),vm=a.n(bm),_m=vr.a.bind(vm.a),gm=function(e){function t(){return Object(g.a)(this,t),Object(pr.a)(this,Object(fr.a)(t).apply(this,arguments))}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isLoading,a=e.className,n=e.fullBorder,i=Object(L.a)(e,["isLoading","className","fullBorder"]);return r.a.createElement("div",{className:_m("search-input",a)},r.a.createElement(hi,Object.assign({className:_m("search-input__input",{"search-input__input--full-border":n})},i)),t?r.a.createElement("div",{className:_m("search-input__icon","search-input__icon--spinner")},r.a.createElement(Dr,null)):r.a.createElement("div",{className:_m("search-input__icon","search-input__icon--search")},r.a.createElement(kr,null)))}}]),t}(n.PureComponent),ym=function(e){return function(t){var a=t.ref,n=Object(L.a)(t,["ref"]);return r.a.createElement(gm,Object.assign({isLoading:e,callRef:a},n))}},Em=gm,Cm=a(247),Om=a.n(Cm),jm=a(127),Sm=a.n(jm),wm=function(e){var t=e.organisationName;return r.a.createElement("div",null,t)},km=a(248),Tm=a.n(km),Im=vr.a.bind(Tm.a),Nm=function(e){var t=e.containerProps,a=e.children;return r.a.createElement(n.Fragment,null,a?r.a.createElement("div",t,r.a.createElement("p",{className:Im("instructions")},"Select an ordering entity"),r.a.createElement("div",{className:Im("suggestions")},a)):null)},xm=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(pr.a)(this,(e=Object(fr.a)(t)).call.apply(e,[this].concat(r)))).state={value:""},a.onChange=function(e,t){var n=t.newValue,r=a.props.onChange;a.setState({value:n,result:{}}),r&&r(e)},a.onSuggestionsFetchRequested=function(e){var t=e.value;switch(e.reason){case"input-changed":a.props.onSuggestionsFetchRequested(t)}},a}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.state.value,t=this.props,a=(t.onSuggestionsFetchRequested,t.onChange,t.placeholder),n=t.theme,i=Object(L.a)(t,["onSuggestionsFetchRequested","onChange","placeholder","theme"]),s={placeholder:a,onChange:this.onChange,value:e};return r.a.createElement(Om.a,Object.assign({},i,{theme:n,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,inputProps:s}))}}]),t}(n.PureComponent);xm.defaultProps={theme:Sm.a};Sm.a;var Lm=xm,Pm=a(249),Am=a.n(Pm),Rm=vr.a.bind(Am.a),Dm=function(){return r.a.createElement("div",{className:Rm("no-results")},"Your search has returned ",r.a.createElement("strong",null,"0 results"),". Please try again.")},qm=a(250),Mm=a.n(qm),Fm=vr.a.bind(Mm.a),Um=function(e){function t(){return Object(g.a)(this,t),Object(pr.a)(this,Object(fr.a)(t).apply(this,arguments))}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"componentWillUnmount",value:function(){(0,this.props.clearNotification)()}},{key:"render",value:function(){var e=this.props.notification,t=e.show,a=e.text;return t?r.a.createElement(Bs,{type:"success",className:Fm("referral-success-notification")},a):null}}]),t}(n.Component),Bm=Object(c.b)(function(e){var t,a=e.navigation;return{notification:(t=a,t.notification)}},{clearNotification:function(){return{type:"navigation/CLEAR_NOTIFICATION"}}})(Um),Vm=a(251),Gm=a.n(Vm),Qm=vr.a.bind(Gm.a),zm=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(pr.a)(this,(e=Object(fr.a)(t)).call.apply(e,[this].concat(r)))).handleSuggestionSelection=function(e,t){var n=t.suggestion.uid;a.props.onSuggestionSelected(n)},a.getSuggestionValue=function(e){return e.organisationName},a.handleClick=function(){var e=a.props,t=e.selected.uid;(0,e.updateReferralAction)({orderingEntityId:t})},a.buildAddress=function(e){var t=e.lines,a=e.postcodeOrZip;return"".concat(t.filter(function(e){return!!e}).join(", "),", ").concat(a)},a.mapResult=function(e){var t=e.uid,n=e.organisationGroupingLocationCode,r=e.organisationName,i=e.organisationAddress,s=(i=void 0===i?{}:i).name,c=e.organisationAddress,o=e.managingEntity;return{uid:t,organisationGroupingLocationCode:n,organisationName:r,site:s,managingEntityName:(o=void 0===o?{}:o).name,organisationAddress:a.buildAddress(c)}},a}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.orderingEntityId,a=e.onGetOrderingEntityById;t&&a(t)}},{key:"render",value:function(){var e=this.props,t=e.selected,a=e.onSuggestionsFetchRequested,i=e.orderingEntityLoading,s=e.suggestions,c=e.onSuggestionsClearRequested,o=e.showErrorMessage,l=e.navigate,u=e.nextStage;return r.a.createElement(n.Fragment,null,r.a.createElement(Bm,null),r.a.createElement(mc,null,"Add a requesting organisation"),r.a.createElement($r,{element:"p",size:"5",className:Qm("ordering-entity__sub-title-copy")},"Enter the hospital, clinic or GP surgery that should receive the test results. We will usually send your request to the result recipient's nearest laboratory."),r.a.createElement(Lm,{getSuggestionValue:this.getSuggestionValue,onSuggestionSelected:this.handleSuggestionSelection,onSuggestionsClearRequested:c,onSuggestionsFetchRequested:ts()(a,250),placeholder:"Enter the hospital or clinic requesting the test(s)",renderInputComponent:ym(i),renderSuggestion:wm,renderSuggestionsContainer:Nm,suggestions:s}),t&&r.a.createElement($r,{size:"4",element:"h2",className:Qm("ordering-entity__previous-header")},"Currently selected requesting organisation"),t&&r.a.createElement(hm,this.mapResult(t)),o&&r.a.createElement(Dm,null),r.a.createElement(Os,{handleClick:this.handleClick,disabled:!t,navigate:l,navigateTo:u}))}}]),t}(n.Component),Hm=Object(c.b)(function(e){var t=e.orderingEntity,a=e.referral;return Object(T.a)({},t,{orderingEntityId:qn(a)})},{onSuggestionsFetchRequested:function(e){return function(t){t({type:sm}),function(e){var t=Hn().token;return B({url:"".concat("/api/OrderingEntity","/Search"),params:{text:e},cancelToken:t,client:Jn}).then(function(e){return e.hits}).catch(function(e){return Promise.reject(e)})}(e).then(function(a){t({type:am,payload:{suggestions:a,queryLength:e.length}})}).catch(function(e){t({type:cm}),Z(e)("error")})}},onSuggestionsClearRequested:function(){return{type:nm}},onSuggestionSelected:function(e){return{type:im,payload:{id:e}}},onGetOrderingEntityById:function(e){return function(t){t({type:sm}),Zn(e).then(function(e){t({type:rm,payload:Object(T.a)({},e)})}).catch(function(e){t({type:cm}),Z(e)("error")})}},updateReferralAction:mt})(zm),Jm=gr.a.shape({id:gr.a.string.isRequired,name:gr.a.string.isRequired,selected:gr.a.bool}).isRequired,Zm=(gr.a.func.isRequired,gr.a.func.isRequired,gr.a.func.isRequired,gr.a.bool,gr.a.bool,gr.a.bool,gr.a.arrayOf(Jm).isRequired,gr.a.func.isRequired,gr.a.func.isRequired,gr.a.arrayOf(Jm).isRequired,gr.a.func.isRequired,gr.a.func.isRequired,gr.a.func.isRequired,gr.a.arrayOf(Jm).isRequired,gr.a.string.isRequired,"".concat("/api/PanelAssigner","/Simplified")),Wm={config:{headers:{"content-type":"application/json"}}},Ym=U(Object(T.a)({},Wm,{interceptors:{request:function(e){var t=Object(T.a)({},e);return delete t.headers.common.Pragma,t}}})),Km=U(Wm),Xm=function(e){var t=e.id;return B({url:"".concat(Zm,"/").concat(t),client:Km}).then(function(e){return e.data}).catch(function(e){return Promise.reject(e)})},$m=function(e){return B({url:e,client:Ym}).then(function(e){return e.data.result}).catch(function(e){return Promise.reject(e)})},ep=function(e){var t=e.referralId,a=e.stages,n=void 0===a?[]:a,r=e.data,i=r.multipleMonogenic,s=r.testRequestId,c=r.suggestedPanels,o=r.manuallyChosenPanels,l=r.penetrance,u=r.version,d=c.filter(function(e){return e.selected}),m=o.filter(function(e){return e.selected}),p={multipleMonogenic:i,testRequestId:s,panels:[].concat(Object(P.a)(d),Object(P.a)(m)).map(function(e){return{id:e.id,name:e.name,version:e.version}}),penetrance:l,version:u};return Z("PUT",p)(),function(e){var t=e.url,a=e.data;return e.client.put(t,a)}({url:"/api/PanelAssigner",data:JSON.stringify(p),client:Km}).then(function(){return H(t,n)}).catch(function(e){return Promise.reject(e)})},tp="panel-assigner/BEGIN_SEARCH",ap="panel-assigner/BEGIN_FETCH",np="panel-assigner/ADD_PANEL_TO_LIST",rp="panel-assigner/CLEAR_SEARCH_LIST",ip="panel-assigner/GET_ASSIGNED_PANELS",sp="panel-assigner/REMOVE_PANEL_FROM_SEARCH_LIST",cp="panel-assigner/SET_PENETRANCE",op="panel-assigner/SET_SEARCH_RESULTS",lp="panel-assigner/SET_SELECTED_STATE",up={isPenetranceComplete:!1,manuallyChosenPanels:[],multipleMonogenic:null,testRequestId:null,penetrance:"Non-penetrant condition",searchResults:[],suggestedPanels:[],version:null,isLoading:!1,isSearching:!1},dp=Object(A.a)([function(e){return e.searchResults},function(e){return e.manuallyChosenPanels}],function(e,t){return e.reduce(function(e,a){if(t.length>0){var n=t.find(function(e){return e.id===a.id});if(n)return[].concat(Object(P.a)(e),[Object(T.a)({},n,{manuallyAdded:!0})])}return[].concat(Object(P.a)(e),[a])},[])}),mp=function(e,t,a){return e?e.reduce(function(e,n){return[].concat(Object(P.a)(e),[t===n.id?Object(T.a)({},n,{selected:a}):n])},[]):[]},pp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:up,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case ap:return Object(T.a)({},e,{isLoading:!0});case tp:return Object(T.a)({},e,{isSearching:!0});case ip:var r=n.manuallyChosenPanels,i=n.multipleMonogenic,s=n.testRequestId,c=n.penetrance,o=n.suggestedPanels,l=n.version,u="Full penetrance"===c;return Object(T.a)({},e,{isLoading:!1,isPenetranceComplete:u,manuallyChosenPanels:r,multipleMonogenic:i,testRequestId:s,suggestedPanels:o,version:l});case cp:var d=n.isPenetranceComplete,m=n.penetrance;return Object(T.a)({},e,{isPenetranceComplete:d,penetrance:m});case op:var p=n.searchResults;return Object(T.a)({},e,{isSearching:!1,searchResults:p});case np:var f=n.panel;return Object(T.a)({},e,{manuallyChosenPanels:[].concat(Object(P.a)(e.manuallyChosenPanels),[f])});case sp:var h=n.panelId;return Object(T.a)({},e,{searchResults:e.searchResults.filter(function(e){return e.id!==h})});case rp:return Object(T.a)({},e,{searchResults:[]});case lp:var b=n.panelId,v=n.selected;return Object(T.a)({},e,{suggestedPanels:mp(e.suggestedPanels,b,v),manuallyChosenPanels:mp(e.manuallyChosenPanels,b,v)});default:return e}},fp=a(252),hp=a.n(fp),bp=a(253),vp=a.n(bp),_p=a(254),gp=a.n(_p),yp=vr.a.bind(gp.a),Ep=function(e){var t=e.id,a=e.name,n=e.checked,i=e.handleChange;return r.a.createElement("div",{className:yp("select-panel",{"select-panel--checked":n})},r.a.createElement("div",{className:yp("select-panel__content")},r.a.createElement("input",{id:t,type:"checkbox",name:t,defaultChecked:n,tabIndex:"-1"}),r.a.createElement("span",{className:yp("select-panel__name"),onClick:function(){return i({id:t,selected:!n})},onKeyPress:function(){return i({id:t,selected:!n})},tabIndex:"0"},a)),r.a.createElement("a",{className:yp("select-panel__link"),href:"https://panelapp.genomicsengland.co.uk/panels/".concat(t),target:"_blank",title:"View on PanelApp",rel:"noopener noreferrer"},r.a.createElement(Mr,null)))},Cp=vr.a.bind(vp.a),Op=function(e){var t=e.panelArray,a=e.handleChange;return r.a.createElement("ul",{className:Cp("panel-list")},t.map(function(e){var t=e.id,n=e.name,i=e.selected;return r.a.createElement("li",{key:t,className:Cp("panel-list__item")},r.a.createElement(Ep,{name:n,id:t,checked:i,handleChange:function(t){var n=t.selected;return a(Object(T.a)({},e,{selected:n}))}}))}))},jp=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(pr.a)(this,(e=Object(fr.a)(t)).call.apply(e,[this].concat(r)))).setWrapperRef=function(e){a.wrapperRef=e},a.handleClickOutside=function(e){a.wrapperRef&&!a.wrapperRef.contains(e.target)&&a.props.handleExit(e)},a}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"render",value:function(){return r.a.createElement("div",{ref:this.setWrapperRef},this.props.children)}}]),t}(n.Component);jp.defaultProps={handleExit:function(){}};var Sp=vr.a.bind(hp.a),wp=function(e){var t=e.addPanel,a=e.clearSearch,i=e.handleSearch,s=e.isPenetranceComplete,c=e.manuallyChosenPanels,o=e.removePanelFromSearch,l=e.searchDisplayResults,u=e.setPenetrance,d=e.setSelectedPanel,m=e.handleClick,p=e.suggestedPanels,f=e.isSearching,h=e.navigate,b=e.nextStage;return r.a.createElement("div",{className:Sp("panel-assigner")},r.a.createElement("div",{className:Sp("panel-assigner__intro")},r.a.createElement(mc,null,"Panels"),r.a.createElement($r,{size:"5",element:"p"},"The selected tests require a panel and penetrance setting. Don't worry if you don't know what panels you need. Please submit your request and discuss panel selection with your lab once they have received your request.")),r.a.createElement("div",{className:Sp("panel-assigner__penetrance")},r.a.createElement($r,{element:"h3",size:"6",className:Sp("panel-assigner__subheader")},"Penetrance"),r.a.createElement(Ji,{onClick:function(){return u(!0)},selected:s,text:"Complete"}),r.a.createElement(Ji,{onClick:function(){return u(!1)},selected:!s,text:"Incomplete"})),p.length>0?r.a.createElement(n.Fragment,null,r.a.createElement($r,{element:"h3",size:"6",className:Sp("panel-assigner__subheader")},"Suggestions based on the clinical information"),r.a.createElement(Op,{panelArray:p,handleChange:function(e){return d(e)}})):r.a.createElement($r,{element:"p",size:"6",className:Sp("panel-assigner__subheader")},"No suggested panels found"),c.length>0&&r.a.createElement(n.Fragment,null,r.a.createElement($r,{element:"h3",size:"6",className:Sp("panel-assigner__subheader")},"Added panels"),r.a.createElement(Op,{panelArray:c,handleChange:function(e){return d(e)}})),r.a.createElement(Er.Consumer,null,function(e){var s=e.config,c=s.panelAppSearchUrl,u=s.panelAppPanelDetailsUrl;return r.a.createElement(n.Fragment,null,r.a.createElement($r,{size:"6",className:Sp("panel-assigner__subheader","panel-assigner__subheader--with-link")},r.a.createElement("h3",null,"Add another panel"),r.a.createElement("a",{className:Sp("panel-assigner__panelapp-link"),href:u,target:"_blank",rel:"noopener noreferrer"},"Visit PanelApp ",r.a.createElement(Mr,null))),r.a.createElement(jp,{handleExit:a},r.a.createElement(n.Fragment,null,r.a.createElement(Em,{name:"panelAppSearch",isLoading:f,fullBorder:!0,onChange:function(e){var t=e.target.value;return i("".concat(c).concat(t))},placeholder:"e.g. Adult solid tumours for rare disease",className:Sp("panel-assigner__search")}),l.length>0&&r.a.createElement(Op,{panelArray:l,handleChange:function(e){e.manuallyAdded?d(e):t(e),o(e.id)}}))))}),r.a.createElement(Os,{handleClick:m,navigate:h,navigateTo:b}))},kp=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(pr.a)(this,(e=Object(fr.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){var e=a.props,t=e.referralId;(0,e.submitPanelSelectionAction)(t)},a.componentDidMount=function(){var e=a.props;(0,e.fetchAssignedPanelsWithId)(e.referralId)},a.debouncedSearch=ts()(function(e){e.length>3&&a.props.searchPanels(e)},250),a}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return this.props.isLoading?r.a.createElement("p",null,"loading..."):r.a.createElement(wp,Object.assign({},this.props,{handleSearch:this.debouncedSearch,handleClick:this.handleClick}))}}]),t}(n.Component),Tp=Object(c.b)(function(e){var t=e.panelAssigner,a=e.referral;return Object(T.a)({},t,{searchDisplayResults:dp(t),referralId:En(a)})},{addPanel:function(e){var t=e.panelId,a=e.currentVersion,n=e.name;return{type:np,payload:{panel:{id:t,version:a,name:n,selected:!0}}}},clearSearch:function(){return{type:rp}},fetchAssignedPanelsWithId:function(e){return function(){var t=Object(k.a)(w.a.mark(function t(a){var n;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:ap}),t.prev=1,t.next=4,Xm({id:e});case 4:(n=t.sent)&&a({type:ip,payload:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),Z("Error in panel assigner.",{error:t.t0})("error");case 11:case"end":return t.stop()}},t,null,[[1,8]])}));return function(e){return t.apply(this,arguments)}}()},removePanelFromSearch:function(e){return{type:sp,payload:{panelId:e}}},searchPanels:function(e){return function(){var t=Object(k.a)(w.a.mark(function t(a){var n,r;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:tp}),t.prev=1,t.next=4,$m(e);case 4:n=t.sent,r=n.reduce(function(e,t){return[].concat(Object(P.a)(e),[Object(T.a)({},t,{id:t.panelId})])},[]),a({type:op,payload:{searchResults:r}}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),Z("Error in panel assigner.",{error:t.t0})("error");case 12:case"end":return t.stop()}},t,null,[[1,9]])}));return function(e){return t.apply(this,arguments)}}()},setPenetrance:function(e){return{type:cp,payload:{isPenetranceComplete:e,penetrance:(t=e,t?"Full penetrance":"Non-penetrant condition")}};var t},setSelectedPanel:function(e){var t=e.id,a=e.selected;return{type:lp,payload:{panelId:t,selected:a}}},submitPanelSelectionAction:function(e){return function(){var t=Object(k.a)(w.a.mark(function t(a,n){var r,i,s,c,o,l,u;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n(),i=r.panelAssigner,s=void 0===i?{}:i,c=Ue(r),s.isLoading,s.isSearching,s.searchResults,o=Object(L.a)(s,["isLoading","isSearching","searchResults"]),t.prev=4,a({type:ge}),t.next=8,ep({data:o,referralId:e,stages:c});case 8:l=t.sent,u=l.stages,a(De(u)),a({type:ye}),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(4),Z("Error in panel assigner.",{error:t.t0})("error"),a({type:Ee});case 18:case"end":return t.stop()}},t,null,[[4,14]])}));return function(e,a){return t.apply(this,arguments)}}()}})(kp),Ip={id:gr.a.string,identifiers:gr.a.arrayOf(gr.a.shape({id:gr.a.string,name:gr.a.string}).isRequired),tumourDiagnosisYear:gr.a.string,tumourDiagnosisMonth:gr.a.string,tumourDiagnosisDay:gr.a.string},Np={existingTumours:gr.a.arrayOf(gr.a.shape(Ip)).isRequired,hasExistingTumours:gr.a.bool,activePatient:gr.a.shape({id:gr.a.string,name:gr.a.string}).isRequired,navigate:gr.a.func.isRequired},xp=(Object(T.a)({},Np,{selectedTumour:gr.a.shape(Ip),setSelectedTumour:gr.a.func.isRequired,tumourNicknameIdentifierType:gr.a.string.isRequired,incompleteTumours:gr.a.arrayOf(gr.a.string)}),Object(T.a)({},Np,{handleSubmit:gr.a.func.isRequired,isNewTumour:gr.a.bool,dateOfBirth:gr.a.string}),gr.a.func.isRequired,gr.a.func.isRequired,gr.a.string.isRequired,gr.a.bool,gr.a.bool,gr.a.arrayOf(gr.a.shape(Jl)),Object(T.a)({},Np,{selectedTumour:gr.a.shape(Ip),setSelectedTumour:gr.a.func.isRequired,clearTumourAddedNotification:gr.a.func.isRequired,isLoading:gr.a.bool,loadPatientTumours:gr.a.func.isRequired,tumourAdded:gr.a.bool,questionsLoading:gr.a.bool,updateReferralAction:gr.a.func.isRequired}),a(255)),Lp=a.n(xp),Pp=vr.a.bind(Lp.a),Ap=function(e){var t=e.selected,a=e.text;return r.a.createElement("div",{className:Pp("checkmark-text")},r.a.createElement("span",{className:Pp("checkmark-text__checkmark",{"checkmark-text__checkmark--checked":t})}),r.a.createElement($r,null,a))},Rp=a(256),Dp=a.n(Rp),qp=vr.a.bind(Dp.a),Mp=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(pr.a)(this,(e=Object(fr.a)(t)).call.apply(e,[this].concat(r)))).setSelected=function(){var e=a.props;(0,e.onChange)(e.selected)},a}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.selected,n=t.onViewDetails,i=(t.onChange,t.className),s=t.value,c=t.date,o=t.status,l=t.specimenId,u=void 0===l?"-":l,d=t.showWarning,m=Object(L.a)(t,["selected","onViewDetails","onChange","className","value","date","status","specimenId","showWarning"]);return r.a.createElement($r,Object.assign({element:"tr",tabIndex:"0"},m,{className:qp("checkbox-row",i,{"checkbox-row--checked":a,"checkbox-row--warning":d}),onClick:this.setSelected,onKeyDown:function(t){var a=t.which;return Wo(a,e.setSelected)}}),r.a.createElement("th",{scope:"row"},r.a.createElement(Ap,{selected:a,text:s})),r.a.createElement("td",{className:qp("checkbox-row__cell")},u),r.a.createElement("td",{className:qp("checkbox-row__cell")},c),r.a.createElement("td",{className:qp("checkbox-row__cell")},o),r.a.createElement("td",{className:qp("checkbox-row__arrow"),onClick:function(e){e.stopPropagation(),n()}},r.a.createElement(Ar,null)))}}]),t}(n.Component);Mp.defaultProps={selected:!1,onChange:function(){}};var Fp=Mp,Up=a(257),Bp=a.n(Up),Vp=vr.a.bind(Bp.a),Gp=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(pr.a)(this,(e=Object(fr.a)(t)).call.apply(e,[this].concat(r)))).state={switchSelected:!1},a.selectTumour=function(e){var t=e.isSelected,n=e.selectedTumour,r=e.tumourToSelect,i=a.props.setSelectedTumour;n?ks({message:"Selecting a different tumour will remove any samples linked to the previously selected tumour.",action:function(){t?i():(i(r),a.setState({switchSelected:!0}))}}):i(r)},a}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"componentWillUnmount",value:function(){this.props.clearTumourAddedNotification()}},{key:"render",value:function(){var e=this,t=this.props,a=t.createNew,i=t.existingTumours,s=t.handleLink,c=t.hasExistingTumours,o=t.selectedTumour,l=t.tumourAdded,u=t.saveTumourSelection,d=t.navigate,m=t.nextStage,p=t.tumourNicknameIdentifierType,f=t.tumourPathologyIdIdentifierType,h=t.isTumourEdit,b=t.incompleteTumours,v=void 0===b?[]:b,_=this.state.switchSelected;0===i.length&&a();var g=(o||{}).id,y=h&&!l&&!_,E=l&&!_;return r.a.createElement(n.Fragment,null,r.a.createElement(mc,null,"Select or edit a tumour"),E&&r.a.createElement(Bs,{type:"success",className:Vp("tumour-list__notification")},"Tumour added"),y&&r.a.createElement(Bs,{type:"success",className:Vp("tumour-list__notification")},"Tumour updated"),c&&r.a.createElement($r,{size:"5",className:Vp("tumour-list__sub-title")},"Only one tumour (neoplasm) at a time can be selected for testing. ",r.a.createElement("br",null),"To test an additional tumour for this patient, start a new referral."),r.a.createElement(Pu,{headers:["Description","Histopathology laboratory ID or local sample ID","Date diagnosed","Status",""],isSelect:!0,isSpecimen:!0,isSpecimenSelect:!0},i.map(function(t){var a,n,i=t.id,c=t.identifiers,l=t.tumourDiagnosisYear,u=t.tumourDiagnosisMonth,d=t.tumourDiagnosisDay,m=t.tumourType.display,h=Ft(c,f).value,b=Ft(c,p).value,_=Tt({day:d,month:u,year:l});return r.a.createElement(Fp,{key:i,value:(a=b,n=45,a&&a.length>n?"".concat(a.substring(0,n),"..."):a),specimenId:h,date:_,status:m,selected:g===i,onViewDetails:function(){return s(i)},onChange:function(a){return e.selectTumour({isSelected:a,selectedTumour:o,tumourToSelect:t})},showWarning:v.includes(i)})})),v.length>0&&r.a.createElement("div",{className:Vp("tumour-list__warning")},r.a.createElement(Jr,null,"There is essential information missing from this entry")),r.a.createElement($r,{size:"5"},"If the tumour to be tested is ",r.a.createElement("strong",null,"shown but metastatic")," or"," ",r.a.createElement("strong",null,"not shown,")," ",r.a.createElement(gs,{link:!0,size:"medium",onClick:function(){return a()}},"add a new tumour to this referral.")),r.a.createElement(Os,{navigate:d,handleClick:function(){return u({tumourId:g||null})},navigateTo:m}))}}]),t}(n.Component),Qp=function(e){var t=e.day,a=e.month,n=e.year,r=e.minDate,i=e.validationMessage,s=void 0===i?"Please enter a date after ".concat(jt()(r).format("DD/MM/YYYY")):i;return t&&a&&n?!!function(e,t){return jt()(e).isBefore(jt()(t))}(new Date(so({day:t,month:a,year:n})),r)&&{year:s}:a&&n&&function(e,t,a){return t<=jt()(a).year()&&e<=jt()(a).month()}(a,n,r)?{year:s}:!(!n||!function(e,t){return e<jt()(t).year()}(n,r))&&{year:s}},zp=function(e){var t=e.day,a=e.month,n=e.year;return!!(t&&a&&n)&&(!function(e){var t=e.day,a=e.month,n=e.year,r=new Date(so({day:t,month:a,year:n}));return Boolean(+r)&&r.getUTCDate()===parseInt(t,10)}({day:t,month:a,year:n})&&"Check the day and month are valid")},Hp=function(e){var t=e.day,a=e.month,n=e.year,r=e.isRequired,i=Ei(t,r),s=Ci(a,r,t),c=Oi(n,r),o=zp({day:t,month:a,year:n});return i||s||c?Object(T.a)({},i&&{day:i},s&&{month:s},c&&{year:c}):Object(T.a)({},o&&{day:o,month:!0,year:!1})},Jp=function(e,t,a){return jt()(e).subtract(t,a).format("YYYY-MM-DD")},Zp=function(e){var t=e.handleSubmit,a=e.types,i=e.isNewTumour,s=e.existingTumour,c=void 0===s?{}:s,o=e.navigate,l=e.nextStage,u=e.previousStage,d=e.tumourNicknameIdentifierType,m=e.tumourPathologyIdIdentifierType,p=e.dateOfBirth,f=c.tumourDiagnosisDay,h=void 0===f?"":f,b=c.tumourDiagnosisMonth,v=void 0===b?"":b,_=c.tumourDiagnosisYear,g=void 0===_?"":_,y=c.identifiers,E=void 0===y?[{value:"",type:{uid:""}}]:y,C=c.tumourType,O=E.reduce(function(e,t){var a=t.type,n=t.value,r=(a||{}).uid;return r?Object(T.a)({},e,r===d&&{descriptiveName:n||null},r===m&&{pathologyReportId:n||null}):e},{}),j={day:h,month:v,year:g,descriptiveName:O.descriptiveName,pathologyReportId:O.pathologyReportId,tumourType:C||{}};return r.a.createElement(Rs,{initialValues:j,validate:function(e){var t={};e.tumourType.uid||(t.tumourType="Please select the tumour type");var a=Hp({day:e.day,month:e.month,year:e.year}),n=!!p&&Qp({day:e.day,month:e.month,year:e.year,minDate:Jp(p,9,"month"),validationMessage:"Cannot be more than 9 months before date of birth"}),r=Object(T.a)({},n,a);return Object(T.a)({},t,r)},onSubmit:function(e,a){var n=e.day,r=e.month,i=e.year,s=Object(T.a)({},e,{tumourNicknameIdentifierType:d,tumourPathologyIdIdentifierType:m,tumourDiagnosisDay:n?"".concat(n):null,tumourDiagnosisMonth:r?"".concat(r):null,tumourDiagnosisYear:"".concat(i)});t(s,a)},enableUnsavedChangesWarning:!0},function(e){var t=e.isSubmitting;return r.a.createElement(n.Fragment,null,r.a.createElement(qi,{name:"descriptiveName",placeholder:"e.g. Left lung",label:"Description",hint:"Describe in a way that distinguishes this tumour from others the patient may have"}),r.a.createElement(Ni.Multi,{label:"Date of diagnosis",day:"day",month:"month",year:"year",hint:"Year is required. Enter day and month if known.",fuzzy:{dayRequired:!1,monthRequired:!1,yearRequired:!0}}),r.a.createElement(ms,{label:"The tumour is...",name:"tumourType",options:a,required:!0}),r.a.createElement(qi,{name:"pathologyReportId",placeholder:"e.g. A1 xxxxxx",hint:"Add the pathology or haemotology identifier from the local report. Use the subspecimen ID if there is one.",label:"Histopathology laboratory ID or local sample ID",required:!0}),r.a.createElement(Os,{navigate:o,navigateTo:l,navigateBack:u,disabled:t,disableAutoAdvance:i,pathPrefix:"",type:"submit"}))})},Wp=a(258),Yp=a.n(Wp),Kp=vr.a.bind(Yp.a),Xp=function(e){var t=e.handleSubmit,a=e.existingTumours,i=e.tumourId,s=e.types,c=e.navigate,o=e.nextStage,l=e.previousStage,u=e.isNewTumour,d=e.dateOfBirth,m=Object(L.a)(e,["handleSubmit","existingTumours","tumourId","types","navigate","nextStage","previousStage","isNewTumour","dateOfBirth"]),p=a.find(function(e){return e.id===i}),f=p?"Edit a tumour":"Add a tumour";return r.a.createElement(n.Fragment,null,r.a.createElement(mc,null,f),r.a.createElement($r,{size:"5",element:"p",className:Kp("tumour-view__subtitle")},"A laboratory cannot start a test without a tumour (neoplasm).",r.a.createElement("br",null)," Each referral can only include one tumour."),r.a.createElement(Zp,Object.assign({types:s,existingTumour:p,isNewTumour:u,handleSubmit:function(e,a){return t(e,a,i)},navigate:c,nextStage:o,previousStage:l,dateOfBirth:d},m)))},$p=a(259),ef=a.n($p),tf=vr.a.bind(ef.a),af=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(pr.a)(this,(e=Object(fr.a)(t)).call.apply(e,[this].concat(i)))).renderLoading=function(){return r.a.createElement($r,{element:"p",size:"5",className:tf("tumour-questions__intro")},"Loading")},a.renderMissingStage=function(){var e=a.props.tumourId;return r.a.createElement($r,{element:"p",size:"5",className:tf("tumour-questions__intro")},"No questions found for tumour id ",e)},a.renderBody=function(){var e=a.props,t=e.stages,n=void 0===t?[]:t,i=e.tumourId,s=e.showLoading,c=Object(L.a)(e,["stages","tumourId","showLoading"]),o=n.find(function(e){return e.entityId===i});return s?a.renderLoading():o?r.a.createElement(dd,Object.assign({},c,o,{previousStage:"../".concat(i)})):a.renderMissingStage()},a}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.referralId;(0,e.fetchTumourQuestions)(t)}},{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(mc,null,"Answer questions about this tumour"),r.a.createElement($r,{element:"p",size:"5",className:tf("tumour-questions__intro")},"Give details of the tumour being linked to this referral."),this.renderBody())}}]),t}(n.Component),nf=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(pr.a)(this,(e=Object(fr.a)(t)).call.apply(e,[this].concat(i)))).renderLoading=function(){return r.a.createElement("p",null,"Loading...")},a.renderTumourLanding=function(e){var t=e.tumourTypes,n=a.props,i=n.addTumour,s=n.clearTumourAddedNotification,c=n.editTumour,o=n.existingTumours,l=n.hasExistingTumours,u=n.referralId,d=n.isLoading,m=n.navigate,p=n.selectedTumour,f=n.setSelectedTumour,h=n.tumourAdded,b=n.activePatient,v=n.tumourQuestions,_=n.updateReferralAction,g=n.nextStage,y=n.saveTumourAnswersAction,C=n.fetchTumourQuestions,O=n.saveTumourSelection,j=n.questionsLoading,S=n.isTumourEdit,I=n.incompleteTumours,N=n.activePatient,x=(N=void 0===N?{}:N).dateOfBirth,L=a.context.config,P=L.tumourNicknameIdentifierType,A=L.tumourPathologyIdIdentifierType,R={existingTumours:o,hasExistingTumours:l,activePatient:b,navigate:m,tumourPathologyIdIdentifierType:A},D=Object(T.a)({},R,{tumourNicknameIdentifierType:P,tumourPathologyIdIdentifierType:A,handleSubmit:function(){var e=Object(k.a)(w.a.mark(function e(t,a,n){var r,s;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=b.id,e.prev=1,!n){e.next=7;break}return e.next=5,c(n,t,r);case 5:e.next=11;break;case 7:return e.next=9,i(t,r);case 9:s=e.sent,m("./".concat(s,"/questions"));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),a.setSubmitting(!1);case 16:case"end":return e.stop()}},e,null,[[1,13]])}));return function(t,a,n){return e.apply(this,arguments)}}(),types:t,dateOfBirth:x}),q={handleSubmit:function(){var e=Object(k.a)(w.a.mark(function e(t){var a,n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.setSubmitting,n=t.values,e.prev=1,a(!0),e.next=5,y(u,n);case 5:a(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a(!1);case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}(),showLoading:d||j,tumourAdded:h,stages:v,fetchTumourQuestions:C,referralId:u},M=Object(T.a)({},R,{tumourNicknameIdentifierType:P,clearTumourAddedNotification:s,selectedTumour:p,setSelectedTumour:f,tumourAdded:h,updateReferralAction:_,incompleteTumours:I});return r.a.createElement(E.d,{primary:!1},r.a.createElement(Xp,Object.assign({path:"create"},D,{nextStage:{path:"".concat("create","/questions")},previousStage:l?"..":null,isNewTumour:!0})),r.a.createElement(Xp,Object.assign({path:":tumourId"},D,{nextStage:{path:"./questions"},previousStage:".."})),r.a.createElement(af,Object.assign({path:":tumourId/questions"},q,{nextStage:{path:"../"}})),r.a.createElement(Gp,Object.assign({path:"/"},M,{isTumourEdit:S,saveTumourSelection:O,handleLink:function(e){m(e)},createNew:function(){m("create")},nextStage:g})))},a}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.loadPatientTumours,a=e.activePatient,n=(a=void 0===a?{}:a).id,r=e.referralSampleIds,i=e.getAllSamples,s=this.context.config.localLabSampleIdIdentifierType;t(n),i(r,s)}},{key:"render",value:function(){var e=this,t=this.props.isLoading;return r.a.createElement(Er.Consumer,null,function(a){var i=a.codes.tumourTypes;return r.a.createElement(n.Fragment,null,t?e.renderLoading():e.renderTumourLanding({tumourTypes:i}))})}}]),t}(n.Component);nf.contextType=Er;var rf=nf,sf=Object(c.b)(function(e){var t=e.tumour,a=e.referral,n=Object(L.a)(e,["tumour","referral"]);return Object(T.a)({},t,{referralSampleIds:jn(a),incompleteTumours:Be(n)})},{addTumour:function(e,t){return function(){var a=Object(k.a)(w.a.mark(function a(n,r){var i,s,c,o,l,u;return w.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:ge}),n({type:fa}),i=Object(T.a)({},oa(e),{patient:t}),a.prev=3,a.next=6,aa(i);case 6:return s=a.sent,c=s.uid,a.next=10,d=c,B({url:"".concat("/api/Tumour","/").concat(d),client:Xt}).then(function(e){return e.data}).catch(function(e){return Promise.reject(e)});case 10:return o=a.sent,n({type:ma,payload:{newTumour:o}}),a.next=14,n(_a(o));case 14:return l=r(),u=l.tumour.selectedTumour.id,a.next=17,Gn(u)(n,r);case 17:return a.abrupt("return",c);case 20:return a.prev=20,a.t0=a.catch(3),n({type:ua}),Z("Error in add tumour module.",{error:a.t0})("error"),n({type:Ee}),a.abrupt("return",!1);case 26:case"end":return a.stop()}var d},a,null,[[3,20]])}));return function(e,t){return a.apply(this,arguments)}}()},editTumour:function(e,t,a){return function(){var n=Object(k.a)(w.a.mark(function n(r,i){var s,c,o,l,u,d,m,p,f;return w.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:ge}),s=i(),c=s.tumour.existingTumours,o=c.find(function(t){return t.id===e}),l=o.identifiers,u=Object(T.a)({},t,{identifiers:l}),d=Object(T.a)({},oa(u),{patient:a}),n.prev=5,n.next=8,ra({tumourId:e,data:d});case 8:if(r(_a(Object(T.a)({},d,{id:e}))),m=i(),p=m.referral,f=On(p),e===f){n.next=14;break}return n.next=14,Gn(e)(r,i);case 14:va(a)(r,i),r({type:ye}),n.next=22;break;case 18:n.prev=18,n.t0=n.catch(5),Z("Error in add tumour module.",{error:n.t0})("error"),r({type:Ee});case 22:case"end":return n.stop()}},n,null,[[5,18]])}));return function(e,t){return n.apply(this,arguments)}}()},loadPatientTumours:va,setSelectedTumour:_a,clearTumourAddedNotification:function(){return{type:fa}},fetchTumourQuestions:function(e){return function(){var t=Object(k.a)(w.a.mark(function t(a){var n;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:la}),t.prev=1,t.next=4,na(e);case 4:n=t.sent,a({type:ha,payload:{tumourQuestions:n}}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:ua,payload:{tumourQuestions:[]}}),Z("Error in tumour, fetch questions",{error:t.t0})("error");case 12:a({type:la,payload:{questionsLoading:!1}});case 13:case"end":return t.stop()}},t,null,[[1,8]])}));return function(e){return t.apply(this,arguments)}}()},updateReferralAction:mt,saveTumourAnswersAction:function(e,t){return function(){var a=Object(k.a)(w.a.mark(function a(n,r){var i,s,c;return w.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:ge}),i=Ue(r()),a.prev=2,a.next=5,sa({referralId:e,data:t,stages:i});case 5:s=a.sent,c=s.stages,n(De(c)),n({type:ye}),a.next=16;break;case 11:a.prev=11,a.t0=a.catch(2),n({type:ua}),Z("Error in saving tumour.",{error:a.t0})("error"),n({type:Ee});case 16:case"end":return a.stop()}},a,null,[[2,11]])}));return function(e,t){return a.apply(this,arguments)}}()},getAllSamples:Ma,saveTumourSelection:function(e){var t=e.tumourId;return function(){var e=Object(k.a)(w.a.mark(function e(a,n){var r,i,s;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a({type:ge}),r=n(),i=r.referral,s=On(i),t!==s?Gn(t)(a,n):a({type:ye});case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()}})(rf),cf=a(260),of=a.n(cf),lf=vr.a.bind(of.a),uf=function(e){var t=e.patientId,a=e.patientsConsent,i=e.stage,s=function(e,t){return t.filter(function(t){return t.patientId===e})[0]}(t,a).status,c="Not entered"===s&&"family-members"===i;return r.a.createElement(n.Fragment,null,c?r.a.createElement(E.a,{to:"../patient-choice/".concat(t,"/add")},s):r.a.createElement("span",null,s))},df=function(e){var t=e.id,a=e.familyName,n=e.firstName,i=e.dateOfBirth,s=e.relationship,c=(s=void 0===s?{}:s).display,o=e.isSelectable,l=void 0===o||o,u=e.isProband,d=e.nextPage,m=e.removeRow,p=e.includeRemoveColumn,f=e.isBeingTested,h=e.patientsConsent,b=e.stage,v=e.showWarning;return r.a.createElement($r,{element:"tr",className:lf({"table-row--shade":u&&!l,"table-row--warning":v})},r.a.createElement("td",null,a&&a.toUpperCase(),", ",n),r.a.createElement("td",null,St(i)),r.a.createElement("td",null,u?"Proband":c),r.a.createElement("td",null,f?"Yes":"No"," "),r.a.createElement("td",null,r.a.createElement(uf,{patientId:t,patientsConsent:h,stage:b})),p&&r.a.createElement("td",{className:lf("participant-list__button-cell")},m&&r.a.createElement(gs,{className:lf("participant-list__button"),link:!0,onClick:function(){ks({message:"Removing a family member can't be undone. Do you still want to remove them?",action:function(){m(t)}})},type:"button"},r.a.createElement(Br,null))),r.a.createElement("td",{className:lf({"participant-list__button-cell":l})},l&&r.a.createElement(E.a,{to:"".concat(t,"/").concat(d),className:lf("participant-list__arrow-link")},r.a.createElement(Vr,null))))},mf=["Name","Born","Relationship","Being tested","Patient choice status"],pf=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeRemoveColumn;return[].concat(mf,Object(P.a)(e?["Remove"]:[]),["Edit"])},ff=function(e){var t=e.probandPatient,a=e.otherPatients,i=e.probandSelectable,s=e.nextPage,c=e.removeParticipant,o=e.patientsConsent,l=e.stage,u=e.incompleteParticipants,d=void 0===u?[]:u,m=Object(L.a)(e,["probandPatient","otherPatients","probandSelectable","nextPage","removeParticipant","patientsConsent","stage","incompleteParticipants"]);return r.a.createElement(n.Fragment,null,r.a.createElement(Pu,{narrowCellCount:c?2:1,headers:pf({includeRemoveColumn:!!c})},t&&r.a.createElement(df,Object.assign({},t,{isProband:!0,isSelectable:!!i,nextPage:s,includeRemoveColumn:!!c,patientsConsent:o,stage:l},m)),a&&a.map(function(e){return r.a.createElement(df,Object.assign({},e,{key:e.id,nextPage:s},m,{includeRemoveColumn:!!c,removeRow:c,patientsConsent:o,stage:l,showWarning:d.includes(e.id)}))})),d.length>0&&r.a.createElement("div",{className:lf("participant-list__warning")},r.a.createElement(Jr,null,"There is essential clinical information missing from this entry")))},hf=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(pr.a)(this,(e=Object(fr.a)(t)).call.apply(e,[this].concat(r)))).state={showNotification:!1},a.removeParticipant=function(){var e=Object(k.a)(w.a.mark(function e(t){var n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.removeParticipant,e.next=3,n(t);case 3:a.setState({showNotification:!0});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.navigate,a=e.otherPatients,i=e.probandPatient,s=e.nextStage,c=e.patientsConsent,o=e.testsHaveAllRequiredParticipants,l=e.incompleteParticipants,u=this.state.showNotification;return r.a.createElement(n.Fragment,null,u&&r.a.createElement(Bs,{type:"success",includeDefaultSpace:!0},"Family member removed from referral"),r.a.createElement(mc,null,"Add a family member to this referral"),!o&&r.a.createElement(Bs,{type:"error",belowTitle:!0},r.a.createElement("p",null,"The number of participants you\u2019ve selected for one or more tests does not match the number that was quoted. Check participants for each test or"," ",r.a.createElement(zs,{to:"../".concat("test-package")},"change your quote"),".")),r.a.createElement($r,{element:"p",size:"6"},"Tested family members you add here will be visible in the pedigree."),r.a.createElement($r,{element:"span",size:"5"},"You can ",r.a.createElement(zs,{to:"../".concat("pedigree")},"add non-tested family members")," ","to the pedigree as well."),r.a.createElement(ff,{nextPage:"patient-details",probandPatient:i,otherPatients:a,includeBeingTestedColumn:!0,removeParticipant:this.removeParticipant,patientsConsent:c,incompleteParticipants:l,stage:"family-members"}),r.a.createElement(gs,{outline:!0,size:"medium",onClick:function(){return t(m)}},"Add family member"),r.a.createElement(Os,{navigateTo:s,navigate:t}))}}]),t}(n.Component),bf=function(e){var t=e.navigate;return r.a.createElement(n.Fragment,null,r.a.createElement(bo,{navigate:t,pageTitle:"Find a family member",searchTitle:"Do you have the family member\u2019s NHS Number?"}))},vf=function(e){var t="".concat(e?"test-package":Se);return{path:"../".concat(t),pathWithNgisId:function(e){return"../../".concat(e,"/").concat(t)}}},_f=function(e){var t=e.navigate,a=e.referralId,i=e.patientId,s=e.location,c=e.uri,o=e.includeTestsStage;return r.a.createElement(n.Fragment,null,r.a.createElement(mc,null,"Confirm family member details"),r.a.createElement(_c,{navigate:t,referralId:a,nextStage:vf(o),pageTitle:"",inReferral:!0,patientId:i,location:s,uri:c}))},gf=a(261),yf=a.n(gf),Ef=vr.a.bind(yf.a),Cf=function(e){var t=e.familyName,a=e.firstName,n=e.dateOfBirth,i=e.relationship,s=(i=void 0===i?{}:i).display;return r.a.createElement("div",{className:Ef("family-member-card")},r.a.createElement($r,{element:"span"},t&&t.toUpperCase(),", ",a),r.a.createElement($r,{element:"span"},"Born - ",St(n)),r.a.createElement($r,{element:"span"},s))},Of=function(e){var t=e.navigate,a=e.participant,i=e.isPatientLoading,s=e.renderLoading,c=e.includeTestsStage;return r.a.createElement(n.Fragment,null,r.a.createElement(mc,null,"Add family member details"),r.a.createElement($r,{element:"p"},"Based on the clinical indication for the proband, please answer the clinical questions below."),r.a.createElement(Cf,a),i?s():r.a.createElement(pd,{navigate:t,questionStage:"family_members",nextStage:{path:"../"},previousStage:c?"test-package":"patient-details",isProband:!1}))},jf=a(262),Sf=a.n(jf),wf=vr.a.bind(Sf.a),kf="./".concat(Se),Tf="./".concat("patient-details"),If=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(pr.a)(this,(e=Object(fr.a)(t)).call.apply(e,[this].concat(r)))).handleSave=function(){(0,a.props.saveTestSelection)()},a}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.activePatientId,a=e.navigate,i=e.activePatient,s=e.isPatientLoading,c=e.renderLoading,o=e.familyTests,l=void 0===o?[]:o,u=e.participantTests,d=void 0===u?[]:u,m=i.relationship,p=(m=void 0===m?{}:m).display,f=void 0===p?"":p,h=l.map(function(e){return Object(T.a)({},e,{selected:d.includes(e.id)})}).filter(function(e){return e.selected}).length;return r.a.createElement(n.Fragment,null,r.a.createElement($r,{element:"h1",size:"2"},"Select tests for"," ",r.a.createElement("span",{className:wf("family-member-test-package__patient")},f)),r.a.createElement(Cf,i),r.a.createElement($r,{element:"h3",size:"4",className:wf("family-member-test-package__title")},"Selected tests for"," ",r.a.createElement("span",{className:wf("family-member-test-package__patient")},f)," (",h,")"),r.a.createElement($r,{element:"p",className:wf("family-member-test-package__text")},"Tests already selected for Proband are listed below.",r.a.createElement("br",null),"Select each test that the family member named above should be added to."),s?c():r.a.createElement(bl,{isProband:!1,showParticipantsNumber:!1,activePatientId:t,isTestDefaultSelected:!0}),r.a.createElement(Os,{handleClick:this.handleSave,navigateTo:{path:kf},navigate:a,navigateBack:Tf}))}}]),t}(n.Component),Nf=function(e){function t(){return Object(g.a)(this,t),Object(pr.a)(this,Object(fr.a)(t).apply(this,arguments))}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.patientId;(0,e.setActivePatient)(t)}},{key:"componentWillUnmount",value:function(){(0,this.props.setActivePatient)()}},{key:"render",value:function(){var e=this.props,t=e.activePatient,a=e.activePatientId,n=e.referralId,i=e.saveTestSelection,s=e.patientId,c=e.includeTestsStage,o=e.renderLoading,l=e.navigate,u=e.familyTests,d=e.participantTests,m=!t||t.id!==s;return r.a.createElement(E.d,{primary:!1},r.a.createElement(_f,{referralId:n,path:"patient-details",navigate:l,patientId:s,includeTestsStage:c}),c&&r.a.createElement(If,{activePatientId:a,activePatient:t,path:"test-package",saveTestSelection:i,isPatientLoading:m,renderLoading:o,familyTests:u,participantTests:d}),r.a.createElement(Of,{participant:t,path:Se,isPatientLoading:m,renderLoading:o,includeTestsStage:c}))}}]),t}(n.Component),xf=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(pr.a)(this,(e=Object(fr.a)(t)).call.apply(e,[this].concat(i)))).renderLoading=function(){return r.a.createElement("p",null,"Loading...")},a.renderLanding=function(){var e=a.props,t=e.navigate,n=e.nextStage,i=e.otherPatients,s=e.probandPatient,c=e.referralId,o=e.familyMemberTestList,l=e.activePatient,u=e.activePatientId,d=e.setActivePatient,f=e.removeParticipant,h=e.clinicalIndicationId,b=e.saveTestSelection,v=e.participantTests,_=e.patientsConsent,g=e.testsHaveAllRequiredParticipants,y=e.incompleteParticipants,C=o.length>0;return r.a.createElement(E.d,{primary:!1},r.a.createElement(hf,{path:"/",probandPatient:s,otherPatients:i,nextStage:n,navigate:t,removeParticipant:f,patientsConsent:_,testsHaveAllRequiredParticipants:g,incompleteParticipants:y}),r.a.createElement(bf,{path:"".concat(m,"/*")}),r.a.createElement(Po,{referralId:c,path:p,inReferral:!0}),r.a.createElement(Nf,{path:"/:patientId/*",referralId:c,activePatient:l,activePatientId:u,setActivePatient:d,clinicalIndicationId:h,navigate:t,nextStage:n,includeTestsStage:C,renderLoading:a.renderLoading,saveTestSelection:b,familyTests:o,participantTests:v}))},a}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.clinicalIndicationId,a=e.getAllData;e.testsAreLoaded||a(t)}},{key:"componentWillUnmount",value:function(){(0,this.props.setActivePatient)()}},{key:"render",value:function(){return this.props.isLoading?this.renderLoading():this.renderLanding()}}]),t}(n.Component),Lf=Object(c.b)(function(e){var t=e.referral,a=e.testList,n=Object(L.a)(e,["referral","testList"]);return{activePatient:Sn(t),activePatientId:wn(t),probandPatient:ut(kn(t),an(a)),otherPatients:ut(Nn(t),an(a)),clinicalIndicationId:Ln(t),isProbandPatient:In(t),selectedTests:An(t),selectedTestIds:Dn(t),familyMemberTestList:rn(a),testsAreLoaded:!a.testDataIsLoading,participantTests:an(a)[wn(t)],patientsConsent:Fn(t),testsHaveAllRequiredParticipants:pn(a),incompleteParticipants:Be(n)}},{setActivePatient:Bn,getAllData:fn,saveTestSelection:hn,removeParticipant:function(e){return function(){var t=Object(k.a)(w.a.mark(function t(a,n){var r,i,s,c;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n(),i=r.referral.referralData.participants,s=i.filter(function(t){var a=t.isProband,n=t.patientId;return a||n!==e}),c={participants:ot(s),tests:un(e,r)},t.prev=4,t.next=7,a({type:"navigation/SET_NAVIGATION_OVERRIDE"});case 7:return t.next=9,mt(c)(a,n);case 9:return t.next=11,a({type:"navigation/RESET_NAVIGATION_OVERRIDE"});case 11:t.next=17;break;case 13:t.prev=13,t.t0=t.catch(4),a({type:Ee}),Z("Error removing a participant from the referral.",{error:t.t0})("error");case 17:case"end":return t.stop()}},t,null,[[4,13]])}));return function(e,a){return t.apply(this,arguments)}}()}})(xf),Pf=function(e){var t=e.probandPatient,a=e.otherPatients,i=e.patientsConsent,s=e.nextStage,c=e.navigate;return r.a.createElement(n.Fragment,null,r.a.createElement(mc,null,"Patient choice"),r.a.createElement($r,{element:"p"},"Before submitting a referral, the patient and family members need to choose how their samples can be used."),r.a.createElement(ff,{path:"/",nextPage:v,probandPatient:t,otherPatients:a,patientsConsent:i,probandSelectable:!0,includeBeingTestedColumn:!0}),r.a.createElement(Os,{navigateTo:s,navigate:c}))},Af=a(263),Rf=a.n(Af),Df=a(83),qf=function(e){var t=e.divId,a=e.accessToken,i=e.referralId,s=e.currentPatientId,c=e.setDirty,o=e.setClean,l=e.setSubmitted;return function(e){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.useEffect)(function(){return e&&e()},[])}(function(){window.consentAppConfig={accessToken:a,divId:t,referralId:i,currentPatientId:s,setDirty:c,setClean:o,setSubmitted:l,getAccessToken:function(){return fetch("".concat(d,"/api/authentication/token")).then(function(e){return e.text()}).then(function(e){return e})}}}),function(e){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.useEffect)(function(){return function(){return e&&e()}},[])}(function(){delete window.consentAppConfig}),r.a.createElement(Er.Consumer,null,function(e){var a=e.config,i=a.consentToolEmbedScriptUrl,s=a.consentToolEmbedStylesheetUrl;return r.a.createElement(n.Fragment,null,r.a.createElement(Df.Helmet,null,r.a.createElement("script",{type:"text/javascript",src:"".concat(i)}),r.a.createElement("link",{rel:"stylesheet",type:"text/css",href:"".concat(s)})),r.a.createElement("div",{id:t},r.a.createElement($r,{element:"p"},"Loading Patient Choice")))})},Mf=vr.a.bind(Rf.a),Ff=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(pr.a)(this,(e=Object(fr.a)(t)).call.apply(e,[this].concat(r)))).state={accessToken:null,getTokenError:!1,patientId:null,referralId:null,isDirty:!1,isSubmitted:!1},a._isMounted=!1,a.handleSave=Object(k.a)(w.a.mark(function e(){var t;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.updateConsentStatus,e.next=3,t(a.state.referralId,a.state.patientId);case 3:case"end":return e.stop()}},e)})),a.setDirty=function(){return a.setState({isDirty:!0})},a.setClean=function(){return a.setState({isDirty:!1})},a.setSubmitted=function(){return a.setState({isSubmitted:!0,isDirty:!1})},a}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=Object(k.a)(w.a.mark(function e(){var t,a,n,r,i,s;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._isMounted=!0,t=this.props,a=t.getToken,n=t.patientId,r=t.referralId,i=t.setActivePatient,e.prev=2,e.next=5,a();case 5:s=e.sent,this._isMounted&&this.setState({accessToken:s,patientId:n,referralId:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),this._isMounted&&this.setState({getTokenError:!0});case 12:i(n);case 13:case"end":return e.stop()}},e,this,[[2,9]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this._isMounted=!1,(0,this.props.setActivePatient)()}},{key:"render",value:function(){var e=this.props,t=e.patientId,a=e.isProband,i=e.navigate,s=e.previousStage,c=e.activePatient,o=e.nextStage,l=c.familyName,u=c.firstName,d=this.state,m=d.accessToken,p=d.getTokenError,f=d.isDirty,h=d.isSubmitted;return r.a.createElement(n.Fragment,null,r.a.createElement(xs,{hasUnsavedChanges:f}),a?r.a.createElement(mc,null,"Add patient choice information"):r.a.createElement(n.Fragment,null,r.a.createElement(mc,null,"Add family member patient choice information"),r.a.createElement($r,{element:"h2",size:"6"},"Selected family member:"),r.a.createElement(Cf,c)),r.a.createElement(Bs,{type:"warning",className:Mf("patient-choice__notification")},"A laboratory cannot start a test without patient choice information for"," ",r.a.createElement("span",{className:Mf("patient-choice__bold")},"ALL")," test participants"),r.a.createElement("div",{className:Mf("patient-choice__instructions")},r.a.createElement($r,{element:"p",size:"5",className:Mf("patient-choice__instructions-text")},"This information confirms to the Genomic Medicine Service that"," ",a?r.a.createElement("span",{className:Mf("patient-choice__bold")},"this test participant:"):r.a.createElement("span",{className:Mf("patient-choice__bold")},"family member [",l.toUpperCase(),", ",u,"]:")),r.a.createElement("ul",{className:Mf("patient-choice__instructions-list")},r.a.createElement("li",null,"agrees for the test (or tests) to take place"),r.a.createElement("li",null,"has chosen how their sample (or samples) and test results can be used subsequently"))),m&&!p&&r.a.createElement(n.Fragment,null,r.a.createElement(qf,{accessToken:m,referralId:this.state.referralId,currentPatientId:t,setDirty:this.setDirty,setClean:this.setClean,setSubmitted:this.setSubmitted,divId:"patient-choice"})),p&&r.a.createElement(Bs,{type:"error"},"Unable to load patient choice"),r.a.createElement(Os,{handleClick:this.handleSave,navigateTo:o,navigate:i,navigateBack:s||"../",disabled:!h}))}}]),t}(n.Component),Uf=function(e){var t=e.referralId,a=e.patientId,n=e.getToken,i=e.isProband,s=e.navigate,c=e.previousStage,o=e.nextStage,l=e.activePatientId,u=e.activePatient,d=e.setActivePatient,m=e.probandPatient,p=e.otherPatients,f=e.patientsConsent,h=e.updateConsentStatus;return r.a.createElement(E.d,{primary:!1},r.a.createElement(Pf,{path:"/",navigate:s,nextStage:o,previousStage:c,probandPatient:m,otherPatients:p,patientsConsent:f}),r.a.createElement(Ff,{path:"/:patientId/".concat(v),referralId:t,patientId:a,isProband:i,navigate:s,nextStage:{path:"../"},previousStage:c,activePatient:u,activePatientId:l,setActivePatient:d,updateConsentStatus:h,getToken:n}))},Bf=U(),Vf=function(){return B({url:"".concat("/api/authentication","/token"),client:Bf}).then(function(e){return e.data}).catch(function(e){return Promise.reject(e)})},Gf=Object(c.b)(function(e){var t=e.referral,a=e.testList;return{activePatient:Sn(t),probandPatient:ut(kn(t),an(a)),activePatientId:wn(t),otherPatients:ut(Nn(t),an(a)),isProband:In(t),patientsConsent:Fn(t),getToken:Vf}},{setActivePatient:Bn,updateConsentStatus:function(e,t){return function(){var a=Object(k.a)(w.a.mark(function a(n){var r,i,s,c;return w.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:ge}),a.prev=1,a.next=4,ve(e,t);case 4:return r=a.sent,a.next=7,le(e);case 7:i=a.sent,s=i.stages,c=i.stagesStatus,n({type:_n.UPDATE_CONSENT_STATUS,payload:{consent:{patientId:t,status:Ye(r)}}}),n(Re({stages:s,stagesStatus:c})),n({type:ye,payload:{}}),a.next=19;break;case 15:a.prev=15,a.t0=a.catch(1),Z("Error updating patient consent status",{error:a.t0})("error"),n({type:Ee});case 19:case"end":return a.stop()}},a,null,[[1,15]])}));return function(e){return a.apply(this,arguments)}}()}})(Uf),Qf=a(264),zf=a.n(Qf),Hf=function(e){var t=e.accessToken,a=e.referralId,i=e.currentPatientId,s=e.divId;return r.a.createElement(Er.Consumer,null,function(e){var c=e.config,o=c.pedigreeToolEmbedScriptUrl,l=c.pedigreeServiceUrl,u=c.pedigreeToolUrl,m=c.lookupServiceUrl;return r.a.createElement(n.Fragment,null,r.a.createElement(Df.Helmet,null,r.a.createElement("script",null,"\n              window.embeddedAppConfig = function() {\n                return {\n                  accessToken: '".concat(t,"',\n                  divId: '").concat(s,"',\n                  referralId: '").concat(a,"',\n                  currentPatientId: '").concat(i,"',\n                  pedigreeServiceUrl: '").concat(l,"',\n                  pedigreeToolUrl: '").concat(u,"',\n                  lookupServiceUrl: '").concat(m,"'\n                }\n              }\n\n              // Window level function to allow the embedded consent app\n              // to refresh it's token from out endpoint\n              // Use fetch, as it is polyfilled by Axios in IE11\n              window.refreshAccessToken = function() {\n                return fetch('").concat(d,"/api/authentication/token')\n                  .then(function(response) {\n                    return response.text();\n                  })\n                  .then(function(token) {\n                    return token;\n                  });\n              }\n            ")),r.a.createElement("script",{type:"text/javascript",src:"".concat(o)})),r.a.createElement("div",{id:s}))})},Jf=vr.a.bind(zf.a),Zf=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(pr.a)(this,(e=Object(fr.a)(t)).call.apply(e,[this].concat(r)))).state={accessToken:null,getTokenError:!1,isSaved:!1},a.handleSave=function(){var e=window.PedigreeEditorTool.save,t=a.props,n=t.setSavingState,r=t.setSuccessState,i=t.setErrorState;n(),"function"===typeof e&&e(function(e){e?(a.setState({isSaved:!0}),r()):i()})},a}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=Object(k.a)(w.a.mark(function e(){var t,a;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.getToken,e.prev=1,e.next=4,t();case 4:a=e.sent,this.setState({accessToken:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.setState({getTokenError:!0});case 11:case"end":return e.stop()}},e,this,[[1,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.referralId,a=e.activePatient.id,i=e.nextStage,s=e.navigate,c=this.state,o=c.accessToken,l=c.getTokenError,u=c.isSaved;return r.a.createElement(n.Fragment,null,r.a.createElement(mc,null,"Build a pedigree"),r.a.createElement($r,{element:"p",size:"5",className:Jf("pedigree-tool__intro")},"The pedigree shows the proband, plus any"," ",r.a.createElement(zs,{to:"../".concat("family-members")},"family members")," you\u2019ve added to the referral.",r.a.createElement("ul",{className:Jf("pedigree-tool__list")},r.a.createElement("li",null,"Below you can add information about any additional family members who are not being tested as part of this referral."),r.a.createElement("li",null,"You should not include any personal identifiable information."))),!u&&r.a.createElement(Bs,{type:"warning",className:Jf("pedigree-tool__warning")},"Save your pedigree before leaving this section. Changes will be lost if details aren\u2019t saved."),o&&!l&&r.a.createElement("div",{className:Jf("pedigree-tool__wrapper")},r.a.createElement(Hf,{accessToken:o,referralId:t,currentPatientId:a,divId:"pedigree-tool"})),l&&r.a.createElement(Bs,{type:"error"},"Unable to load Pedigree Tool"),r.a.createElement(Os,{handleClick:this.handleSave,navigateTo:i,navigate:s}))}}]),t}(n.Component),Wf=Object(c.b)(function(e){var t=e.referral;return{activePatient:Sn(t),getToken:Vf}},{setSavingState:function(){return{type:ge}},setSuccessState:function(){return{type:ye}},setErrorState:function(){return{type:Ee}}})(Zf),Yf={code:gr.a.string.isRequired,display:gr.a.string.isRequired,uid:gr.a.string,codesystem_uri:gr.a.string},Kf=(gr.a.arrayOf(gr.a.shape(Object(T.a)({},Yf))),gr.a.arrayOf(gr.a.shape(Object(T.a)({},Yf))),{labId:gr.a.string,isTumourTypeSelected:gr.a.bool,sampleType:gr.a.shape(Object(T.a)({},Yf)),sampleState:gr.a.shape(Object(T.a)({},Yf)),tumourId:gr.a.string,id:gr.a.string}),Xf=(gr.a.arrayOf(gr.a.shape(Object(T.a)({},Kf))),a(265)),$f=a.n(Xf),eh=vr.a.bind($f.a),th=function(e){function t(){var e,a;Object(g.a)(this,t);for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return(a=Object(pr.a)(this,(e=Object(fr.a)(t)).call.apply(e,[this].concat(s)))).createNew=function(){a.props.navigate(v)},a.renderTableRow=function(e){var t=e.sampleType.display,a=e.sampleState.display,n=e.labId,i=e.parentSampleLabId,s=e.tumourDescription,c=e.id;return r.a.createElement("tr",{key:c},r.a.createElement($r,{element:"td"},t),r.a.createElement($r,{element:"td"},a),r.a.createElement($r,{element:"td"},n),r.a.createElement($r,{element:"td"},i),s?r.a.createElement($r,{element:"td"},s):r.a.createElement($r,{element:"td",className:"center"},"-"),r.a.createElement($r,{element:"td"}," ",r.a.createElement("div",{className:eh("sample-detail__edit")},r.a.createElement(E.a,{to:"".concat(c),className:eh("sample-detail__edit-link")},r.a.createElement(Ar,null)))))},a.renderNotification=function(e,t){return r.a.createElement(Bs,{type:e,className:eh("sample-detail__notification")},t)},a.renderList=function(){var e=a.props,t=e.error,i=e.samples,s=e.isNewSampleAdded,c=e.isSampleUpdated,o=e.navigate,l=e.nextStage;return r.a.createElement(n.Fragment,null,r.a.createElement(mc,null,"Add or edit a sample"),s&&a.renderNotification("success","Sample added"),c&&a.renderNotification("success","Sample updated"),t&&a.renderNotification("error",r.a.createElement(n.Fragment,null,"Error ",r.a.createElement("br",null)," ",t)),r.a.createElement("div",{className:eh("sample-detail__table")},i.length>0&&r.a.createElement(Pu,{headers:["Sample type","State","Local lab ID","Parent ID","Tumour description",""]},i.map(function(e){return a.renderTableRow(e)}))),r.a.createElement(gs,{size:"medium",onClick:a.createNew},"Add new sample +"),r.a.createElement(Os,{navigate:o,navigateTo:l}))},a}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"componentWillUnmount",value:function(){this.props.clearNewlyAddedFlag()}},{key:"render",value:function(){var e=this.props,t=e.samples,a=e.isLoading,n=e.renderLoading;return a?n():0===t.length?(this.createNew(),null):this.renderList()}}]),t}(n.Component),ah=a(266),nh=a.n(ah),rh=vr.a.bind(nh.a),ih=function(e){function t(){return Object(g.a)(this,t),Object(pr.a)(this,Object(fr.a)(t).apply(this,arguments))}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchSampleQuestions,a=e.sampleId;t(e.referralId,a)}},{key:"render",value:function(){var e=this.props,t=e.isLoading,a=e.sampleId,i=e.stages,s=void 0===i?[]:i,c=Object(L.a)(e,["isLoading","sampleId","stages"]),o=s.find(function(e){return e.entityId===a});return r.a.createElement(n.Fragment,null,r.a.createElement(mc,null,"Answer questions about this sample"),r.a.createElement($r,{element:"p"},"Give details of the sample being linked to this referral."),t||!o?r.a.createElement($r,{element:"p",size:"5"},"Loading"):r.a.createElement("div",{className:rh("sample-questions")},r.a.createElement(dd,Object.assign({},c,o,{previousStage:"../".concat(a)}))))}}]),t}(n.Component),sh=a(84),ch=a.n(sh),oh=vr.a.bind(ch.a),lh=function(e,t){return Ft(e,t).value},uh=function(e){var t=e.referralId,a=e.selectedTumour,i=a.identifiers,s=a.tumourDiagnosisDay,c=a.tumourDiagnosisMonth,o=a.tumourDiagnosisYear,l=a.tumourType.display,u=e.tumourDetails,m=u.tumourNicknameIdentifierType,p=u.tumourPathologyIdIdentifierType;return r.a.createElement(n.Fragment,null,r.a.createElement($r,{element:"h6",size:"6",className:oh("add-sample__confirm-label")},"Linked tumour"),r.a.createElement(Pu,{headers:["Description","Histopathology laboratory ID or local sample ID","Date diagnosed","Status"],isShade:!0,isSpecimen:!0,className:oh("add-sample__confirm-table")},r.a.createElement("tr",null,r.a.createElement($r,{element:"td"},lh(i,m)),r.a.createElement($r,{element:"td"},lh(i,p)||"-"),r.a.createElement($r,{element:"td"},Tt({day:s,month:c,year:o})),r.a.createElement($r,{element:"td"},l))),r.a.createElement(zs,{to:"".concat(d,"/").concat(b,"/").concat(t,"/").concat("tumours"),className:oh("add-sample__inline-link")},"Not the right tumour?"))},dh=function(e){function t(){return Object(g.a)(this,t),Object(pr.a)(this,Object(fr.a)(t).apply(this,arguments))}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.samples,a=e.parentSample,i=e.handleParentChange;return r.a.createElement(n.Fragment,null,r.a.createElement($r,{element:"h6",size:"6"},"Is this sample derived from another sample?"),r.a.createElement(Pu,{headers:["Sample type","State","Local lab ID"],isSelect:!0},t.map(function(e){return r.a.createElement("tr",{key:e.id,onClick:function(){return i(e)},onKeyDown:function(t){var a=t.which;return Wo(a,i,e)},tabIndex:"0"},r.a.createElement("th",{scope:"row"},r.a.createElement(Ap,{selected:a.id===e.id,text:e.sampleType.display})),r.a.createElement($r,{element:"td"},e.sampleState.display),r.a.createElement($r,{element:"td"},e.labId))})))}}]),t}(n.Component),mh=vr.a.bind(ch.a),ph=function(e){var t=e.sample,a=t.sampleType,n=t.sampleState,r=t.labId,i=t.parentSampleLabId,s=t.identifiers,c=e.tumourTypeIds;return{sampleType:a,sampleState:n,labId:r,identifiers:s,isTumourTypeSelected:a&&c.includes(a.uid),parentSample:{labId:i}}},fh=function(e){var t=e.referralId;return r.a.createElement("div",{className:mh("add-sample__select-error")},"To select this sample type,"," ",r.a.createElement(zs,{to:"".concat(d,"/").concat(b,"/").concat(t,"/").concat("tumours")},"add a tumour"))},hh=function(e){var t=e.samples,a=e.loadingSystemQuestions,i=e.onSubmit,s=e.stateOptions,c=e.typeOptions,o=e.selectedTumour,l=e.tumourTypeIds,u=e.referralId,d=e.sampleId,m=void 0===d?"":d,p=e.isEditing,f=e.activePatient,h=e.isNewSample,b=e.navigate,v=e.nextStage,_=e.previousStage,g=e.tumourDetails,y=t.find(function(e){return e.id===m})||{},E=!p||p&&t.length>0,C=t.filter(function(e){var t=e.id,a=e.parentSampleId;return t!==y.id&&a!==y.id});return r.a.createElement(n.Fragment,null,r.a.createElement(mc,null,p?"Edit a sample":"Add a sample"),r.a.createElement($r,{element:"p",size:"5"},"A tumour referral cannot be submitted without a sample.",r.a.createElement("br",null),"Rare disease samples can be added after the referral has been submitted."),E&&!a&&r.a.createElement(Rs,{initialValues:ph({sample:y,tumourTypeIds:l}),onSubmit:function(e,t){var a=Object(T.a)({},e,{parentSampleId:e.parentSample.id,tumourId:e.isTumourTypeSelected&&o?o.id:null,sampleId:m});i(a,t)},enableUnsavedChangesWarning:!0},function(e){var t=e.isSubmitting,a=e.values,n=e.setFieldValue;return r.a.createElement("div",{className:mh("add-sample")},r.a.createElement(ms,{name:"sampleType",label:"Sample type",component:ds,validate:function(){return a.isTumourTypeSelected&&!o?r.a.createElement(fh,{referralId:u}):""},options:c,required:!0,className:mh("add-sample__input"),onChange:function(e){var t=e&&l.includes(e.uid)||!1;n("isTumourTypeSelected",t,!1)}}),a.isTumourTypeSelected&&o&&r.a.createElement(uh,{referralId:u,selectedTumour:o,activePatient:f,tumourDetails:g}),r.a.createElement(ms,{name:"sampleState",label:"Sample state",component:ds,options:s,required:!0,className:mh("add-sample__input")}),r.a.createElement(qi,{name:"labId",label:"Sample ID from local laboratory",placeholder:"e.g. A1 xxxxx",hint:"This could be the block ID, sample ID or nucleic acid ID given at the local laboratory",required:!0,className:mh("add-sample__input","add-sample__input--text")}),C.length>0&&r.a.createElement(dh,{samples:C,parentSample:a.parentSample,handleParentChange:function(e){e.id===a.parentSample.id?n("parentSample",{id:null}):n("parentSample",e)}}),r.a.createElement(Os,{navigate:b,navigateTo:v,navigateBack:_,disabled:t||a.isTumourTypeSelected&&!o,disableAutoAdvance:h,pathPrefix:"",type:"submit"}))}))},bh=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(pr.a)(this,(e=Object(fr.a)(t)).call.apply(e,[this].concat(i)))).componentDidMount=Object(k.a)(w.a.mark(function e(){var t,n,r,i,s,c,o,l,u,d;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props,n=t.allTumours,r=t.loadPatientTumours,i=t.activePatientId,s=t.getSystemQuestions,c=t.urlReferralId,o=t.referralSampleIds,l=t.getAllSamples,u=t.siteConfig,d=(u=void 0===u?{}:u).localLabSampleIdIdentifierType,s(c),!(n.length<1)){e.next=7;break}return e.next=7,r(i);case 7:l(o,d);case 8:case"end":return e.stop()}},e)})),a.createNew=function(){a.props.navigate(v)},a.saveSamples=function(){var e=a.props,t=e.samples;(0,e.updateReferralAction)({samples:t.map(function(e){return{sampleUid:e.id}})})},a.handleFormSubmission=function(){var e=Object(k.a)(w.a.mark(function e(t,n){var r,i,s,c,o,l,u,d,m,p;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.setSubmitting,i=a.props,s=i.addSample,c=i.patientId,o=i.navigate,l=i.updateSample,u=i.siteConfig,d=(u=void 0===u?{}:u).localLabSampleIdIdentifierType,m=t.sampleId,e.prev=5,!m){e.next=12;break}return e.next=9,l(m,t,c,d);case 9:r(!1),e.next=16;break;case 12:return e.next=14,s(t,c,d);case 14:p=e.sent,o("".concat(p,"/questions"));case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(5),r(!1);case 21:case"end":return e.stop()}},e,null,[[5,18]])}));return function(t,a){return e.apply(this,arguments)}}(),a.handleQuestionsSubmission=function(){var e=Object(k.a)(w.a.mark(function e(t){var n,r,i,s,c,o;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.values,r=t.setSubmitting,i=a.props,s=i.navigate,c=i.urlReferralId,o=i.saveDynamicAnswers,e.prev=2,r(!0),e.next=6,o(c,n);case 6:s("../samples"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),r(!1);case 12:case"end":return e.stop()}},e,null,[[2,9]])}));return function(t){return e.apply(this,arguments)}}(),a.renderLoading=function(){return r.a.createElement($r,null,"Loading...")},a}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"componentWillUnmount",value:function(){this.props.clearNewlyAddedFlag()}},{key:"renderSamplesLanding",value:function(){var e=this.props,t=e.isLoadingSystemQuestions,a=e.samples,n=e.selectedTumour,i=e.systemQuestions,s=e.urlReferralId,c=e.sampleQuestions,o=e.isLoading,l=e.activePatient,u=e.fetchSampleQuestions,d=e.getAllSamples,m=e.clearNewlyAddedFlag,p=e.error,f=e.isNewSampleAdded,h=e.isSampleUpdated,b=e.nextStage,_=e.siteConfig,g=(_=void 0===_?{}:_).tumourSampleTypeIds,y=_.localLabSampleIdIdentifierType,C=e.referralSampleIds,O=a.length>0,j={handleSubmit:this.handleQuestionsSubmission,fetchSampleQuestions:u,isLoading:o,stages:c,referralId:s},S={samples:a,activePatient:l,selectedTumour:n,isLoadingSystemQuestions:t,onSubmit:this.handleFormSubmission,referralId:s,tumourTypeIds:g,typeOptions:i.sampleType,stateOptions:i.sampleState},w={samples:a,getAllSamples:d,referralId:s,localLabSampleIdIdentifierType:y,clearNewlyAddedFlag:m,error:p,isNewSampleAdded:f,isSampleUpdated:h,isLoading:o,renderLoading:this.renderLoading,referralSampleIds:C},k=this.context.config,T={tumourPathologyIdIdentifierType:k.tumourPathologyIdIdentifierType,tumourNicknameIdentifierType:k.tumourNicknameIdentifierType};return r.a.createElement(E.d,{primary:!1},r.a.createElement(hh,Object.assign({path:"".concat(v)},S,{tumourDetails:T,nextStage:{path:"/"},previousStage:O?"..":null,isNewSample:!0})),r.a.createElement(hh,Object.assign({path:":sampleId"},S,{tumourDetails:T,nextStage:{path:"./questions"},previousStage:"..",isEditing:!0})),r.a.createElement(ih,Object.assign({path:":sampleId/questions"},j,{nextStage:{path:"../"}})),r.a.createElement(th,Object.assign({},w,{path:"/",nextStage:b})))}},{key:"render",value:function(){var e=this.props,t=e.initialLoadComplete,a=e.samplesOnReferralLoaded;return t&&a?this.renderSamplesLanding():this.renderLoading()}}]),t}(n.Component);bh.contextType=Er;var vh=Object(c.b)(function(e){var t=e.sampleDetails,a=e.tumour,n=e.referral;return Object(T.a)({},t,{activePatient:Sn(n),activePatientId:wn(n),allTumours:ya(a),isLoading:t.isLoading||a.isLoading,patientId:wn(n),referralSampleIds:jn(n),selectedTumour:ga(a)})},{addSample:function(e,t,a){return function(){var n=Object(k.a)(w.a.mark(function n(r,i){var s,c,o,l,u,d,m,p,f,h;return w.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:wa,payload:{}}),r({type:ge}),n.prev=2,s=i(),c=s.referral.referralData.samples,n.next=6,Wt(e,t,a);case 6:return o=n.sent,l=o.id,u=c.map(function(e){return{sampleUid:e.sampleId}}),d=[].concat(Object(P.a)(u),[{sampleUid:l}]),n.next=12,mt({samples:d})(r,i);case 12:return n.next=14,Jt(l,a);case 14:return m=n.sent,n.next=17,qa({getState:i,sampleToUpdate:Oa(m,a),localLabSampleIdIdentifierType:a,samples:c});case 17:return p=n.sent,r({type:Na,payload:{newSample:p}}),n.abrupt("return",l);case 22:return n.prev=22,n.t0=n.catch(2),f=n.t0.response,h=(f=void 0===f?{}:f).status,r({type:Ia,payload:{errorCode:h}}),r({type:Ee}),Z("Error in samples add. ",{error:n.t0})("error"),n.abrupt("return",n.t0);case 31:case"end":return n.stop()}},n,null,[[2,22]])}));return function(e,t){return n.apply(this,arguments)}}()},clearNewlyAddedFlag:function(){return{type:Pa,payload:{}}},fetchSampleQuestions:function(e,t){return function(){var t=Object(k.a)(w.a.mark(function t(a){var n;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:wa,payload:{sampleQuestionsRequest:!0}}),t.prev=1,t.next=4,Kt(e);case 4:n=t.sent,a({type:Aa,payload:{sampleQuestions:n}}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:Ia,payload:{sampleQuestions:[]}}),Z("Error in sample, fetch dynamic questions",{error:t.t0})("error");case 12:case"end":return t.stop()}},t,null,[[1,8]])}));return function(e){return t.apply(this,arguments)}}()},getAllSamples:Ma,getSystemQuestions:function(e){return function(){var e=Object(k.a)(w.a.mark(function e(t){var a,n,r;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:ka,payload:{}}),e.prev=1,e.next=4,Promise.all([Ht(Vt),Ht(Gt)]);case 4:a=e.sent,t({type:Ta,payload:{results:a}}),e.next=15;break;case 8:e.prev=8,e.t0=e.catch(1),n=e.t0.response,r=(n=void 0===n?{}:n).status,t({type:Ia,payload:{errorCode:r}}),Z("Error in system questions for samples fetch. ",{error:e.t0})("error");case 15:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()},loadPatientTumours:va,saveDynamicAnswers:function(e,t){return function(){var a=Object(k.a)(w.a.mark(function a(n,r){var i,s,c;return w.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:ge}),i=Ue(r()),a.prev=2,a.next=5,sa({referralId:e,data:t,stages:i});case 5:s=a.sent,c=s.stages,n(De(c)),n({type:ye}),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(2),n({type:Ee}),Z("Error in sample, save question answers",{error:a.t0})("error");case 15:case"end":return a.stop()}},a,null,[[2,11]])}));return function(e,t){return a.apply(this,arguments)}}()},updateReferralAction:mt,updateSample:function(e,t,a,n){return function(){var r=Object(k.a)(w.a.mark(function r(i,s){var c,o,l,u,d,m;return w.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return i({type:ge}),r.prev=1,r.next=4,Yt(e,t,a,n);case 4:return r.next=6,Jt(e,n);case 6:return c=r.sent,o=s(),l=o.sampleDetails,u=Da(l),d=u.map(function(t){return t.id===e?Oa(c,n):t}),r.next=12,qa({getState:s,updatedSample:c,localLabSampleIdIdentifierType:n,samples:d,updateAllSamples:!0});case 12:m=r.sent,i({type:xa,payload:m}),i({type:ye}),r.next=21;break;case 17:r.prev=17,r.t0=r.catch(1),i({type:Ee}),Z("Error in sample, update sample",{error:r.t0})("error");case 21:case"end":return r.stop()}},r,null,[[1,17]])}));return function(e,t){return r.apply(this,arguments)}}()}})(function(e){return r.a.createElement(Er.Consumer,null,function(t){var a=t.config;return r.a.createElement(bh,Object.assign({siteConfig:a},e))})}),_h=a(267),gh=a.n(_h),yh=vr.a.bind(gh.a),Eh=function(e){var t=e.children;return r.a.createElement("blockquote",{className:yh("blockquote")},t)},Ch=a(268),Oh=a.n(Ch),jh=vr.a.bind(Oh.a),Sh=function(e){var t=e.referralNotes,a=e.updateReferralAction,i=e.nextStage,s=e.navigate,c={notes:t||""};return r.a.createElement(n.Fragment,null,r.a.createElement(mc,null,"Add notes to this referral"),r.a.createElement(Bs,{type:"info",className:jh("notes__notification")},"Do not include details that could be added to any other section of the referral"),r.a.createElement($r,{element:"p",className:jh("notes__helper"),size:"5"},"Enter any ",r.a.createElement("strong",null,"supplementary comments")," that might help the laboratory understand the request."),r.a.createElement("div",{className:jh("notes__example")},r.a.createElement($r,{element:"h6",className:jh("notes__example-heading"),size:"6"},"For example:"),r.a.createElement(Eh,null,r.a.createElement($r,{element:"p",size:"5"},"Urgent request because of deteriorating patient condition."))),r.a.createElement(Rs,{initialValues:c,validate:function(e){var t={};return e.notes.length>=3e3&&(t.showWarning=!0),Object(T.a)({},t)},onSubmit:function(){var e=Object(k.a)(w.a.mark(function e(t,n){var r,i,s;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.notes,i=n.setSubmitting,s=""===r?null:r,e.next=5,a({notes:s});case 5:i(!1);case 6:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),enableUnsavedChangesWarning:!0},function(e){var t=e.isSubmitting,a=e.errors;return r.a.createElement(n.Fragment,null,r.a.createElement(qi,{name:"notes",placeholder:"e.g. The patient is coming back for results on [date]",label:"Add notes",component:Ri,maxLength:3e3,className:jh("notes__input"),disabled:t}),r.a.createElement($r,{className:a.showWarning?jh("notes__count","notes__count--warning"):jh("notes__count"),element:"p",size:"8"},"Max. character count: ",3e3),r.a.createElement(Os,{type:"submit",disabled:t,navigateTo:i,navigate:s}))}))},wh=Object(c.b)(function(e){var t=e.referral;return{referralNotes:Pn(t)}},{updateReferralAction:mt})(Sh),kh={"patient-details":_c,"test-package":El,"clinical-details":Pl,"clinical-questions":fd,"ordering-entity":Hm,panels:Tp,pedigree:Wf,samples:vh,tumours:sf,"family-members":Lf,downloads:tm,"patient-choice":Gf,info:wh},Th=function(e){function t(){return Object(g.a)(this,t),Object(pr.a)(this,Object(fr.a)(t).apply(this,arguments))}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.setCurrentStage)(e.component)}},{key:"render",value:function(){var e=this.props,t=e.component,a=(e.path,Object(L.a)(e,["component","path"])),n=kh[t];return n?r.a.createElement(n,a):null}}]),t}(n.Component),Ih=a(269),Nh=a.n(Ih),xh=vr.a.bind(Nh.a),Lh=function(e){var t=e.children,a=e.className;return r.a.createElement("div",{className:xh("sidebar",a)},t)},Ph=a(270),Ah=a.n(Ph),Rh=a(271),Dh=a.n(Rh),qh=vr.a.bind(Dh.a),Mh=function(e){var t=e.to,a=e.className,n=Object(L.a)(e,["to","className"]);return t?r.a.createElement(E.a,Object.assign({to:t},n,{getProps:function(e){var t=e.isCurrent,n=e.isPartiallyCurrent;return{className:qh(a,{"todo--is-current":t||n})}}})):r.a.createElement("div",Object.assign({className:a},n))},Fh=function(e){var t=e.isComplete,a=void 0!==t&&t,n=e.isLocked,i=e.isMandatory,s=e.label,c=e.path;return r.a.createElement(Mh,{to:!n&&c,className:qh("todo",{"todo--is-complete":a,"todo--is-locked":n})},r.a.createElement("span",{className:qh("todo__status-icon")},a?r.a.createElement(wr,null):r.a.createElement(Sr,null)),r.a.createElement($r,{element:"span",size:"6"},s,i&&r.a.createElement("span",{className:qh("todo__required-icon"),"aria-hidden":!0}," ","\u2731")),n&&r.a.createElement("span",{className:qh("todo__locked-icon"),title:"Step is locked from editing"},r.a.createElement(Fr,null)))},Uh=vr.a.bind(Ah.a),Bh=function(e){function t(){return Object(g.a)(this,t),Object(pr.a)(this,Object(fr.a)(t).apply(this,arguments))}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props.stages;return r.a.createElement("div",{className:Uh("todo-list")},r.a.createElement($r,{element:"h2",size:"5",className:Uh("todo-list__header")},"Add information in any order"),e.map(function(e){var t=e.display,a=e.path,n=e.isLocked,i=e.isComplete,s=e.isMandatory;return r.a.createElement(Fh,{key:a,label:t,path:a,isLocked:n,isComplete:i,isMandatory:s})}))}}]),t}(n.Component),Vh=function(e){var t=e.children;return r.a.createElement(n.Fragment,null,t)},Gh=a(272),Qh=a.n(Gh),zh=a(273),Hh=a.n(zh),Jh=vr.a.bind(Hh.a),Zh=function(e){var t=e.date;return t?r.a.createElement(r.a.Fragment,null,It(t)," ",r.a.createElement(Rc,{startDate:t})):null},Wh=function(e){var t=e.name,a=e.value;return a?r.a.createElement($r,{element:"li",className:Jh("header-item")},t&&r.a.createElement("span",{className:Jh("header-item__name")},t," "),r.a.createElement("strong",{className:Jh("header-item__value")},a)):null},Yh=function(e){var t=e.clinicalIndicationName,a=e.patientName,n=e.dateOfBirth,i=e.gender,s=e.nhsNumber,c=e.ngisId,o=e.referralId,l=e.className;return r.a.createElement("ul",{className:Jh("referral-header-details",l)},r.a.createElement(Wh,{value:a}),r.a.createElement(Wh,{name:"Born",value:r.a.createElement(Zh,{date:n})}),r.a.createElement(Wh,{name:"Gender",value:i}),r.a.createElement(Wh,{name:"NHS No.",value:r.a.createElement(Uc,{number:s})}),r.a.createElement(Wh,{name:"Patient NGIS ID",value:r.a.createElement(rc,{id:c})}),r.a.createElement(Wh,{name:"Clinical Indication",value:t}),r.a.createElement(Wh,{name:"Referral ID",value:r.a.createElement(rc,{id:o})}))},Kh=vr.a.bind(Qh.a),Xh=function(e){var t=e.handleClick,a=e.statusId,n=e.clinicalIndicationName,i=e.patientName,s=e.dateOfBirth,c=e.gender,o=e.nhsNumber,l=e.ngisId,u=e.referralId,d=e.stages;return r.a.createElement(Er.Consumer,null,function(e){var m=e.config,p=m.submittedReferralStatus,f=(m.createdReferralStatus,a===p),h=f?"Submitted":"Created",b=d.some(function(e){var t=e.isMandatory,a=e.isComplete;return t&&!a}),v=f||b;return r.a.createElement("div",{className:Kh("referral-header")},r.a.createElement("div",{className:Kh("referral-header__badge")},r.a.createElement(Fc,{text:h})),r.a.createElement(Yh,{className:Kh("referral-header__details"),patientName:i,dateOfBirth:s,gender:c,nhsNumber:o,ngisId:l,referralId:u,clinicalIndicationName:n}),f&&!1,r.a.createElement(gs,{size:"medium",disabled:v,className:Kh("referral-header__submit"),onClick:function(){return t(p)}},"Submit"))})},$h=a(274),eb=a.n($h),tb=a(275),ab=a.n(tb),nb=vr.a.bind(ab.a),rb=function(e){var t=e.children,a=e.withPadding;return r.a.createElement("div",{className:nb("site-panel",{"site-panel--padding":a})},t)},ib=vr.a.bind(eb.a),sb=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(pr.a)(this,(e=Object(fr.a)(t)).call.apply(e,[this].concat(i)))).createDefaultRedirect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=a.props.uri;return r.a.createElement(E.c,{noThrow:!0,from:"/",to:"".concat(t,"/").concat(e.path)})},a.startTestOrder=function(){var e=Object(k.a)(w.a.mark(function e(t){var n,r,i;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.updateReferralAction,i=n.navigate,e.prev=1,e.next=4,r({statusId:t});case 4:i(we),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:case"end":return e.stop()}},e,null,[[1,7]])}));return function(t){return e.apply(this,arguments)}}(),a.createRoutes=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=a.props,n=(t.urlReferralId,t.referralId),i=(t.isLoading,t.probandPatient,t.otherPatients,t.stages,t.setActivePatient,t.setCurrentStage),s=(t.navigate,t.testedMembersIds,Object(L.a)(t,["urlReferralId","referralId","isLoading","probandPatient","otherPatients","stages","setActivePatient","setCurrentStage","navigate","testedMembersIds"])),c=e.find(function(e){return!e.isLocked}),o=e.reduce(function(t,a,n){var r=e.slice(n+1).find(function(e){return!e.isLocked})||{};return[].concat(Object(P.a)(t),[Object(T.a)({},a,{nextStage:r})])},[]);return r.a.createElement(E.d,{primary:!1},a.createDefaultRedirect(c),o.map(function(e){var t=e.path,a=e.nextStage,c=e.component,o=e.nested?"/*":"/";return r.a.createElement(Vh,{path:"".concat(t),key:t},r.a.createElement(Th,Object.assign({referralId:n},s,{path:o,nextStage:a,component:c,setCurrentStage:i})))}))},a.renderRoutes=function(){var e=a.props,t=e.stages,n=e.clinicalIndicationName,i=e.referralStatusId,s=e.probandPatient,c=e.referral.humanReadableId,o=s.firstName,l=s.familyName,u=s.title,d=s.nhsNumber,m=s.humanReadableId,p=s.administrativeGender,f=(p=void 0===p?{}:p).display,h=s.dateOfBirth;return r.a.createElement("div",{className:ib("referral")},r.a.createElement("div",{className:ib("referral__header")},r.a.createElement(rb,{withPadding:!0},r.a.createElement(Xh,{statusId:i,handleClick:a.startTestOrder,clinicalIndicationName:n,patientName:Bc({familyName:l,firstName:o,title:u}),nhsNumber:d||"N/A",ngisId:m,gender:f,dateOfBirth:h,referralId:c,stages:t}))),r.a.createElement(rb,null,r.a.createElement("div",{className:ib("referral__body")},r.a.createElement("div",{className:ib("referral__main")},a.createRoutes(t)),r.a.createElement(Lh,{className:ib("referral__sidebar")},r.a.createElement(Bh,{stages:t})))))},a.renderNoMatch=function(e){return r.a.createElement($r,{size:"6"},r.a.createElement("p",null,"No referral with id ",e," found."),r.a.createElement("p",null,r.a.createElement(zs,{to:d},"Return home")))},a.renderLoading=function(){return r.a.createElement($r,{element:"p",size:"6"},"Loading...")},a.renderError=function(){return r.a.createElement($r,{size:"6"},r.a.createElement("p",null,"Something has gone wrong."),r.a.createElement("p",null,r.a.createElement(zs,{to:d},"Return home")))},a}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchReferral,a=e.referralId,n=e.urlReferralId;n&&!a&&t(n)}},{key:"componentWillUnmount",value:function(){this.props.resetStore()}},{key:"render",value:function(){var e=this.props,t=e.urlReferralId,a=e.referralId;return e.isLoading?this.renderLoading():a?this.renderRoutes():t?this.renderNoMatch(t):this.renderError()}}]),t}(n.Component),cb=Object(c.b)(function(e){var t,a,n=e.referral,r=e.testList,i=Object(L.a)(e,["referral","testList"]);return{isLoading:(a=n,a.isLoading),isProband:In(n),referral:yn(n),referralClinicians:Cn(n),referralId:En(n),referralTumourId:On(n),referralNotes:Pn(n),activePatient:Sn(n),probandPatient:kn(n),otherPatients:Nn(n),clinicalIndicationName:(t=n,t.clinicalIndicationName),referralStatusId:Mn(n),testedMembersIds:sn(r),stages:Me(i)}},{fetchReferral:function(e){return function(){var t=Object(k.a)(w.a.mark(function t(a){var n,r,i,s,c;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:_n.RUN_AJAX}),t.prev=1,t.next=4,le(e);case 4:return n=t.sent,r=n.referral.clinicalIndicationId,t.next=8,he(r);case 8:i=t.sent,s=i.displayName,c=Object(T.a)({},n,{clinicalIndicationName:s}),a(dt(c)),a(Re({stages:n.stages,stagesStatus:n.stagesStatus})),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),Z("Error in referral.",{error:t.t0})("error");case 18:case"end":return t.stop()}},t,null,[[1,15]])}));return function(e){return t.apply(this,arguments)}}()},resetStore:function(){return{type:_n.RESET_STORE}},setActivePatient:Bn,updateReferralAction:mt,setCurrentStage:function(e){return{type:Ae,payload:e}}})(sb),ob=a(276),lb=a.n(ob),ub=function(){return r.a.createElement("svg",{width:"240px",height:"15px",viewBox:"0 0 240 15"},r.a.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"Header/V1",transform:"translate(-40.000000, -34.000000)",fill:"#FFFFFF"},r.a.createElement("path",{d:"M47.7094727,42.9995117 L47.7094727, 40.7080078 L53.628418,40.7080078 L53.628418,46.1259766 C53.0532198,46.68262 52.2198134, 47.1727681 51.1281738,47.5964355 C50.0365343,48.020103 48.9309952,48.2319336 47.8115234, 48.2319336 C46.3889903,48.2319336 45.1489311,47.9335154 44.0913086,47.3366699 C43.0336861, 46.7398245 42.238935,45.8863174 41.7070312,44.776123 C41.1751275,43.6659287 40.9091797, 42.4583399 40.9091797,41.1533203 C40.9091797,39.7369721 41.2060517,38.4783584 41.7998047, 37.3774414 C42.3935577,36.2765244 43.2625268,35.4322946 44.4067383,34.8447266 C45.278813, 34.3932269 46.3642513,34.1674805 47.6630859,34.1674805 C49.3515709,34.1674805 50.6704868, 34.5215622 51.619873,35.2297363 C52.5692593,35.9379104 53.1800117,36.9166604 53.4521484, 38.1660156 L50.7246094,38.6762695 C50.5328766,38.0082974 50.1726101,37.4810403 49.6437988, 37.0944824 C49.1149876,36.7079245 48.4547566,36.5146484 47.6630859,36.5146484 C46.4632101, 36.5146484 45.5091995,36.8950157 44.8010254,37.6557617 C44.0928513,38.4165077 43.7387695, 39.5452399 43.7387695,41.0419922 C43.7387695,42.6562581 44.0974899,43.8669393 44.8149414, 44.6740723 C45.5323929,45.4812052 46.4724877,45.8847656 47.6352539,45.8847656 C48.2104521, 45.8847656 48.7871879,45.7718924 49.3654785,45.5461426 C49.9437692,45.3203928 50.4401021, 45.0467138 50.8544922,44.7250977 L50.8544922,42.9995117 L47.7094727,42.9995117 Z M61.8481445, 44.8642578 L64.4458008,45.300293 C64.1118147,46.2527717 63.5845576,46.9779435 62.8640137, 47.4758301 C62.1434697,47.9737167 61.2420302,48.2226562 60.159668,48.2226562 C58.4464433, 48.2226562 57.1785523,47.6629288 56.355957,46.543457 C55.7065397,45.6466427 55.3818359, 44.514818 55.3818359,43.1479492 C55.3818359,41.5151286 55.8085895,40.2364141 56.6621094, 39.3117676 C57.5156293,38.387121 58.5948828,37.9248047 59.8999023,37.9248047 C61.36573, 37.9248047 62.5222939,38.4087679 63.3696289,39.376709 C64.2169639,40.34465 64.6220705, 41.827464 64.5849609,43.8251953 L58.0537109,43.8251953 C58.0722657,44.5983112 58.2825501, 45.1997863 58.6845703,45.6296387 C59.0865906,46.0594911 59.5875621,46.2744141 60.1875, 46.2744141 C60.5957052,46.2744141 60.9389635,46.1630871 61.2172852,45.9404297 C61.4956069, 45.7177723 61.7058912,45.359052 61.8481445,44.8642578 Z M61.996582,42.2294922 C61.9780273, 41.4749311 61.783205,40.9012878 61.4121094,40.5085449 C61.0410138,40.1158021 60.5895209, 39.9194336 60.0576172,39.9194336 C59.4886039,39.9194336 59.0185565,40.1266255 58.6474609, 40.5410156 C58.2763653,40.9554057 58.0939127,41.5182256 58.1000977,42.2294922 L61.996582, 42.2294922 Z M75.6713867,48 L73.0644531,48 L73.0644531,42.9716797 C73.0644531,41.9078723 73.0087896, 41.2198095 72.8974609,40.9074707 C72.7861323,40.5951319 72.6052259,40.3523772 72.3547363, 40.1791992 C72.1042468,40.0060213 71.8027361,39.9194336 71.4501953,39.9194336 C70.9986957, 39.9194336 70.593589,40.0431303 70.2348633,40.2905273 C69.8761375,40.5379244 69.6302904, 40.8657206 69.4973145,41.2739258 C69.3643385,41.6821309 69.2978516,42.4366807 69.2978516, 43.5375977 L69.2978516,48 L66.690918,48 L66.690918,38.1474609 L69.1123047,38.1474609 L69.1123047, 39.5947266 C69.9720095,38.4814397 71.0543555,37.9248047 72.359375,37.9248047 C72.9345732, 37.9248047 73.4602841,38.0284007 73.9365234,38.2355957 C74.4127628,38.4427907 74.7730294, 38.7071924 75.017334,39.0288086 C75.2616386,39.3504248 75.4317215,39.71533 75.5275879, 40.1235352 C75.6234543,40.5317403 75.6713867,41.1162071 75.6713867,41.8769531 L75.6713867, 48 Z M77.7124023,42.9345703 C77.7124023,42.0686806 77.9257791,41.2306356 78.3525391, 40.4204102 C78.779299,39.6101848 79.3838665,38.9917014 80.1662598,38.5649414 C80.948653, 38.1381815 81.8222608,37.9248047 82.7871094,37.9248047 C84.2776767,37.9248047 85.4991814, 38.4087679 86.4516602,39.376709 C87.4041389,40.34465 87.8803711,41.5677009 87.8803711, 43.0458984 C87.8803711,44.5364658 87.3995003,45.7718864 86.4377441,46.7521973 C85.475988, 47.7325082 84.2653068,48.2226562 82.8056641,48.2226562 C81.9026648,48.2226562 81.0414266, 48.0185567 80.2219238,47.6103516 C79.402421,47.2021464 78.779299,46.6037637 78.3525391, 45.8151855 C77.9257791,45.0266074 77.7124023,44.0664119 77.7124023,42.9345703 Z M80.3842773, 43.0737305 C80.3842773,44.0509489 80.6162086,44.7993138 81.0800781,45.3188477 C81.5439476, 45.8383815 82.1160448,46.0981445 82.7963867,46.0981445 C83.4767287,46.0981445 84.0472796, 45.8383815 84.5080566,45.3188477 C84.9688337,44.7993138 85.1992188,44.0447641 85.1992188, 43.0551758 C85.1992188,42.0903272 84.9688337,41.3481471 84.5080566,40.8286133 C84.0472796, 40.3090794 83.4767287,40.0493164 82.7963867,40.0493164 C82.1160448,40.0493164 81.5439476, 40.3090794 81.0800781,40.8286133 C80.6162086,41.3481471 80.3842773,42.096512 80.3842773, 43.0737305 Z M89.7265625,38.1474609 L92.1293945,38.1474609 L92.1293945,39.4926758 C92.9890994, 38.4474232 94.0126894,37.9248047 95.2001953,37.9248047 C95.8310578,37.9248047 96.3784156, 38.0546862 96.8422852,38.3144531 C97.3061547,38.57422 97.686522,38.966957 97.9833984, 39.4926758 C98.4163433,38.966957 98.8832983,38.57422 99.3842773,38.3144531 C99.8852564, 38.0546862 100.420245,37.9248047 100.989258,37.9248047 C101.712894,37.9248047 102.325193, 38.0716945 102.826172,38.3654785 C103.327151,38.6592625 103.701333,39.0906547 103.94873, 39.659668 C104.128093,40.080243 104.217773,40.7605747 104.217773,41.7006836 L104.217773, 48 L101.61084,48 L101.61084,42.3686523 C101.61084,41.3914339 101.52116,40.7605808 101.341797, 40.4760742 C101.100585,40.1049786 100.729495,39.9194336 100.228516,39.9194336 C99.8636049, 39.9194336 99.5203467,40.0307606 99.1987305,40.253418 C98.8771143,40.4760753 98.645183, 40.8023253 98.5029297,41.2321777 C98.3606764,41.6620301 98.2895508,42.3408157 98.2895508, 43.2685547 L98.2895508,48 L95.6826172,48 L95.6826172,42.6005859 C95.6826172,41.6419223 95.6362309, 41.0234389 95.543457,40.7451172 C95.4506831,40.4667955 95.3068857,40.2596035 95.1120605, 40.1235352 C94.9172354,39.9874668 94.6528337,39.9194336 94.3188477,39.9194336 C93.9168274, 39.9194336 93.5550146,40.0276682 93.2333984,40.2441406 C92.9117822,40.4606131 92.6813972, 40.7729472 92.5422363,41.1811523 C92.4030755,41.5893575 92.3334961,42.2665968 92.3334961, 43.2128906 L92.3334961,48 L89.7265625,48 L89.7265625,38.1474609 Z M106.81543,36.8115234 L106.81543, 34.3994141 L109.422363,34.3994141 L109.422363,36.8115234 L106.81543,36.8115234 Z M106.81543, 48 L106.81543,38.1474609 L109.422363,38.1474609 L109.422363,48 L106.81543,48 Z M120.685059, 41.0605469 L118.115234,41.5244141 C118.028645,41.0110651 117.832277,40.624513 117.526123, 40.3647461 C117.219969,40.1049792 116.822594,39.9750977 116.333984,39.9750977 C115.684567, 39.9750977 115.166587,40.1992979 114.780029,40.6477051 C114.393471,41.0961123 114.200195, 41.8460234 114.200195,42.8974609 C114.200195,44.0664121 114.396564,44.8920874 114.789307, 45.3745117 C115.182049,45.856936 115.709307,46.0981445 116.371094,46.0981445 C116.865888, 46.0981445 117.270995,45.9574396 117.586426,45.6760254 C117.901857,45.3946112 118.124511, 44.910648 118.254395,44.2241211 L120.814941,44.6601562 C120.54899,45.8352923 120.038741, 46.722816 119.28418,47.3227539 C118.529619,47.9226918 117.518398,48.2226562 116.250488, 48.2226562 C114.8094,48.2226562 113.660567,47.768071 112.803955,46.8588867 C111.947343, 45.9497025 111.519043,44.6910888 111.519043,43.0830078 C111.519043,41.4563721 111.948889, 40.1900273 112.808594,39.2839355 C113.668299,38.3778438 114.831047,37.9248047 116.296875, 37.9248047 C117.496751,37.9248047 118.450761,38.1830215 119.158936,38.6994629 C119.86711, 39.2159043 120.375812,40.0029244 120.685059,41.0605469 Z M127.921387,48 L127.921387, 34.3994141 L132.03125,34.3994141 L134.499023,43.6767578 L136.938965,34.3994141 L141.058105, 34.3994141 L141.058105,48 L138.506836,48 L138.506836,37.2939453 L135.807129,48 L133.163086, 48 L130.472656,37.2939453 L130.472656,48 L127.921387,48 Z M149.472656,44.8642578 L152.070312, 45.300293 C151.736326,46.2527717 151.209069,46.9779435 150.488525,47.4758301 C149.767981, 47.9737167 148.866542,48.2226562 147.78418,48.2226562 C146.070955,48.2226562 144.803064, 47.6629288 143.980469,46.543457 C143.331051,45.6466427 143.006348,44.514818 143.006348, 43.1479492 C143.006348,41.5151286 143.433101,40.2364141 144.286621,39.3117676 C145.140141, 38.387121 146.219395,37.9248047 147.524414,37.9248047 C148.990242,37.9248047 150.146806, 38.4087679 150.994141,39.376709 C151.841476,40.34465 152.246582,41.827464 152.209473,43.8251953 L145.678223, 43.8251953 C145.696777,44.5983112 145.907062,45.1997863 146.309082,45.6296387 C146.711102, 46.0594911 147.212074,46.2744141 147.812012,46.2744141 C148.220217,46.2744141 148.563475, 46.1630871 148.841797,45.9404297 C149.120119,45.7177723 149.330403,45.359052 149.472656, 44.8642578 Z M149.621094,42.2294922 C149.602539,41.4749311 149.407717,40.9012878 149.036621, 40.5085449 C148.665525,40.1158021 148.214033,39.9194336 147.682129,39.9194336 C147.113116, 39.9194336 146.643068,40.1266255 146.271973,40.5410156 C145.900877,40.9554057 145.718424, 41.5182256 145.724609,42.2294922 L149.621094,42.2294922 Z M163.370117,48 L160.94873, 48 L160.94873,46.5527344 C160.54671,47.1155627 160.072024,47.5345852 159.524658,47.8098145 C158.977292, 48.0850437 158.425296,48.2226562 157.868652,48.2226562 C156.736811,48.2226562 155.767338, 47.7665247 154.960205,46.854248 C154.153072,45.9419714 153.749512,44.6694418 153.749512, 43.0366211 C153.749512,41.3666909 154.142249,40.0972537 154.927734,39.2282715 C155.71322, 38.3592893 156.705886,37.9248047 157.905762,37.9248047 C159.006679,37.9248047 159.959143, 38.3824824 160.763184,39.2978516 L160.763184,34.3994141 L163.370117,34.3994141 L163.370117, 48 Z M156.412109,42.8603516 C156.412109,43.9117891 156.557453,44.6725237 156.848145, 45.1425781 C157.26872,45.8229201 157.856279,46.1630859 158.61084,46.1630859 C159.210778, 46.1630859 159.721027,45.9079615 160.141602,45.3977051 C160.562177,44.8874486 160.772461, 44.1251678 160.772461,43.1108398 C160.772461,41.9789982 160.568361,41.1641464 160.160156, 40.6662598 C159.751951,40.1683732 159.229333,39.9194336 158.592285,39.9194336 C157.973792, 39.9194336 157.455813,40.1652807 157.03833,40.6569824 C156.620848,41.1486841 156.412109, 41.8831331 156.412109,42.8603516 Z M165.939941,36.8115234 L165.939941,34.3994141 L168.546875, 34.3994141 L168.546875,36.8115234 L165.939941,36.8115234 Z M165.939941,48 L165.939941, 38.1474609 L168.546875,38.1474609 L168.546875,48 L165.939941,48 Z M179.80957,41.0605469 L177.239746, 41.5244141 C177.153157,41.0110651 176.956789,40.624513 176.650635,40.3647461 C176.344481, 40.1049792 175.947105,39.9750977 175.458496,39.9750977 C174.809079,39.9750977 174.291099, 40.1992979 173.904541,40.6477051 C173.517983,41.0961123 173.324707,41.8460234 173.324707, 42.8974609 C173.324707,44.0664121 173.521076,44.8920874 173.913818,45.3745117 C174.306561, 45.856936 174.833818,46.0981445 175.495605,46.0981445 C175.9904,46.0981445 176.395506, 45.9574396 176.710938,45.6760254 C177.026369,45.3946112 177.249023,44.910648 177.378906, 44.2241211 L179.939453,44.6601562 C179.673501,45.8352923 179.163252,46.722816 178.408691, 47.3227539 C177.65413,47.9226918 176.64291,48.2226562 175.375,48.2226562 C173.933912, 48.2226562 172.785079,47.768071 171.928467,46.8588867 C171.071854,45.9497025 170.643555, 44.6910888 170.643555,43.0830078 C170.643555,41.4563721 171.073401,40.1900273 171.933105, 39.2839355 C172.79281,38.3778438 173.955559,37.9248047 175.421387,37.9248047 C176.621263, 37.9248047 177.575273,38.1830215 178.283447,38.6994629 C178.991621,39.2159043 179.500324, 40.0029244 179.80957,41.0605469 Z M181.785645,36.8115234 L181.785645,34.3994141 L184.392578, 34.3994141 L184.392578,36.8115234 L181.785645,36.8115234 Z M181.785645,48 L181.785645, 38.1474609 L184.392578,38.1474609 L184.392578,48 L181.785645,48 Z M196.026367,48 L193.419434, 48 L193.419434,42.9716797 C193.419434,41.9078723 193.36377,41.2198095 193.252441, 40.9074707 C193.141113,40.5951319 192.960206,40.3523772 192.709717,40.1791992 C192.459227, 40.0060213 192.157717,39.9194336 191.805176,39.9194336 C191.353676,39.9194336 190.94857, 40.0431303 190.589844,40.2905273 C190.231118,40.5379244 189.985271,40.8657206 189.852295, 41.2739258 C189.719319,41.6821309 189.652832,42.4366807 189.652832,43.5375977 L189.652832, 48 L187.045898,48 L187.045898,38.1474609 L189.467285,38.1474609 L189.467285,39.5947266 C190.32699, 38.4814397 191.409336,37.9248047 192.714355,37.9248047 C193.289554,37.9248047 193.815265, 38.0284007 194.291504,38.2355957 C194.767743,38.4427907 195.12801,38.7071924 195.372314, 39.0288086 C195.616619,39.3504248 195.786702,39.71533 195.882568,40.1235352 C195.978435, 40.5317403 196.026367,41.1162071 196.026367,41.8769531 L196.026367,48 Z M204.375977,44.8642578 L206.973633, 45.300293 C206.639647,46.2527717 206.11239,46.9779435 205.391846,47.4758301 C204.671302, 47.9737167 203.769862,48.2226562 202.6875,48.2226562 C200.974275,48.2226562 199.706384, 47.6629288 198.883789,46.543457 C198.234372,45.6466427 197.909668,44.514818 197.909668, 43.1479492 C197.909668,41.5151286 198.336422,40.2364141 199.189941,39.3117676 C200.043461, 38.387121 201.122715,37.9248047 202.427734,37.9248047 C203.893562,37.9248047 205.050126, 38.4087679 205.897461,39.376709 C206.744796,40.34465 207.149903,41.827464 207.112793, 43.8251953 L200.581543,43.8251953 C200.600098,44.5983112 200.810382,45.1997863 201.212402, 45.6296387 C201.614423,46.0594911 202.115394,46.2744141 202.715332,46.2744141 C203.123537, 46.2744141 203.466795,46.1630871 203.745117,45.9404297 C204.023439,45.7177723 204.233723, 45.359052 204.375977,44.8642578 Z M204.524414,42.2294922 C204.505859,41.4749311 204.311037, 40.9012878 203.939941,40.5085449 C203.568846,40.1158021 203.117353,39.9194336 202.585449, 39.9194336 C202.016436,39.9194336 201.546389,40.1266255 201.175293,40.5410156 C200.804197, 40.9554057 200.621745,41.5182256 200.62793,42.2294922 L204.524414,42.2294922 Z M213.838867, 43.574707 L216.510742,43.3149414 C216.67155,44.2117558 216.9978,44.8704406 217.489502, 45.2910156 C217.981204,45.7115906 218.644527,45.921875 219.479492,45.921875 C220.363937, 45.921875 221.030353,45.7347838 221.47876,45.3605957 C221.927167,44.9864076 222.151367, 44.5488306 222.151367,44.0478516 C222.151367,43.7262354 222.057048,43.4525565 221.868408, 43.2268066 C221.679768,43.0010568 221.350426,42.8046883 220.880371,42.6376953 C220.558755, 42.5263666 219.825852,42.3284519 218.681641,42.0439453 C217.209628,41.6790346 216.176761, 41.2306342 215.583008,40.6987305 C214.748043,39.9503543 214.330566,39.0380913 214.330566, 37.9619141 C214.330566,37.2692023 214.526935,36.6213409 214.919678,36.0183105 C215.312421, 35.4152802 215.878333,34.9560563 216.617432,34.640625 C217.35653,34.3251937 218.248693, 34.1674805 219.293945,34.1674805 C221.000985,34.1674805 222.285884,34.5416629 223.148682, 35.2900391 C224.011479,36.0384152 224.464518,37.0372659 224.507812,38.2866211 L221.761719, 38.4072266 C221.644205,37.7083298 221.392173,37.2058121 221.005615,36.8996582 C220.619057, 36.5935043 220.039229,36.4404297 219.266113,36.4404297 C218.468258,36.4404297 217.843589, 36.6043278 217.39209,36.9321289 C217.101398,37.1424164 216.956055,37.4238264 216.956055, 37.7763672 C216.956055,38.0979834 217.092121,38.3732085 217.364258,38.6020508 C217.710614, 38.8927423 218.551751,39.1957992 219.887695,39.5112305 C221.223639,39.8266617 222.211667, 40.1529117 222.851807,40.4899902 C223.491947,40.8270687 223.992918,41.2878389 224.354736, 41.8723145 C224.716555,42.45679 224.897461,43.1788694 224.897461,44.0385742 C224.897461, 44.817875 224.680992,45.5476854 224.248047,46.2280273 C223.815102,46.9083693 223.202803, 47.4139795 222.411133,47.744873 C221.619462,48.0757666 220.632981,48.2412109 219.45166, 48.2412109 C217.732251,48.2412109 216.411788,47.8438354 215.490234,47.0490723 C214.56868, 46.2543092 214.01823,45.096199 213.838867,43.574707 Z M232.894531,44.8642578 L235.492188, 45.300293 C235.158201,46.2527717 234.630944,46.9779435 233.9104,47.4758301 C233.189856, 47.9737167 232.288417,48.2226562 231.206055,48.2226562 C229.49283,48.2226562 228.224939, 47.6629288 227.402344,46.543457 C226.752926,45.6466427 226.428223,44.514818 226.428223, 43.1479492 C226.428223,41.5151286 226.854976,40.2364141 227.708496,39.3117676 C228.562016, 38.387121 229.64127,37.9248047 230.946289,37.9248047 C232.412117,37.9248047 233.568681, 38.4087679 234.416016,39.376709 C235.263351,40.34465 235.668457,41.827464 235.631348, 43.8251953 L229.100098,43.8251953 C229.118652,44.5983112 229.328937,45.1997863 229.730957, 45.6296387 C230.132977,46.0594911 230.633949,46.2744141 231.233887,46.2744141 C231.642092, 46.2744141 231.98535,46.1630871 232.263672,45.9404297 C232.541994,45.7177723 232.752278, 45.359052 232.894531,44.8642578 Z M233.042969,42.2294922 C233.024414,41.4749311 232.829592, 40.9012878 232.458496,40.5085449 C232.0874,40.1158021 231.635908,39.9194336 231.104004, 39.9194336 C230.534991,39.9194336 230.064943,40.1266255 229.693848,40.5410156 C229.322752, 40.9554057 229.140299,41.5182256 229.146484,42.2294922 L233.042969,42.2294922 Z M240.251465, 48 L237.644531,48 L237.644531,38.1474609 L240.065918,38.1474609 L240.065918,39.5483398 C240.480308, 38.8865527 240.852944,38.4505219 241.183838,38.2402344 C241.514731,38.0299469 241.89046, 37.9248047 242.311035,37.9248047 C242.904788,37.9248047 243.476885,38.0887028 244.027344, 38.4165039 L243.220215,40.6894531 C242.781085,40.4049465 242.372886,40.2626953 241.995605, 40.2626953 C241.630695,40.2626953 241.321453,40.3631989 241.067871,40.564209 C240.814289, 40.7652191 240.614828,41.1285781 240.469482,41.6542969 C240.324137,42.1800156 240.251465, 43.2809161 240.251465,44.9570312 L240.251465,48 Z M247.858887,48 L243.888184,38.1474609 L246.625, 38.1474609 L248.480469,43.1757812 L249.018555,44.8549805 C249.160808,44.4282205 249.250488, 44.1468106 249.287598,44.0107422 C249.374187,43.7324205 249.466959,43.454103 249.565918, 43.1757812 L251.439941,38.1474609 L254.121094,38.1474609 L250.206055,48 L247.858887, 48 Z M255.716797,36.8115234 L255.716797,34.3994141 L258.32373,34.3994141 L258.32373, 36.8115234 L255.716797,36.8115234 Z M255.716797,48 L255.716797,38.1474609 L258.32373, 38.1474609 L258.32373,48 L255.716797,48 Z M269.586426,41.0605469 L267.016602,41.5244141 C266.930013, 41.0110651 266.733644,40.624513 266.42749,40.3647461 C266.121336,40.1049792 265.723961, 39.9750977 265.235352,39.9750977 C264.585934,39.9750977 264.067954,40.1992979 263.681396, 40.6477051 C263.294839,41.0961123 263.101562,41.8460234 263.101562,42.8974609 C263.101562, 44.0664121 263.297931,44.8920874 263.690674,45.3745117 C264.083417,45.856936 264.610674, 46.0981445 265.272461,46.0981445 C265.767255,46.0981445 266.172362,45.9574396 266.487793, 45.6760254 C266.803224,45.3946112 267.025878,44.910648 267.155762,44.2241211 L269.716309, 44.6601562 C269.450357,45.8352923 268.940108,46.722816 268.185547,47.3227539 C267.430986, 47.9226918 266.419765,48.2226562 265.151855,48.2226562 C263.710768,48.2226562 262.561935, 47.768071 261.705322,46.8588867 C260.84871,45.9497025 260.42041,44.6910888 260.42041,43.0830078 C260.42041, 41.4563721 260.850256,40.1900273 261.709961,39.2839355 C262.569666,38.3778438 263.732415, 37.9248047 265.198242,37.9248047 C266.398118,37.9248047 267.352129,38.1830215 268.060303, 38.6994629 C268.768477,39.2159043 269.277179,40.0029244 269.586426,41.0605469 Z M277.268066, 44.8642578 L279.865723,45.300293 C279.531737,46.2527717 279.00448,46.9779435 278.283936, 47.4758301 C277.563392,47.9737167 276.661952,48.2226562 275.57959,48.2226562 C273.866365, 48.2226562 272.598474,47.6629288 271.775879,46.543457 C271.126462,45.6466427 270.801758, 44.514818 270.801758,43.1479492 C270.801758,41.5151286 271.228511,40.2364141 272.082031, 39.3117676 C272.935551,38.387121 274.014805,37.9248047 275.319824,37.9248047 C276.785652, 37.9248047 277.942216,38.4087679 278.789551,39.376709 C279.636886,40.34465 280.041992, 41.827464 280.004883,43.8251953 L273.473633,43.8251953 C273.492188,44.5983112 273.702472, 45.1997863 274.104492,45.6296387 C274.506512,46.0594911 275.007484,46.2744141 275.607422, 46.2744141 C276.015627,46.2744141 276.358885,46.1630871 276.637207,45.9404297 C276.915529, 45.7177723 277.125813,45.359052 277.268066,44.8642578 Z M277.416504,42.2294922 C277.397949, 41.4749311 277.203127,40.9012878 276.832031,40.5085449 C276.460936,40.1158021 276.009443, 39.9194336 275.477539,39.9194336 C274.908526,39.9194336 274.438478,40.1266255 274.067383, 40.5410156 C273.696287,40.9554057 273.513835,41.5182256 273.52002,42.2294922 L277.416504,42.2294922 Z",id:"Genomic-Medicine-Service-Logo-SVG"}))))},db=function(){return r.a.createElement("svg",{width:"108px",height:"55px",viewBox:"0 0 108 55","aria-labelledby":"genomicsEnglandTitle",role:"img"},r.a.createElement("title",{id:"genomicsEnglandTitle"},"Genomics England"),r.a.createElement("defs",null,r.a.createElement("polygon",{id:"path-1",points:"0.303072664 0.0148648649 3.00083045 0.0148648649 3.00083045 6.70665541 0.303072664 6.70665541"})),r.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{transform:"translate(-261.000000, -32.000000)"},r.a.createElement("g",null,r.a.createElement("g",{id:"Genomics-England-logo_colour",transform:"translate(261.000000, 32.000000)"},r.a.createElement("path",{d:"M69.9215917,52.315777 L65.8743945,52.315777 C65.1288581,52.315777 64.5253287,52.9155743 64.5253287,53.6573311 C64.5253287,54.3983446 65.1288581,54.9988851 65.8743945,54.9988851 L69.9215917,54.9988851 C70.667128,54.9988851 71.2702837,54.3983446 71.2702837,53.6573311 C71.2702837,52.9155743 70.667128,52.315777 69.9215917,52.315777",id:"Fill-1",fill:"#7EC084"}),r.a.createElement("path",{d:"M102.296927,48.2926014 L98.2497301,48.2926014 C97.5045675,48.2926014 96.9006644,48.8909122 96.9006644,49.6334122 C96.9006644,50.3751689 97.5045675,50.9749662 98.2497301,50.9749662 L102.296927,50.9749662 C103.041716,50.9749662 103.645619,50.3751689 103.645619,49.6334122 C103.645619,48.8909122 103.041716,48.2926014 102.296927,48.2926014",id:"Fill-2",fill:"#7EC084"}),r.a.createElement("path",{d:"M102.296927,44.2668243 L98.2497301,44.2668243 C97.5045675,44.2668243 96.9006644,44.8655068 96.9006644,45.6080068 C96.9006644,46.3493919 97.5045675,46.9491892 98.2497301,46.9491892 L102.296927,46.9491892 C103.041716,46.9491892 103.645619,46.3493919 103.645619,45.6080068 C103.645619,44.8655068 103.041716,44.2668243 102.296927,44.2668243",id:"Fill-3",fill:"#9CD4D8"}),r.a.createElement("path",{d:"M102.296927,40.2451351 L98.2497301,40.2451351 C97.5045675,40.2451351 96.9006644,40.8438176 96.9006644,41.5855743 C96.9006644,42.3273311 97.5045675,42.9275 98.2497301,42.9275 L102.296927,42.9275 C103.041716,42.9275 103.645619,42.3273311 103.645619,41.5855743 C103.645619,40.8438176 103.041716,40.2451351 102.296927,40.2451351",id:"Fill-4",fill:"#2FB6BD"}),r.a.createElement("path",{d:"M102.296927,36.2193581 L98.2497301,36.2193581 C97.5045675,36.2193581 96.9006644,36.8180405 96.9006644,37.5605405 C96.9006644,38.3015541 97.5045675,38.901723 98.2497301,38.901723 L102.296927,38.901723 C103.041716,38.901723 103.645619,38.3015541 103.645619,37.5605405 C103.645619,36.8180405 103.041716,36.2193581 102.296927,36.2193581",id:"Fill-5",fill:"#7EC084"}),r.a.createElement("path",{d:"M102.296927,32.1976689 L98.2497301,32.1976689 C97.5045675,32.1976689 96.9006644,32.7963514 96.9006644,33.5388514 C96.9006644,34.2798649 97.5045675,34.8796622 98.2497301,34.8796622 L102.296927,34.8796622 C103.041716,34.8796622 103.645619,34.2798649 103.645619,33.5388514 C103.645619,32.7963514 103.041716,32.1976689 102.296927,32.1976689",id:"Fill-6",fill:"#9CD4D8"}),r.a.createElement("path",{d:"M94.2032803,48.2926014 L90.156083,48.2926014 C89.4109204,48.2926014 88.8077647,48.8909122 88.8077647,49.6334122 C88.8077647,50.3751689 89.4109204,50.9749662 90.156083,50.9749662 L94.2032803,50.9749662 C94.9488166,50.9749662 95.5519723,50.3751689 95.5519723,49.6334122 C95.5519723,48.8909122 94.9488166,48.2926014 94.2032803,48.2926014",id:"Fill-7",fill:"#2FB6BD"}),r.a.createElement("path",{d:"M94.2032803,44.2668243 L90.156083,44.2668243 C89.4109204,44.2668243 88.8077647,44.8655068 88.8077647,45.6080068 C88.8077647,46.3493919 89.4109204,46.9491892 90.156083,46.9491892 L94.2032803,46.9491892 C94.9488166,46.9491892 95.5519723,46.3493919 95.5519723,45.6080068 C95.5519723,44.8655068 94.9488166,44.2668243 94.2032803,44.2668243",id:"Fill-8",fill:"#9CD4D8"}),r.a.createElement("path",{d:"M94.2032803,40.2451351 L90.156083,40.2451351 C89.4109204,40.2451351 88.8077647,40.8438176 88.8077647,41.5855743 C88.8077647,42.3273311 89.4109204,42.9275 90.156083,42.9275 L94.2032803,42.9275 C94.9488166,42.9275 95.5519723,42.3273311 95.5519723,41.5855743 C95.5519723,40.8438176 94.9488166,40.2451351 94.2032803,40.2451351",id:"Fill-9",fill:"#7EC084"}),r.a.createElement("path",{d:"M94.2032803,36.2193581 L90.156083,36.2193581 C89.4109204,36.2193581 88.8077647,36.8180405 88.8077647,37.5605405 C88.8077647,38.3015541 89.4109204,38.901723 90.156083,38.901723 L94.2032803,38.901723 C94.9488166,38.901723 95.5519723,38.3015541 95.5519723,37.5605405 C95.5519723,36.8180405 94.9488166,36.2193581 94.2032803,36.2193581",id:"Fill-10",fill:"#2FB6BD"}),r.a.createElement("path",{d:"M94.2032803,32.1976689 L90.156083,32.1976689 C89.4109204,32.1976689 88.8077647,32.7963514 88.8077647,33.5388514 C88.8077647,34.2798649 89.4109204,34.8796622 90.156083,34.8796622 L94.2032803,34.8796622 C94.9488166,34.8796622 95.5519723,34.2798649 95.5519723,33.5388514 C95.5519723,32.7963514 94.9488166,32.1976689 94.2032803,32.1976689",id:"Fill-11",fill:"#7EC084"}),r.a.createElement("path",{d:"M94.2032803,28.1722635 L90.156083,28.1722635 C89.4109204,28.1722635 88.8077647,28.7709459 88.8077647,29.5130743 C88.8077647,30.2540878 89.4109204,30.8542568 90.156083,30.8542568 L94.2032803,30.8542568 C94.9488166,30.8542568 95.5519723,30.2540878 95.5519723,29.5130743 C95.5519723,28.7709459 94.9488166,28.1722635 94.2032803,28.1722635",id:"Fill-12",fill:"#2FB6BD"}),r.a.createElement("path",{d:"M94.2032803,24.1502027 L90.156083,24.1502027 C89.4109204,24.1502027 88.8077647,24.7488851 88.8077647,25.4913851 C88.8077647,26.2323986 89.4109204,26.8329392 90.156083,26.8329392 L94.2032803,26.8329392 C94.9488166,26.8329392 95.5519723,26.2323986 95.5519723,25.4913851 C95.5519723,24.7488851 94.9488166,24.1502027 94.2032803,24.1502027",id:"Fill-13",fill:"#9CD4D8"}),r.a.createElement("path",{d:"M94.2032803,20.1244257 L90.156083,20.1244257 C89.4109204,20.1244257 88.8077647,20.7231081 88.8077647,21.4656081 C88.8077647,22.2066216 89.4109204,22.8067905 90.156083,22.8067905 L94.2032803,22.8067905 C94.9488166,22.8067905 95.5519723,22.2066216 95.5519723,21.4656081 C95.5519723,20.7231081 94.9488166,20.1244257 94.2032803,20.1244257",id:"Fill-14",fill:"#7EC084"}),r.a.createElement("path",{d:"M94.2032803,16.1023649 L90.156083,16.1023649 C89.4109204,16.1023649 88.8077647,16.7017905 88.8077647,17.4439189 C88.8077647,18.1856757 89.4109204,18.7858446 90.156083,18.7858446 L94.2032803,18.7858446 C94.9488166,18.7858446 95.5519723,18.1856757 95.5519723,17.4439189 C95.5519723,16.7017905 94.9488166,16.1023649 94.2032803,16.1023649",id:"Fill-15",fill:"#9CD4D8"}),r.a.createElement("path",{d:"M94.2032803,12.0769595 L90.156083,12.0769595 C89.4109204,12.0769595 88.8077647,12.6756419 88.8077647,13.4177703 C88.8077647,14.159527 89.4109204,14.7589527 90.156083,14.7589527 L94.2032803,14.7589527 C94.9488166,14.7589527 95.5519723,14.159527 95.5519723,13.4177703 C95.5519723,12.6756419 94.9488166,12.0769595 94.2032803,12.0769595",id:"Fill-16",fill:"#2FB6BD"}),r.a.createElement("path",{d:"M69.9215917,48.2926014 L65.8743945,48.2926014 C65.1288581,48.2926014 64.5253287,48.8909122 64.5253287,49.6334122 C64.5253287,50.3751689 65.1288581,50.9749662 65.8743945,50.9749662 L69.9215917,50.9749662 C70.667128,50.9749662 71.2702837,50.3751689 71.2702837,49.6334122 C71.2702837,48.8909122 70.667128,48.2926014 69.9215917,48.2926014",id:"Fill-17",fill:"#2FB6BD"}),r.a.createElement("path",{d:"M78.0167336,48.2926014 L73.9687889,48.2926014 C73.2228789,48.2926014 72.6197232,48.8909122 72.6197232,49.6334122 C72.6197232,50.3751689 73.2228789,50.9749662 73.9687889,50.9749662 L78.0167336,50.9749662 C78.7618962,50.9749662 79.3650519,50.3751689 79.3650519,49.6334122 C79.3650519,48.8909122 78.7618962,48.2926014 78.0167336,48.2926014",id:"Fill-18",fill:"#7EC084"}),r.a.createElement("path",{d:"M78.0167336,44.2668243 L73.9687889,44.2668243 C73.2228789,44.2668243 72.6197232,44.8655068 72.6197232,45.6080068 C72.6197232,46.3493919 73.2228789,46.9491892 73.9687889,46.9491892 L78.0167336,46.9491892 C78.7618962,46.9491892 79.3650519,46.3493919 79.3650519,45.6080068 C79.3650519,44.8655068 78.7618962,44.2668243 78.0167336,44.2668243",id:"Fill-19",fill:"#9CD4D8"}),r.a.createElement("path",{d:"M86.1103806,48.2926014 L82.0628097,48.2926014 C81.3172734,48.2926014 80.7137439,48.8909122 80.7137439,49.6334122 C80.7137439,50.3751689 81.3172734,50.9749662 82.0628097,50.9749662 L86.1103806,50.9749662 C86.8555433,50.9749662 87.4583253,50.3751689 87.4583253,49.6334122 C87.4583253,48.8909122 86.8555433,48.2926014 86.1103806,48.2926014",id:"Fill-20",fill:"#9CD4D8"}),r.a.createElement("path",{d:"M86.1103806,44.2668243 L82.0628097,44.2668243 C81.3172734,44.2668243 80.7137439,44.8655068 80.7137439,45.6080068 C80.7137439,46.3493919 81.3172734,46.9491892 82.0628097,46.9491892 L86.1103806,46.9491892 C86.8555433,46.9491892 87.4583253,46.3493919 87.4583253,45.6080068 C87.4583253,44.8655068 86.8555433,44.2668243 86.1103806,44.2668243",id:"Fill-21",fill:"#2FB6BD"}),r.a.createElement("path",{d:"M86.1103806,40.2451351 L82.0628097,40.2451351 C81.3172734,40.2451351 80.7137439,40.8438176 80.7137439,41.5855743 C80.7137439,42.3273311 81.3172734,42.9275 82.0628097,42.9275 L86.1103806,42.9275 C86.8555433,42.9275 87.4583253,42.3273311 87.4583253,41.5855743 C87.4583253,40.8438176 86.8555433,40.2451351 86.1103806,40.2451351",id:"Fill-22",fill:"#9CD4D8"}),r.a.createElement("path",{d:"M86.1103806,36.2193581 L82.0628097,36.2193581 C81.3172734,36.2193581 80.7137439,36.8180405 80.7137439,37.5605405 C80.7137439,38.3015541 81.3172734,38.901723 82.0628097,38.901723 L86.1103806,38.901723 C86.8555433,38.901723 87.4583253,38.3015541 87.4583253,37.5605405 C87.4583253,36.8180405 86.8555433,36.2193581 86.1103806,36.2193581",id:"Fill-23",fill:"#7EC084"}),r.a.createElement("path",{d:"M86.1103806,32.1976689 L82.0628097,32.1976689 C81.3172734,32.1976689 80.7137439,32.7963514 80.7137439,33.5388514 C80.7137439,34.2798649 81.3172734,34.8796622 82.0628097,34.8796622 L86.1103806,34.8796622 C86.8555433,34.8796622 87.4583253,34.2798649 87.4583253,33.5388514 C87.4583253,32.7963514 86.8555433,32.1976689 86.1103806,32.1976689",id:"Fill-24",fill:"#2FB6BD"}),r.a.createElement("path",{d:"M86.1103806,28.1722635 L82.0628097,28.1722635 C81.3172734,28.1722635 80.7137439,28.7709459 80.7137439,29.5130743 C80.7137439,30.2540878 81.3172734,30.8542568 82.0628097,30.8542568 L86.1103806,30.8542568 C86.8555433,30.8542568 87.4583253,30.2540878 87.4583253,29.5130743 C87.4583253,28.7709459 86.8555433,28.1722635 86.1103806,28.1722635",id:"Fill-25",fill:"#9CD4D8"}),r.a.createElement("path",{d:"M86.1103806,24.1502027 L82.0628097,24.1502027 C81.3172734,24.1502027 80.7137439,24.7488851 80.7137439,25.4913851 C80.7137439,26.2323986 81.3172734,26.8329392 82.0628097,26.8329392 L86.1103806,26.8329392 C86.8555433,26.8329392 87.4583253,26.2323986 87.4583253,25.4913851 C87.4583253,24.7488851 86.8555433,24.1502027 86.1103806,24.1502027",id:"Fill-26",fill:"#7EC084"}),r.a.createElement("path",{d:"M86.1103806,20.1244257 L82.0628097,20.1244257 C81.3172734,20.1244257 80.7137439,20.7231081 80.7137439,21.4656081 C80.7137439,22.2066216 81.3172734,22.8067905 82.0628097,22.8067905 L86.1103806,22.8067905 C86.8555433,22.8067905 87.4583253,22.2066216 87.4583253,21.4656081 C87.4583253,20.7231081 86.8555433,20.1244257 86.1103806,20.1244257",id:"Fill-27",fill:"#2FB6BD"}),r.a.createElement("path",{d:"M86.1103806,16.1023649 L82.0628097,16.1023649 C81.3172734,16.1023649 80.7137439,16.7017905 80.7137439,17.4439189 C80.7137439,18.1856757 81.3172734,18.7858446 82.0628097,18.7858446 L86.1103806,18.7858446 C86.8555433,18.7858446 87.4583253,18.1856757 87.4583253,17.4439189 C87.4583253,16.7017905 86.8555433,16.1023649 86.1103806,16.1023649",id:"Fill-28",fill:"#7EC084"}),r.a.createElement("path",{d:"M86.1103806,12.0769595 L82.0628097,12.0769595 C81.3172734,12.0769595 80.7137439,12.6756419 80.7137439,13.4177703 C80.7137439,14.159527 81.3172734,14.7589527 82.0628097,14.7589527 L86.1103806,14.7589527 C86.8555433,14.7589527 87.4583253,14.159527 87.4583253,13.4177703 C87.4583253,12.6756419 86.8555433,12.0769595 86.1103806,12.0769595",id:"Fill-29",fill:"#9CD4D8"}),r.a.createElement("path",{d:"M86.1103806,8.05527027 L82.0628097,8.05527027 C81.3172734,8.05527027 80.7137439,8.65469595 80.7137439,9.3964527 C80.7137439,10.1374662 81.3172734,10.7380068 82.0628097,10.7380068 L86.1103806,10.7380068 C86.8555433,10.7380068 87.4583253,10.1374662 87.4583253,9.3964527 C87.4583253,8.65469595 86.8555433,8.05527027 86.1103806,8.05527027",id:"Fill-30",fill:"#7EC084"}),r.a.createElement("path",{d:"M87.4575779,53.6573311 C87.4575779,54.3983446 86.8544221,54.9988851 86.1092595,54.9988851 C85.3637232,54.9988851 84.7598201,54.3983446 84.7598201,53.6573311 C84.7598201,52.9155743 85.3637232,52.315777 86.1092595,52.315777 C86.8544221,52.315777 87.4575779,52.9155743 87.4575779,53.6573311",id:"Fill-31",fill:"#9CD4D8"}),r.a.createElement("path",{d:"M63.176263,53.6584459 C63.176263,54.3983446 62.5731073,55 61.8268235,55 C61.0816609,55 60.4777578,54.3983446 60.4777578,53.6584459 C60.4777578,52.9163176 61.0816609,52.315777 61.8268235,52.315777 C62.5731073,52.315777 63.176263,52.9163176 63.176263,53.6584459",id:"Fill-32",fill:"#9CD4D8"}),r.a.createElement("path",{d:"M71.2702837,45.6080068 C71.2702837,46.3505068 70.667128,46.9503041 69.9215917,46.9503041 C69.1745606,46.9503041 68.5717785,46.3505068 68.5717785,45.6080068 C68.5717785,44.8677365 69.1745606,44.2668243 69.9215917,44.2668243 C70.667128,44.2668243 71.2702837,44.8677365 71.2702837,45.6080068",id:"Fill-33",fill:"#2FB6BD"}),r.a.createElement("path",{d:"M79.3643045,37.5605405 C79.3643045,38.3015541 78.7607751,38.901723 78.0156125,38.901723 C77.2693287,38.901723 76.6665467,38.3015541 76.6665467,37.5605405 C76.6665467,36.8180405 77.2693287,36.2193581 78.0156125,36.2193581 C78.7607751,36.2193581 79.3643045,36.8180405 79.3643045,37.5605405",id:"Fill-34",fill:"#9CD4D8"}),r.a.createElement("path",{d:"M107.692443,37.5605405 C107.692443,38.3015541 107.088166,38.901723 106.343003,38.901723 C105.597467,38.901723 104.994311,38.3015541 104.994311,37.5605405 C104.994311,36.8180405 105.597467,36.2193581 106.343003,36.2193581 C107.088166,36.2193581 107.692443,36.8180405 107.692443,37.5605405",id:"Fill-35",fill:"#2FB6BD"}),r.a.createElement("path",{d:"M107.692443,45.6080068 C107.692443,46.3493919 107.088166,46.9491892 106.343003,46.9491892 C105.597467,46.9491892 104.994311,46.3493919 104.994311,45.6080068 C104.994311,44.8655068 105.597467,44.2668243 106.343003,44.2668243 C107.088166,44.2668243 107.692443,44.8655068 107.692443,45.6080068",id:"Fill-36",fill:"#2FB6BD"}),r.a.createElement("path",{d:"M107.692443,33.5358784 C107.692443,34.2772635 107.088166,34.8774324 106.343003,34.8774324 C105.597467,34.8774324 104.994311,34.2772635 104.994311,33.5358784 C104.994311,32.7948649 105.597467,32.1939527 106.343003,32.1939527 C107.088166,32.1939527 107.692443,32.7948649 107.692443,33.5358784",id:"Fill-37",fill:"#7EC084"}),r.a.createElement("path",{d:"M79.3643045,33.5358784 C79.3643045,34.2772635 78.7607751,34.8774324 78.0156125,34.8774324 C77.2693287,34.8774324 76.6665467,34.2772635 76.6665467,33.5358784 C76.6665467,32.7948649 77.2693287,32.1939527 78.0156125,32.1939527 C78.7607751,32.1939527 79.3643045,32.7948649 79.3643045,33.5358784",id:"Fill-38",fill:"#7EC084"}),r.a.createElement("path",{d:"M99.5987958,29.5108446 C99.5987958,30.2526014 98.9952664,30.8523986 98.2497301,30.8523986 C97.5034464,30.8523986 96.9006644,30.2526014 96.9006644,29.5108446 C96.9006644,28.7698311 97.5034464,28.1700338 98.2497301,28.1700338 C98.9952664,28.1700338 99.5987958,28.7698311 99.5987958,29.5108446",id:"Fill-39",fill:"#2FB6BD"}),r.a.createElement("path",{d:"M79.3643045,29.5108446 C79.3643045,30.2526014 78.7607751,30.8523986 78.0156125,30.8523986 C77.2693287,30.8523986 76.6665467,30.2526014 76.6665467,29.5108446 C76.6665467,28.7698311 77.2693287,28.1700338 78.0156125,28.1700338 C78.7607751,28.1700338 79.3643045,28.7698311 79.3643045,29.5108446",id:"Fill-40",fill:"#9CD4D8"}),r.a.createElement("path",{d:"M99.5987958,25.4872973 C99.5987958,26.2283108 98.9952664,26.8284797 98.2497301,26.8284797 C97.5034464,26.8284797 96.9006644,26.2283108 96.9006644,25.4872973 C96.9006644,24.7455405 97.5034464,24.1464865 98.2497301,24.1464865 C98.9952664,24.1464865 99.5987958,24.7455405 99.5987958,25.4872973",id:"Fill-41",fill:"#9CD4D8"}),r.a.createElement("path",{d:"M79.3643045,13.4140541 C79.3643045,14.1558108 78.7607751,14.7556081 78.0156125,14.7556081 C77.2693287,14.7556081 76.6665467,14.1558108 76.6665467,13.4140541 C76.6665467,12.6722973 77.2693287,12.0728716 78.0156125,12.0728716 C78.7607751,12.0728716 79.3643045,12.6722973 79.3643045,13.4140541",id:"Fill-42",fill:"#2FB6BD"}),r.a.createElement("path",{d:"M91.5047751,9.39013514 C91.5047751,10.1304054 90.9016194,10.7313176 90.156083,10.7313176 C89.4097993,10.7313176 88.8066436,10.1304054 88.8066436,9.39013514 C88.8066436,8.64800676 89.4097993,8.04783784 90.156083,8.04783784 C90.9016194,8.04783784 91.5047751,8.64800676 91.5047751,9.39013514",id:"Fill-43",fill:"#9CD4D8"}),r.a.createElement("path",{d:"M79.3643045,9.39013514 C79.3643045,10.1304054 78.7607751,10.7313176 78.0156125,10.7313176 C77.2693287,10.7313176 76.6665467,10.1304054 76.6665467,9.39013514 C76.6665467,8.64800676 77.2693287,8.04783784 78.0156125,8.04783784 C78.7607751,8.04783784 79.3643045,8.64800676 79.3643045,9.39013514",id:"Fill-44",fill:"#9CD4D8"}),r.a.createElement("path",{d:"M91.5047751,5.36472973 C91.5047751,6.10722973 90.9016194,6.70665541 90.156083,6.70665541 C89.4097993,6.70665541 88.8066436,6.10722973 88.8066436,5.36472973 C88.8066436,4.62445946 89.4097993,4.02317568 90.156083,4.02317568 C90.9016194,4.02317568 91.5047751,4.62445946 91.5047751,5.36472973",id:"Fill-45",fill:"#7EC084"}),r.a.createElement("g",{transform:"translate(84.456747, 0.000000)"},r.a.createElement("mask",{id:"mask-2",fill:"white"},r.a.createElement("use",{xlinkHref:"#path-1"})),r.a.createElement("g",null),r.a.createElement("path",{d:"M3.00083045,5.36472973 C3.00083045,6.10722973 2.39767474,6.70665541 1.65251211,6.70665541 C0.906975779,6.70665541 0.303072664,6.10722973 0.303072664,5.36472973 C0.303072664,4.62445946 0.906975779,4.02317568 1.65251211,4.02317568 C2.39767474,4.02317568 3.00083045,4.62445946 3.00083045,5.36472973",id:"Fill-46",fill:"#2FB6BD",mask:"url(#mask-2)"}),r.a.createElement("path",{d:"M3.00083045,1.34118243 C3.00083045,2.08293919 2.39767474,2.68236486 1.65251211,2.68236486 C0.906975779,2.68236486 0.303072664,2.08293919 0.303072664,1.34118243 C0.303072664,0.600168919 0.906975779,0 1.65251211,0 C2.39767474,0 3.00083045,0.600168919 3.00083045,1.34118243",id:"Fill-48",fill:"#9CD4D8",mask:"url(#mask-2)"})),r.a.createElement("path",{d:"M9.77044983,26.5687162 C8.99651211,26.8307095 7.53309343,27.1908108 6.06892734,27.1908108 C4.04570242,27.1908108 2.58228374,26.6835473 1.56207612,25.7180743 C0.559058824,24.752973 0,23.3140541 0,21.6941554 C0.0160692042,18.0310811 2.69813149,15.9373649 6.33238754,15.9373649 C7.76292042,15.9373649 8.86608997,16.2157095 9.40833218,16.4609797 L8.88215917,18.4729392 C8.27414533,18.1934797 7.53309343,17.99875 6.31631834,17.99875 C4.2269481,17.99875 2.63198616,19.1596959 2.63198616,21.5633446 C2.63198616,23.8536486 4.07933564,25.1784797 6.13469896,25.1784797 C6.69450519,25.1784797 7.15453287,25.1130743 7.35184775,25.0313176 L7.35184775,22.7086824 L5.64178547,22.7086824 L5.64178547,20.7625 L9.77044983,20.7625 L9.77044983,26.5687162",id:"Fill-50",fill:"#4D4E4C"}),r.a.createElement("path",{d:"M16.614436,22.167973 C16.614436,21.5633446 16.3513495,20.5499324 15.1995986,20.5499324 C14.1468789,20.5499324 13.7204844,21.5150338 13.6539654,22.167973 L16.614436,22.167973 Z M13.670782,23.8692568 C13.7365536,24.9005068 14.7728304,25.3906757 15.9399031,25.3906757 C16.7949343,25.3906757 17.48591,25.2765878 18.1611903,25.0472973 L18.4896747,26.7322297 C17.666782,27.0756081 16.6641384,27.2391216 15.5781592,27.2391216 C12.8478893,27.2391216 11.2854394,25.6686486 11.2854394,23.1668919 C11.2854394,21.1389527 12.551917,18.8984459 15.3479585,18.8984459 C17.9470588,18.8984459 18.9332595,20.9104054 18.9332595,22.8885473 C18.9332595,23.3140541 18.8831834,23.6901351 18.8514187,23.8692568 L13.670782,23.8692568 Z",id:"Fill-51",fill:"#4D4E4C"}),r.a.createElement("path",{d:"M20.4318062,21.62875 C20.4318062,20.6316892 20.3989204,19.7977703 20.3660346,19.0775676 L22.536872,19.0775676 L22.6527197,20.1898311 L22.7024221,20.1898311 C23.0309066,19.6669595 23.836609,18.8984459 25.1856747,18.8984459 C26.829218,18.8984459 28.0635571,19.9936149 28.0635571,22.3493243 L28.0635571,27.0756081 L25.5634879,27.0756081 L25.5634879,22.6436486 C25.5634879,21.6127703 25.2021176,20.9104054 24.2973841,20.9104054 C23.606782,20.9104054 23.1949619,21.384223 23.0148374,21.8420608 C22.9483183,22.0055743 22.9322491,22.2341216 22.9322491,22.4630405 L22.9322491,27.0756081 L20.4318062,27.0756081 L20.4318062,21.62875",id:"Fill-52",fill:"#4D4E4C"}),r.a.createElement("path",{d:"M32.1937163,23.0680405 C32.1937163,24.4426689 32.7688443,25.4731757 33.8380069,25.4731757 C34.8253287,25.4731757 35.4337163,24.5080743 35.4337163,23.0520608 C35.4337163,21.8740203 34.9740623,20.6636486 33.8380069,20.6636486 C32.6544913,20.6636486 32.1937163,21.8914865 32.1937163,23.0680405 Z M38.0156263,22.9862838 C38.0156263,25.9139189 35.9266298,27.2551014 33.7729827,27.2551014 C31.4201522,27.2551014 29.6106851,25.7180743 29.6106851,23.1341892 C29.6106851,20.5324662 31.3218685,18.8809797 33.9213426,18.8809797 C36.3709619,18.8809797 38.0156263,20.5659122 38.0156263,22.9862838 Z",id:"Fill-53",fill:"#4D4E4C"}),r.a.createElement("path",{d:"M39.5635017,21.62875 C39.5635017,20.6316892 39.5313633,19.7977703 39.4977301,19.0775676 L41.6199862,19.0775676 L41.7182699,20.1563851 L41.7679723,20.1563851 C42.112526,19.6335135 42.8371349,18.8809797 44.2018962,18.8809797 C45.2546159,18.8809797 46.0603183,19.4216892 46.4063668,20.2556081 L46.4385052,20.2556081 C46.7512941,19.8301014 47.0973426,19.5027027 47.4915986,19.2741554 C47.9359308,19.0277703 48.4288443,18.8809797 49.0215363,18.8809797 C50.5671696,18.8809797 51.7342422,19.9612838 51.7342422,22.3653041 L51.7342422,27.0756081 L49.300692,27.0756081 L49.300692,22.7250338 C49.300692,21.5633446 48.9225052,20.8929392 48.1164291,20.8929392 C47.523737,20.8929392 47.129481,21.2861149 46.9493564,21.7603041 C46.899654,21.9397973 46.8656471,22.1858108 46.8656471,22.3976351 L46.8656471,27.0756081 L44.4317232,27.0756081 L44.4317232,22.5778716 C44.4317232,21.5793243 44.0707266,20.8929392 43.2646505,20.8929392 C42.6233772,20.8929392 42.2451903,21.384223 42.0968304,21.7762838 C42.0146159,21.9732432 41.9985467,22.2017905 41.9985467,22.4143581 L41.9985467,27.0756081 L39.5635017,27.0756081 L39.5635017,21.62875",id:"Fill-54",fill:"#4D4E4C"}),r.a.createElement("path",{d:"M53.711128,27.0756081 L56.2111972,27.0756081 L56.2111972,19.0775676 L53.711128,19.0775676 L53.711128,27.0756081 Z M56.2945329,16.8530405 C56.2945329,17.5397973 55.7836817,18.0961149 54.9450934,18.0961149 C54.1550865,18.0961149 53.6449827,17.5397973 53.6449827,16.8530405 C53.6449827,16.1503041 54.1715294,15.6107095 54.9776055,15.6107095 C55.7836817,15.6107095 56.2769689,16.1503041 56.2945329,16.8530405 Z",id:"Fill-55",fill:"#4D4E4C"}),r.a.createElement("path",{d:"M64.2551419,26.8630405 C63.8115571,27.0756081 62.9729689,27.2391216 62.0185329,27.2391216 C59.4194325,27.2391216 57.758699,25.6526689 57.758699,23.1509122 C57.758699,20.8115541 59.3708512,18.8984459 62.3630865,18.8984459 C63.0215502,18.8984459 63.7457855,19.0121622 64.2719585,19.20875 L63.8773287,21.0575676 C63.5821038,20.9263851 63.1370242,20.8115541 62.4785606,20.8115541 C61.1642491,20.8115541 60.3080969,21.7435811 60.3241661,23.0520608 C60.3241661,24.5080743 61.3107405,25.2925676 62.528263,25.2925676 C63.120955,25.2925676 63.5821038,25.1948311 63.959917,25.0313176 L64.2551419,26.8630405",id:"Fill-56",fill:"#4D4E4C"}),r.a.createElement("path",{d:"M65.6217716,24.9164865 C66.082173,25.1948311 67.0362353,25.5055068 67.7765398,25.5055068 C68.5336609,25.5055068 68.8453287,25.2602365 68.8453287,24.8510811 C68.8453287,24.4263176 68.5990588,24.2301014 67.6775087,23.9186824 C65.9999585,23.3627365 65.3590588,22.4630405 65.375128,21.5150338 C65.375128,20.0107095 66.6580484,18.8809797 68.6476401,18.8809797 C69.5856332,18.8809797 70.4081522,19.109527 70.9010657,19.3555405 L70.4735502,21.0735473 C70.1121799,20.8769595 69.4040138,20.6153378 68.7298547,20.6153378 C68.1210934,20.6153378 67.7765398,20.8609797 67.7765398,21.2526689 C67.7765398,21.6447297 68.088955,21.8420608 69.0755294,22.1858108 C70.6054671,22.7086824 71.2302976,23.4935473 71.2467405,24.6556081 C71.2467405,26.1603041 70.0785467,27.2551014 67.7765398,27.2551014 C66.7241938,27.2551014 65.785827,27.0102027 65.1770657,26.6835473 L65.6217716,24.9164865",id:"Fill-57",fill:"#4D4E4C"}),r.a.createElement("path",{d:"M35.0316895,36.2496052 C34.3606662,36.4518133 33.7862382,36.5529159 33.3083883,36.5529159 C32.4950268,36.5529159 31.8316387,36.2841516 31.3182042,35.7466149 C30.8047698,35.2090781 30.5480564,34.5123129 30.5480564,33.6562983 C30.5480564,32.8238746 30.7742692,32.1414323 31.2267015,31.6089508 C31.6791339,31.0764692 32.2577981,30.8102325 32.9627114,30.8102325 C33.6303457,30.8102325 34.1463142,31.0461385 34.5106324,31.5179575 C34.8749506,31.9897766 35.0571069,32.6604237 35.0571069,33.5299188 L35.0520234,33.8382847 L31.5698367,33.8382847 C31.715564,35.1425275 32.3577711,35.7946391 33.4964772,35.7946391 C33.913325,35.7946391 34.4250573,35.6834262 35.0316895,35.4609972 L35.0316895,36.2496052 Z M31.6155881,33.0901182 L34.050577,33.0901182 C34.050577,32.068967 33.667625,31.558399 32.9017096,31.558399 C32.1324051,31.558399 31.7037022,32.068967 31.6155881,33.0901182 Z M36.8153878,36.4265364 L36.8153878,30.936612 L37.8168342,30.936612 L37.8168342,31.9678685 C38.3455192,31.1994774 38.9928097,30.8152877 39.7587252,30.8152877 C40.2365751,30.8152877 40.6178326,30.966099 40.9025091,31.2677262 C41.1871857,31.5693534 41.3295218,31.9746062 41.3295218,32.4834968 L41.3295218,36.4265364 L40.3280754,36.4265364 L40.3280754,32.8070282 C40.3280754,32.3992417 40.2679214,32.1085718 40.1476117,31.9350098 C40.027302,31.7614478 39.8282008,31.6746681 39.5503023,31.6746681 C38.9368921,31.6746681 38.3590752,32.0740233 37.8168342,32.8727455 L37.8168342,36.4265364 L36.8153878,36.4265364 Z M43.3267264,38.2514561 L43.4436465,37.3870205 C44.0231666,37.6600015 44.5942057,37.79649 45.1567807,37.79649 C46.2853199,37.79649 46.849581,37.2016698 46.849581,36.0120118 L46.849581,35.1475761 C46.4801793,35.9159672 45.8735562,36.300157 45.0296936,36.300157 C44.3688374,36.300157 43.8435492,36.0608809 43.4538135,35.5823215 C43.0640778,35.1037622 42.8692128,34.4583908 42.8692128,33.6461879 C42.8692128,32.8103942 43.0911894,32.1296368 43.5351493,31.6038956 C43.9791091,31.0781543 44.5535371,30.8152877 45.2584504,30.8152877 C45.8752496,30.8152877 46.4056211,31.064674 46.849581,31.5634542 L46.849581,30.936612 L47.8561109,30.936612 L47.8561109,34.9302034 C47.8561109,35.7895882 47.8112072,36.4256918 47.7213985,36.8385335 C47.6315899,37.2513752 47.4629893,37.5892263 47.2155919,37.8520969 C46.77841,38.3138056 46.0989244,38.5446565 45.1771147,38.5446565 C44.5332034,38.5446565 43.9164135,38.446924 43.3267264,38.2514561 Z M46.849581,34.5257891 L46.849581,32.2459033 C46.4090102,31.7909349 45.9294729,31.5634542 45.4109549,31.5634542 C44.9500501,31.5634542 44.5891263,31.7471238 44.3281728,32.1144687 C44.0672193,32.4818135 43.9367445,32.9856413 43.9367445,33.6259672 C43.9367445,34.8291059 44.3620584,35.4306662 45.2126991,35.4306662 C45.7922192,35.4306662 46.337841,35.1290435 46.849581,34.5257891 Z M49.8278981,36.4265364 L49.8278981,28.4444087 L50.8293445,28.4444087 L50.8293445,36.4265364 L49.8278981,36.4265364 Z M55.7139681,35.7289217 C55.114114,36.2782539 54.5362971,36.5529159 53.9805,36.5529159 C53.5229841,36.5529159 53.1434211,36.4105298 52.8417995,36.1257533 C52.5401779,35.8409768 52.3893694,35.4812201 52.3893694,35.0464725 C52.3893694,34.4465883 52.6426939,33.9857291 53.1493503,33.6638811 C53.6560068,33.3420331 54.3820905,33.1811115 55.3276233,33.1811115 L55.5665471,33.1811115 L55.5665471,32.518883 C55.5665471,31.8819273 55.2378184,31.5634542 54.5803511,31.5634542 C54.0516661,31.5634542 53.4806271,31.7252183 52.8672169,32.0487514 L52.8672169,31.2247572 C53.5416292,30.9517761 54.1736694,30.8152877 54.7633566,30.8152877 C55.3801557,30.8152877 55.835123,30.9534612 56.1282721,31.2298123 C56.4214212,31.5061635 56.5679935,31.9358494 56.5679935,32.518883 L56.5679935,35.0060311 C56.5679935,35.5755841 56.7442192,35.8603564 57.0966759,35.8603564 C57.1407329,35.8603564 57.2051231,35.8536162 57.2898483,35.8401357 L57.361017,36.3911502 C57.1339536,36.4989945 56.8831709,36.5529159 56.6086614,36.5529159 C56.1409785,36.5529159 55.8427504,36.2782539 55.7139681,35.7289217 Z M55.5665471,35.1880176 L55.5665471,33.7675122 L55.2310371,33.7574019 C54.6820181,33.7574019 54.2380649,33.861032 53.8991642,34.0682954 C53.5602636,34.2755588 53.3908158,34.5476932 53.3908158,34.8847068 C53.3908158,35.1239865 53.4755397,35.3261916 53.64499,35.4913283 C53.8144404,35.656465 54.0211667,35.7390321 54.2651751,35.7390321 C54.6820229,35.7390321 55.1158092,35.5553624 55.5665471,35.1880176 Z M58.6465338,36.4265364 L58.6465338,30.936612 L59.6479802,30.936612 L59.6479802,31.9678685 C60.1766652,31.1994774 60.8239558,30.8152877 61.5898712,30.8152877 C62.0677211,30.8152877 62.4489786,30.966099 62.7336552,31.2677262 C63.0183317,31.5693534 63.1606679,31.9746062 63.1606679,32.4834968 L63.1606679,36.4265364 L62.1592215,36.4265364 L62.1592215,32.8070282 C62.1592215,32.3992417 62.0990675,32.1085718 61.9787578,31.9350098 C61.858448,31.7614478 61.6593469,31.6746681 61.3814484,31.6746681 C60.7680382,31.6746681 60.1902213,32.0740233 59.6479802,32.8727455 L59.6479802,36.4265364 L58.6465338,36.4265364 Z M68.6807271,36.4265364 L68.6807271,35.3952799 C68.2740463,36.1670411 67.6606453,36.5529159 66.8405058,36.5529159 C66.1762605,36.5529159 65.6535141,36.3119548 65.2722509,35.8300253 C64.8909876,35.3480958 64.7003589,34.6892441 64.7003589,33.8534503 C64.7003589,32.9401434 64.9164048,32.2054647 65.3485031,31.6493922 C65.7806015,31.0933197 66.3490988,30.8152877 67.0540121,30.8152877 C67.7080904,30.8152877 68.2503233,31.064674 68.6807271,31.5634542 L68.6807271,28.4444087 L69.687257,28.4444087 L69.687257,36.4265364 L68.6807271,36.4265364 Z M68.6807271,32.2459033 C68.1622091,31.7909349 67.6708105,31.5634542 67.2065166,31.5634542 C66.2474278,31.5634542 65.7678906,32.2930777 65.7678906,33.7523467 C65.7678906,35.0363686 66.194899,35.6783699 67.0489286,35.6783699 C67.6047257,35.6783699 68.1486531,35.3767473 68.6807271,34.7734929 L68.6807271,32.2459033 Z",id:"england",fill:"#2FB6BD"}))))))},mb=function(){return r.a.createElement("svg",{width:"60px",height:"45px",viewBox:"0 0 60 45","aria-labelledby":"nhsTitle",role:"img"},r.a.createElement("title",{id:"nhsTitle"},"NHS England"),r.a.createElement("defs",null,r.a.createElement("rect",{id:"nhs-path-1",x:"0.740740741",y:"0",width:"59.2592593",height:"23.7037037"})),r.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{transform:"translate(-1340.000000, -21.000000)"},r.a.createElement("g",{transform:"translate(1340.000000, 21.000000)"},r.a.createElement("mask",{id:"nhs-mask-2",fill:"white"},r.a.createElement("use",{xlinkHref:"#nhs-path-1"})),r.a.createElement("rect",{stroke:"#979797",strokeWidth:"0.740740741",x:"1.11111111",y:"0.37037037",width:"58.5185185",height:"22.962963"}),r.a.createElement("image",{mask:"url(#nhs-mask-2)",x:"-43.7037037",y:"-17.037037",width:"148.148148",height:"78.5185185",xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYYAAADPCAIAAAB+wuGiAAAABGdBTUEAALGOGCHvlwAAINJJREFUeAHtXQmUFUWWZacoqtj3fd8p9kXl4MZRG1uk3bFttx5txuMozag93eO4tY0epwfXsdVjqwiu2C6oDLgAKtjsOwjIDrIVUEBBFVVsc/VLVlRk/syX/2d+4v+8HI5GREa8eHHj5yXixYuXFU+dOlWBf4gAESACZiBQyQw1qAURIAJE4EcESEn8HRABImAQAqQkgyaDqhABIkBK4m+ACBABgxAgJRk0GVSFCBABUhJ/A0SACBiEACnJoMmgKkSACJCS+BsgAkTAIARISQZNBlUhAkSAlMTfABEgAgYhQEoyaDKoChEgAqQk/gaIABEwCAFSkkGTQVWIABEgJfE3QASIgEEIkJIMmgyqQgSIACmJvwEiQAQMQoCUZNBkUBUiQARISfwNEAEiYBACpCSDJoOqEAEiQErib4AIEAGDECAlGTQZVIUIEAFSEn8DRIAIGIQAKcmgyaAqRIAIkJL4GyACRMAgBEhJBk0GVSECRICUxN8AESACBiFASjJoMqgKESACpCT+BogAETAIAVKSQZNBVYgAESAl8TdABIiAQQiQkgyaDKpCBIgAKYm/ASJABAxCgJRk0GRQFSJABEhJ/A0QASJgEAKkJIMmg6oQASJASuJvgAgQAYMQICUZNBlUhQgQAVISfwNEgAgYhAApyaDJoCpEgAiQkvgbIAJEwCAESEkGTQZVIQJEgJTE3wARIAIGIUBKMmgyqAoRIAJVCEGoCFS8aXqo8ik89QicmnBx6juNTo9cJUVnrjlSIpAGCJCS0mCSqCIRiA4CpKTozDVHSgTSAAFSUhpMElUkAtFBgObt6Mx1tEbatmGNPq1r9WyR07pBjZb1shrmVquTXSWrauWsapVKjp0sLj1x4lSFwuLjR4+d3HWw5Ke/pTsKjq7bVbTyh8N7C0ujBZZJoyUlGTQbW8af26p+li+F/uWVVX//aruvJmd3rDPn/kGeTd6dv+va/11mVbt1aPO//7aHlXVJ/HL84k+X5btU0B5NGdP3sj4NtUJ7tvT4ydzffYn/2h9ZJTWqVR6e12Bkv0bnd63XvG58JGtYLZwTm/KLZ68r+GRpPgZypOSEcyWWhoMAKSkcXP1LbVK7ul8+QieX9W7ol5L6t6kt0W7BxoNqtYHtRK3QZMGmcg1VIY7pAe1qOZZrhcu2FbrwEaAbc3Gb3w5tXqtGAD9prLDw9zfnNCs8erzLH2bvOFCiKcNseAgEMH/hKRcpyYM7SN95FZZh3etXr1KpxHXtoNZHun9bEQXM3VCOWQa0Fam3bf/RPYd87HqwlgEXaxo6ZjWKtOqAgx4c2f7OYa2qVQneMLqjoIR8ZEGdmgQpKTU4e/cyqF0d70q2GjWrV8YmZdqKvbYncQsGCNY7J06eWrz5kCUCG6K8lrlW1iUxrzyRudSMPZIvvuaXX7XFmp/Tsc6k0XltGnjtxDz1iFNh8oJdcZ6wOCwEgv+HJSxNM12u/OXUkLi0t7chxmqSm1Wlc5OaVjZeYsX2w0WlZTaUXi1zq1SuGK+yWr4wnF0burBT0qjBTWf+cWB4fIROP1y0Rx0d0ylAgJSUApC9u6hUsWLClARzkncHp2v0aZ1bUcAt8zYcON3ix//LdfNtSJLtBw8fPbF2Z5Gq0lUDGr8xOq+qjCjVhvL0xvziRcpSUd6QNZNBgJSUDHqBte3WvGZOVuXExOGQu2cL0a4K8oXkou2/BrUXGZJOnaqwYGPZds9zOCDH/jJKAtOdhPTTf3q3yp34uzwJt55ukcj/J8/nri0R3JJsQ0pKEsBgmg9un4ghyer70t4NrLR7QkgB2i5JYn5Cv+t2HcERlbsC6tMOjbLhK6SWxEur+mBl9NptPbOqhv7T/ceC3fH0YXl4CIQ+r+GpnkmShYuXeEO+rHejeI+08n5tvI/bsEv6bscRqyFYo2PjbCvrklCJw6Wa9Ug+avW47aYhzXu1kq4Krb78JnB0uHBzuTNHvxJYPzEERP9GJSaareQICHdG8QTCgaBBbjVPn+N6Nat2EJALmEXdJQmXSNDNLyUJl2yqZGzW/nBp23g4OJZv3Xd0xup9MNhv33903+FjMNvDdRsnlVUrV6qfUxUOTZ2b1sTOF8NULVPYtSk7RUfBLAwFAVJSKLD6EgorUo8WOb6aaJVhHf9FXoOJc3Zo5Vq2n8wjSWMW+Vpm4SYfhiToJpS8+2Ap1iyxsaCJhFVjlZduLRz75pqZ3+3XcHDMYhaGdq53ed9GowY3wbnk5PnctTniFHohKSl0iD07gDs1OMWzmnsFnLt5U5Jg14Ze5m0sd9wmdJI8fuLU0q0+KAleBTj+cx9U7KlKkSP6SLeoczccOP+xBbjCJukCdbBdnbosH3/BYr/q11jtVCiB1QJBgLakQGBMSkiSu7ZY3xf3bKDuOxwVEpKLdtwmXMss31Yof/+hXrdmOfDAdNRTK1QpUqgMJIx9c60vfaxOcalt0rc71K2r9YiJFCBASkoByB5dyF8zF0G4VzGkU12XCngksQrB4LJTudKFCx9N68gufPh0kpQTsbofFO5w4X3OZY77j8HYp6SkMz81Z3VIygPAGoD7pgbRORCjw6ocL6FdbUuMOOIJV8vltm31uE14IQ774MqVkt0Lq9oynTIESEkpg9q5oxb1RMuQg8Xe/j6/dHXjliyRoKLmfi3c66Gh31XJAJmtff3uov1HjsWwqy2+5Q/b3AhBwBPnKWHpGUWAlHRG4a9QYbDMMfqvUzd7KoqjqE7x768JAwBohiRh5BCcrK/64bCnhlYFWJGEHucqRfo6A3j2N11d0LA0YcI0BEhJZ3hGJIakA0XHn/tiyzGEQfT64xILTRImCTZd9d4s1hrCVdLSLYUw33hpV/Zcfo9XXXz5Mldjizf/ocG3n9ci+dPMMr2ZCh8BUlL4GLv2MEhwlQQ0AVb6ao23f43LFVwJ963cflgNotipSbYwIto8p8ghLuOWKBNrrlGS5aDkItx6hI3ei7d0XznunBvPaYaoUlY5EyYjQL+kMzk78M2R7Kdi99GnLNmDgG3u6p7TsS7uf4C/tGo4OGtcu5pWaM/adm2i27aQM6x7vQ/v7mMXGK+kpyz6ElZeS7YUqkLmrCu4bnBTtcQz3bVZzQm39/yfUZ1f+fqHF2duw/1+zyascAYRICWdQfAr9Gieky3wzTlNSfnP3NDVXV1w3CV5Dd+eu1OrJrnahibqkgTZQYJgb7GOYBgS2oY0xdyzuAWCyx9qnfcX7fFLSbHmuHBz36Vt7x3e9vNV+/42Y+uUxfn0PFKBNSfN1eyZnAvJrg36LfrJ5WfL3mK4I3qqe2kvh6gAwrN8bZUkP6f31CqxChpFQsgHi3Zv2FMucJIvyTCQX9Sj/gd39Vn3xBCYmYRx6Xx1wcpJIkBKShLApJpLTCq4TGvtNT5a7B3kcHivhnaXHMkqCVak1TvKTs3gCy688JEUBK6NVY+kWEVcW/m3id+5NhI9bN8o+0cz01/Ogde7qAErpQoBUlKqkHbqR+IkqQY2/HiJ98eIcN0fn0XSepNQEozo6qlZ71a1wgiwrynmnrWvklD//5bv/fNHG9wbCp8iBsC0e/r97aZuwqstQrGslgwCpKRk0EuqLQ6zujT1DoOtUhIi+Eg+mHFpr3Khb/H9H1hSPHXVdm1C10pPsQlXcPF1euD99Y9OCYaVoN7oC1rO/I8Bcj/MhEfEhhIESEkSlEKpg12bxPdPpSRE8MH3Dj210VwBhCYhbUki9K72VCbhCvhEirpq0+T81z/WX/HMUsQt0coTy8LWNv3e/pKjhsTks5UcAVKSHKuAa0oMSehSY4opAnNSt+Y5WBlZ6kp2bais3W4Tqmf1EnhCG7hdPkzdXf84+5nPRU6k9uZaCVjpyV930QqZTT0CpKTUY/5zj5J421gF4Gq+quKXq/ep3ozqIzWt3neTkAv2gz8UlHWEGGZdmyUVVU5VJrH0AkFAuIIjx+6etKbDvV8/NX2Lr7DfjirhDE6ClWNbFgaFACkpKCR9y5EczC+yhX/GpYrPV+7z7MyKxo29oWSVpH0lCU0km0qoAYsPrgTL/0quxcRGN7/8h5tchoxQtr9/c03zu7/61wmr1S9iujSJ9+g/R7SL94jlqUGArpKpwVnvBR9EbFTL2+SsGpIsER8t2TOyn0dwxXO71MVKBwsHfAVEcilE2yUNlF0GhkrnjVug3oy1lIyXmH3/IHyiNt5Tq1x1fbAK3RMY7AsztuEv+BQW61+f1TSBc7TheQ1xZGnFHnDvkU/DQICrpDBQ9ZYpWSJBihq9zBL66VJvz2Oc38dunwh3Ivpxm+zzaqXHTy4TeG9amsNhSujrtDCJbzqCx297ZVWLMV89/OEGSVAXSz0k4Dx5Qbd6agnTKUaAlJRiwH/uTui3rS1eYo3zC0vnrvf+nk8sYFA/Abn8FACgXNhsIWOCj8BKcgS7yy7QQOD8Dd4DdO8XK52HPljf8d5vcDfQvab2FA5ZWgmzqUSAlJRKtMv6koRJgsl518GSsjZKCns3JeechBs34nL0F3wCAF9tU23DuKAriT+JXu3e1c6qnC4VLtlQ3ZGLT4vx8X/Q98inl+BUTt6mWV1RYF+5QNb0hQApyRdcwVT+6a6G9z/Fi+IfOUlcAWCrwmJH8qGkuesT+SQJsPBLHHL3S7+SXSYGzlz//tba1eIIc3Wzq7pI46OwESAlhY2wg3x8rFXy/WiXr62u2Xnk+93et0/vHd5G4v6nvf/CXRsGpjV0GGr5IqH7JS4YY3VTvmlSOdyMe+OfenSEeBJxhhjvEctTgAApKQUg610MbOd95IQ2jrZtS5ZkoYTvkVn1XRIaswgjSeLDZ2t3etOi1S/Ov/JkYZI0fSwJySQkF3Fi8v1axJPRim3tCJCS7JiEXiIxJEEJd0vNx4KbJZKRYFGwsvymRri9wtm/r5BDOGuzhyhw1FDiJOnY0KWwudhClH8oyAWai0p85IgAKckRlnALJTsjRHR137zMXlcQiPsMfAuxr7EGjG8KwDHHyrok/K5lhIsv9OhXsouSsUdw+7yyv2jBiPr4bLenQFYIDwFSUnjYOkuuW7Oq5MsZalh+R0G4kiq5guvYVi3UrrYJ7+hCgqeGai9IC4/bsPLSfNYR0ijJyNm/v7hNn9be5wkxhX15fmpjZDZ5BEhJyWPoT4LwzXT029Z6+ljgCqA1sWe1JYlQPcjRvCvtkrUSoWR4JMBKZbWF6/mUMX22jD/3z1d2gMu7VS5MwLr/xLWdEHhbWB9rRu1SobAhqwWFAC+UBIWkVI5k1wZZGlM4Sp++Yh88FZMMtKZ5AAjjbeM+sK+PhWBtiC2h4yi0Qm3gv8hrgAHCVer+Ee3xF5SBteGsNfth+1d9qTQhaAKcEaTlpiHNJRd3rOYTv91hpZk4IwiQklINuyQAAHRycUqyNMY7OfO7/cmEatWYBdcphBc+/O5uhMf/GJpGSSP7lrvN17dNLfx9oEJ7eBuBEzflF+0+VFpcehJQ1KxeGQ5fse+MY2ucQFztfYePvfzVdgteJs4IAqSkVMMu2b9syi8Wmq6nLMlPhpLmbSznJIkLH8Krqn53bcJTPEyGes4IExJ80B1nCBbrVvWz8NfxaWKFD36wXt0zJiaErZJEgLakJAH01xybl/o53udZEkNSrGO/F7g0dTVmkdBlTEJItm2EXlG/wnJ+13qSMAbaoBLLfrZy3/Nfbk2sLVsFiAApKUAwvUUJ33n5Cw9b7JIt5W7Meiuh1NB2SUL1IEBrqIh0TgolL9taqAZU8ozB4tyZ/9JVPxy+4YXl2AzyzxlHgJSU0imQfJIECvmy1GDvltgY8AZqzCIkjvW7i4T7yphi+NZuk9qiu6yqPrgzfHl5Q1Jiw/Rshetvl/x1kbsXmKcQVggKAVJSUEiK5AjfeYlt2+pP8nE3q7KawEW5Q8Vln+rGeTlsSWqFeGn5Ii4mQXjIiMpqcEu0EhJZPD0l5e8v3D34kXk8+JdglZo6NG+nBucfe4GxtnerXM/+sAbxdc1q6dYfXWla1PNt6FXff2gV3oUPud+2GrntV16RMz2RdK+w80DJ2LfW2j9W7t6KT8NGgKuksBEuk9+7da7Eh0hu246Jxv4rMSP3vI3lwqQJo8qhU43LykYYJzWgnchzGkS8btcRS4Zwk2vVlyfA4IjV3f7eb8hHctBSVpOrpJRBXWGQLACAL0NSTHuYk+64sJXfkajH7WgrdB3CRZYlW3zcAsNpvXCVBH1UA/PQcfN7tsiFi8MlPRsM7lBbEmXFHQF8zgRfyn3znzunrdjr8oU4dyF8GjYCpKSwES6TvzG/CNGgy/JxUpKoI1rTWd/tl0jWWmlhs2etKVi7yzvYCF5sXxGFcqpXeXK6KKijtvgCPcEhAH//e+omhBDAl4FhiUOo/y7NarZrmI24l57OkHBtX7vryKrthxFaYM73BXD4JhNpvwEDsxVPqf8wGahgmqtU8abpaT4CQ9UHH7WomwVf7drZVepkV8nJ+vkf16KSEweKjhUcOQ7f7t2HSsL4dZ+acLGhoGSEWlwlZcQ0Rm8QCKiyeW8x/kZv6Bk+Ypq3M3yCOTwikF4IkJLSa76oLRHIcARISRk+wRweEUgvBGhLCne+Yt93DLcPSicCGYQAT9wyaDI5FCKQ/ghw45b+c8gREIEMQoCUlEGTyaEQgfRHgJSU/nPIERCBDEKAlJRBk8mhEIH0R4CUlP5zyBEQgQxCgJSUQZPJoRCB9EeAlJT+c8gREIEMQoCUlEGTyaEQgfRHgJSU/nPIERCBDEKAlJRBk8mhEIH0R4CUlP5zyBEQgQxCgJSUQZPJoRCB9EeAlJT+c8gREIEMQoCUlEGTyaEQgfRHgPGS0n8Oz+gIbrvttj179lgqtGvX7sknn7Sy6Z7YtGnTmDFj1FFcd911o0aNUkuYDhYBUlKweEZO2meffbZ161Zr2Hl5eVY6AxIHDhyYMmWKOpDevXurWaYDR4CUFDik5QTu27fvkUceKVckyNx5550dO3YUVGQVIpBpCJCSwp3RQ4cOPfPMM377GDlyJCnJL2isnxkI0LydGfPIURCBDEGAlJQhE8lhEIHMQICUlBnzyFEQgQxBgLakVE9ks2bNZs+e7d5rkyZN3CvwKRHIVARISame2SpVqrRt2zbVvbI/IpAmCJCS0mSi4qsJP4OFCxfu2LEjOzsby6tu3bo1bNgwfnX9SXFx8eLFizdv3lxaWlqtWjU079Onj14puHxJScnq1avXr1+/f//+o0eP1qpVq0GDBvBmat26dcKdQCaGsHHjxpMnTzZq1KhNmzadO3eWSwMCS5cuhXdVUVERMOzRo0f37t3lzVkzYARO8U+YCOA90SasVatWfjt899130Ur9g/cHQubOnXvJJZdo8pFFId4xz17AYrfffjteQk1Chw4dJk2ahOYrV65UO0X622+/1cSiUG0OctEqxLLbt29//PHHhw4dikWiWt9Kt2jR4k9/+hN4yrE5CjVNgAkK4Th+11135eTkWHJiCQzhlVdeiSfKKsfs3HzzzXYE4IP+8ssvoxqYTpP8wAMPWM2ZCAOBCmEIpUwLgUAoCW+X9mJA7EMPPVSpUtzTCax3PvzwQ0sNe2LatGl16tTRxKpZvKtYfKklSM+YMUMTJaEkaOKiqtoFDG3xyFSthjQw+frrr7Em0srV7I033qhpq2bffvttOxmpzYcPH263+pGSVAzDSJOSwkC1TGZIlAS+UF8ex3RWVtaaNWvKVFFSeJnx1LGVWmhfgiVGSVjRqGLd02AZrH0UZX9Oaq3g4C4ZwhNPPGEXhRJcE5GwZKdOnbR+SUmOeAZYGPefWW0mmDUKgddee81TH1hq8P7Yqx08eBB3R/HU/kgrwUpKK0ksq23WsM/C/u688847++yzYUvSZIKPHNXWqj333HOSIeA2T2FhodYW1jdwOgxPWrk9u27dOnshS0JFgJQUKrwOwnft2nWu659vvvnGoZlTERYUL730EuxKeI1nzZqFN1yrhR1TQUGBVjhu3DhYkbRCXGH54osvoBukvf7667DsaBWSycZsPdglYWkD+xfusi5btmzmzJlz5syB8QgbKI2YYMk6duyYpEesdGBLwl4PcmD5uueee7RWhw8ffu+997TC8ePHo75WCDvXJ598glUtNLz//vvt9imtPrNhIRDgioui7AjYN26eE/n+++9rcuy2JAgBH8WM3FZlvH52Kpk6dapVAQmsLOwmJLyBah2kwXGakSimdmIbN7SCWWfv3r1aL1YW1KnBMn/+fOtpLKFViGXtNuw77rhDq2m3KNlRAiMfP35c7RHHgnagIJkbNxWlMNJcJWk/4LTJ4p/6li1bqurWrFkTJ2hqCdJYO6gl2IthkaKWINoGLOVqCdJwI0jgtrAmxMpiATJhwoT69etbJVri8ssvh2FbLVy+fLmadUyPGDHilltu0R5p4Y3wFOSi1pk3bx6O/9QSLIhwvla5cmW1sGvXrliBqiVMpwYBUlJqcA64F/gfXXPNNXahgwcP1gq1HQr2d1qFsWPHam9jrIKdJrSG8qyjfK05vIHUEk1t9ZGVxpbNSlsJRFCoV6+elUUCqzM1i/WXmkUaljVHurz66qvt5m2tLbOBI+DsJBJ4NxSoIqCZTtRHSOP8XiuxZy+66KKqVavay+F2qBXC/U8tsTva4KhbraCmL7jgAph11JIk0zGfRjg3wVUSdivVwKwti7AJde8LliksvhzrYMGlMpraC+priyaUAExHOSi84oor4E4V7ynLw0CAlBQGqm4yYaPZsmWLWw3BM21NYbVwJztUg/nJqowEDFKOC4RYHXgMqpWTSa9YseKpp56CmUzbNiYss0uXLo6kDIHup/swk2mdQpRWYmX79u1rpZlIDQKkpNTgHHAvoBJHie5vI5pojKDtcTSZjvZdrY4k+/TTT2N7qK1WJA1d6thN1C6V1UcIqqdmkbYvLa0KLo+sOkwEiwApKVg8UyTNczUUTw/NRcjdtQe33uLJkZfDsG03OaM59qewiFmsh+WbRpfyLnzV1BBA20CG6UsHVnZBgOZtF3Ay8JHGZSAC2HfijVPb5cWr5lIOt0y7ERpuijAnwVqEDSwclGJ/YLdykRPgIw0BSLZ7aVnduTyy6jARLAKkpGDxNF0absmrKmIzBachtURN2w+n1KeSNNwUtY0STtZfffXVs846S7MEpezl17wNMAq7yd8amssjqw4TwSJASgoWT9Ol2T9q9MILLzgqvXbtWvu1W8eaLoUaqcG0j+++2evDxTxlL78dARjd7SrFSrQvJsWrxvIAESAlBQhmGogaNmyYpiXeuk8//VQrPHHihH3DpdWRZLUlEmKGOLbC0illBh37tRusExcsWGBXbPLkyXBWsJezJFQESEmhwmuccPjg2E/Z4HX51ltvgYZi6u7cuRPeg/hmZPLaaydWcCU/cuSIJha2pEcffVQrDC+L6G52F4obbrghPz9f7RSLRPvdFLUC0yEhQEoKCdi4YmEzru3154033ojbPrkHsODYlz9wp7z++uthZrrwwgsHDBiA83X7VdXEutX8euAThFsgixYtit2q3b1792OPPYZli90xMtTTN/u1G9z4x8WaZ599FsslXAZ++OGHBw4cqLl9J4YAW/lFgE4AfhELoL62nbFLDHUXc9999+HyPUIpaf3i5pd2+QskhQC4WjVfWXg/43a+6kuNXVL//v3hP4VoR6pnOdZuajVfvfitDEp6/vnnNQRgX7eTtV/JrJ88AlwlJY9hmkmoUaMG7EeerobYyyCWSJJjw3LQ8fIqTvpUPsJiSrv6G+oqqXr16vaIKI4jRSRyx3IWhocAKSk8bM2VjLupOE2DwchRRbgvIkDaxIkT7csW98iwjtKuvPJKvP+WS6S9DsxbCNWkeSeEvWnq1asX1muOAVgsDRFUExGUrCwTqUGAG7dwccb2JN7tUJeO4dasPkVWE6KZja3KcInWDrnjrYYaN24MkzbCuWHFhAP42KoE91TQEYIH5ebmQqZ912b3M0TsAZVNHM/Urr32WsSQxF4J3GTFacTebciQIViI4cI9+sJFM5iZrIHYLdAaAvYKVlvtzprdESlWs1+/friCixgsCFmnbeIwKHicQ21EpNT6VQdr9chEgAhURBCmAMVRVCYh0L59ezUEHUgEdmjs+5IZI/y5YxdfwZVJikpGDa0tQt+Cf2HjwzIQAUnq1q2rVWA2ZQiQklIGdZp1hIMnrGJUpWFYWbVqlVrCNBEIHAHakgKHNA0EYqmC7ym6KIqLb/Y41i5xhVxE8RER8IUAKckXXBlSGZ8nw77pwQcf/P777+1D2rZtG8w6iIqvPbr11lu1EmaJQOAIcOMWOKRpIPDFF18cPXp0TFHEacMGDSZhHIrByoOTOMTnRmx8bRjw8H7nnXe0QmaJQOAI8MQtcEjTQKAaWREGbNWG7ag9DsvhFuD4iIVEIFgEuHELFs/0kOYrEgjO9eE3hG+WpMfYqGWaI0BKSvMJTEh9ONdInB7hVIUAtfBagmtlQv2wERHwjQBtSb4hy4wGuJGPu/74hhI+FYsQHNjKxexHoCEQFu6gwrnxqquucvlYQGbgwFGYhgApybQZoT5EINIIcOMW6enn4ImAaQiQkkybEepDBCKNACkp0tPPwRMB0xAgJZk2I9SHCEQaAVJSpKefgycCpiFASjJtRqgPEYg0AqSkSE8/B08ETEOAlGTajFAfIhBpBEhJkZ5+Dp4ImIYAKcm0GaE+RCDSCJCSIj39HDwRMA0BUpJpM0J9iECkESAlRXr6OXgiYBoCpCTTZoT6EIFII0BKivT0c/BEwDQESEmmzQj1IQKRRoCUFOnp5+CJgGkIkJJMmxHqQwQijQApKdLTz8ETAdMQICWZNiPUhwhEGgFSUqSnn4MnAqYhQEoybUaoDxGINAKkpEhPPwdPBExDgJRk2oxQHyIQaQRISZGefg6eCJiGACnJtBmhPkQg0giQkiI9/Rw8ETANAVKSaTNCfYhApBEgJUV6+jl4ImAaAqQk02aE+hCBSCNASor09HPwRMA0BEhJps0I9SECkUaAlBTp6efgiYBpCJCSTJsR6kMEIo0AKSnS08/BEwHTECAlmTYj1IcIRBoBUlKkp5+DJwKmIUBKMm1GqA8RiDQCpKRITz8HTwRMQ4CUZNqMUB8iEGkESEmRnn4OngiYhgApybQZoT5EINIIkJIiPf0cPBEwDYH/B7O0aC0z25GNAAAAAElFTkSuQmCC"}),r.a.createElement("path",{d:"M1.07783565,41.1481481 L1.07783565,30.5434028 L8.94097222,30.5434028 L8.94097222,32.3373843 L3.21903935,32.3373843 L3.21903935,34.6883681 L8.54311343,34.6883681 L8.54311343,36.4751157 L3.21903935,36.4751157 L3.21903935,39.3614005 L9.14351852,39.3614005 L9.14351852,41.1481481 L1.07783565,41.1481481 Z M18.0807292,41.1481481 L16.0480324,41.1481481 L16.0480324,37.2274306 C16.0480324,36.3979511 16.0046301,35.8614499 15.9178241,35.6179109 C15.8310181,35.3743719 15.6899605,35.1850894 15.494647,35.0500579 C15.2993335,34.9150263 15.0642375,34.8475116 14.7893519,34.8475116 C14.4373053,34.8475116 14.1214327,34.9439612 13.8417245,35.1368634 C13.5620164,35.3297656 13.3703227,35.5853572 13.2666377,35.9036458 C13.1629528,36.2219345 13.1111111,36.8102773 13.1111111,37.6686921 L13.1111111,41.1481481 L11.0784144,41.1481481 L11.0784144,33.4658565 L12.9664352,33.4658565 L12.9664352,34.5943287 C13.6367703,33.7262688 14.4807048,33.2922454 15.4982639,33.2922454 C15.9467615,33.2922454 16.3566725,33.373022 16.7280093,33.5345775 C17.099346,33.6961331 17.3802556,33.9022943 17.5707465,34.1530671 C17.7612375,34.40384 17.8938557,34.6883665 17.9686053,35.0066551 C18.0433549,35.3249437 18.0807292,35.7806683 18.0807292,36.3738426 L18.0807292,41.1481481 Z M20.1024306,41.6545139 L22.4244792,41.9366319 C22.4630596,42.206695 22.5522755,42.3923606 22.6921296,42.4936343 C22.8850318,42.6383109 23.1888482,42.7106481 23.603588,42.7106481 C24.134069,42.7106481 24.5319238,42.6310772 24.7971644,42.4719329 C24.9755989,42.3658367 25.1106284,42.1946385 25.2022569,41.9583333 C25.2649502,41.7895439 25.2962963,41.4784938 25.2962963,41.0251736 L25.2962963,39.9039352 C24.6886544,40.7334146 23.9218796,41.1481481 22.9959491,41.1481481 C21.9639223,41.1481481 21.1465115,40.7117135 20.5436921,39.838831 C20.0710817,39.1492057 19.8347801,38.2908037 19.8347801,37.2635995 C19.8347801,35.9759774 20.1446246,34.9921909 20.7643229,34.3122106 C21.3840212,33.6322304 22.1544128,33.2922454 23.0755208,33.2922454 C24.0255642,33.2922454 24.8092176,33.7093901 25.4265046,34.5436921 L25.4265046,33.4658565 L27.3289931,33.4658565 L27.3289931,40.3596644 C27.3289931,41.2663047 27.2542446,41.9438635 27.1047454,42.3923611 C26.9552462,42.8408587 26.7454682,43.1929 26.4754051,43.4484954 C26.205342,43.7040908 25.8448614,43.9042238 25.3939526,44.0489005 C24.9430437,44.1935771 24.3727851,44.2659144 23.6831597,44.2659144 C22.3810699,44.2659144 21.4575645,44.0428745 20.9126157,43.5967882 C20.367667,43.1507019 20.0951968,42.5852658 20.0951968,41.900463 C20.0951968,41.8329472 20.097608,41.750965 20.1024306,41.6545139 Z M21.9181134,37.1478588 C21.9181134,37.9628706 22.0760497,38.5596528 22.3919271,38.9382234 C22.7078044,39.3167939 23.0972199,39.5060764 23.5601852,39.5060764 C24.0569084,39.5060764 24.4764643,39.3119715 24.8188657,38.9237558 C25.1612671,38.5355401 25.3324653,37.9604591 25.3324653,37.1984954 C25.3324653,36.4027738 25.1685009,35.8120197 24.8405671,35.4262153 C24.5126334,35.0404109 24.0978999,34.8475116 23.5963542,34.8475116 C23.1092761,34.8475116 22.7078044,35.036794 22.3919271,35.4153646 C22.0760497,35.7939351 21.9181134,36.3714274 21.9181134,37.1478588 Z M29.4881366,41.1481481 L29.4881366,30.5434028 L31.5208333,30.5434028 L31.5208333,41.1481481 L29.4881366,41.1481481 Z M35.271412,35.8096065 L33.426794,35.4768519 C33.6341639,34.7341784 33.9910276,34.1844154 34.4973958,33.8275463 C35.0037641,33.4706772 35.7560714,33.2922454 36.7543403,33.2922454 C37.6609806,33.2922454 38.3361282,33.3995456 38.7798032,33.6141493 C39.2234783,33.828753 39.5357341,34.1012233 39.7165799,34.4315683 C39.8974257,34.7619133 39.9878472,35.3683405 39.9878472,36.2508681 L39.9661458,38.6235532 C39.9661458,39.2987109 39.9986976,39.7966323 40.0638021,40.1173322 C40.1289066,40.4380321 40.2506743,40.781634 40.4291088,41.1481481 L38.4181134,41.1481481 C38.3650653,41.0131166 38.2999618,40.8129836 38.2228009,40.5477431 C38.189043,40.4271792 38.1649306,40.3476082 38.150463,40.3090278 C37.803239,40.6466066 37.4319079,40.899787 37.0364583,41.0685764 C36.6410088,41.2373658 36.2190416,41.3217593 35.770544,41.3217593 C34.979645,41.3217593 34.3563391,41.1071588 33.9006076,40.6779514 C33.4448762,40.248744 33.2170139,39.7062147 33.2170139,39.0503472 C33.2170139,38.6163173 33.3206973,38.229313 33.5280671,37.8893229 C33.735437,37.5493328 34.0259916,37.2889187 34.3997396,37.1080729 C34.7734876,36.9272271 35.3124,36.7692908 36.0164931,36.6342593 C36.9665364,36.4558247 37.6248053,36.2894491 37.9913195,36.1351273 L37.9913195,35.932581 C37.9913195,35.5419541 37.8948698,35.2634557 37.7019676,35.0970775 C37.5090654,34.9306994 37.144968,34.8475116 36.6096644,34.8475116 C36.2479727,34.8475116 35.9658575,34.9186432 35.7633102,35.0609086 C35.5607629,35.2031739 35.3967985,35.4527374 35.271412,35.8096065 Z M37.9913195,37.458912 C37.7309015,37.545718 37.3185792,37.6494014 36.7543403,37.7699653 C36.1901014,37.8905292 35.8211814,38.00868 35.6475695,38.1244213 C35.3823289,38.3125009 35.2497107,38.5512138 35.2497107,38.8405671 C35.2497107,39.1250979 35.3558053,39.3710445 35.5679977,39.5784144 C35.7801901,39.7857842 36.0502491,39.8894676 36.3781829,39.8894676 C36.7446971,39.8894676 37.094327,39.7689055 37.4270833,39.5277778 C37.6730336,39.3445207 37.8345868,39.1202752 37.9117477,38.8550347 C37.9647958,38.6814227 37.9913195,38.3510827 37.9913195,37.8640046 L37.9913195,37.458912 Z M49.1276042,41.1481481 L47.0949074,41.1481481 L47.0949074,37.2274306 C47.0949074,36.3979511 47.0515051,35.8614499 46.9646991,35.6179109 C46.8778931,35.3743719 46.7368355,35.1850894 46.541522,35.0500579 C46.3462085,34.9150263 46.1111125,34.8475116 45.8362269,34.8475116 C45.4841803,34.8475116 45.1683077,34.9439612 44.8885995,35.1368634 C44.6088914,35.3297656 44.4171977,35.5853572 44.3135127,35.9036458 C44.2098278,36.2219345 44.1579861,36.8102773 44.1579861,37.6686921 L44.1579861,41.1481481 L42.1252894,41.1481481 L42.1252894,33.4658565 L44.0133102,33.4658565 L44.0133102,34.5943287 C44.6836453,33.7262688 45.5275798,33.2922454 46.5451389,33.2922454 C46.9936365,33.2922454 47.4035475,33.373022 47.7748843,33.5345775 C48.146221,33.6961331 48.4271306,33.9022943 48.6176215,34.1530671 C48.8081125,34.40384 48.9407307,34.6883665 49.0154803,35.0066551 C49.0902299,35.3249437 49.1276042,35.7806683 49.1276042,36.3738426 L49.1276042,41.1481481 Z M58.3831019,41.1481481 L56.495081,41.1481481 L56.495081,40.0196759 C56.181615,40.4585284 55.8114894,40.7852516 55.3846933,40.9998553 C54.9578972,41.214459 54.5274906,41.3217593 54.0934607,41.3217593 C53.2109331,41.3217593 52.4550089,40.9661012 51.8256655,40.2547743 C51.1963221,39.5434474 50.8816551,38.5512216 50.8816551,37.2780671 C50.8816551,35.9759773 51.1878828,34.9861627 51.8003472,34.3085938 C52.4128117,33.6310248 53.1868202,33.2922454 54.1223958,33.2922454 C54.9808106,33.2922454 55.723473,33.6491091 56.3504051,34.3628472 L56.3504051,30.5434028 L58.3831019,30.5434028 L58.3831019,41.1481481 Z M52.9577546,37.140625 C52.9577546,37.9604593 53.071083,38.5536247 53.2977431,38.9201389 C53.6256768,39.4506199 54.0838127,39.7158565 54.6721644,39.7158565 C55.1399522,39.7158565 55.537807,39.5169291 55.8657408,39.1190683 C56.1936745,38.7212075 56.3576389,38.1268365 56.3576389,37.3359375 C56.3576389,36.4534099 56.198497,35.8180479 55.8802083,35.4298322 C55.5619197,35.0416165 55.1544199,34.8475116 54.6576968,34.8475116 C54.1754413,34.8475116 53.7715584,35.0392053 53.4460359,35.4225984 C53.1205134,35.8059915 52.9577546,36.3786613 52.9577546,37.140625 Z",id:"England",fill:"#242020"})))))},pb=vr.a.bind(lb.a),fb=function(){return r.a.createElement("footer",{className:pb("footer")},r.a.createElement(rb,{withPadding:!0},r.a.createElement("div",{className:pb("footer__content")},r.a.createElement("div",{className:pb("footer__logo-area")},r.a.createElement("div",{className:pb("footer__nhs-logo")},r.a.createElement(mb,null)),r.a.createElement("div",{className:pb("footer__genomics-logo")},r.a.createElement(db,null))),r.a.createElement("div",{className:pb("footer__content-area")},r.a.createElement($r,{element:"p"},r.a.createElement("a",{href:"".concat(d,"/").concat("privacy-policy"),rel:"noreferrer noopener",target:"_blank"},"Privacy Policy"),r.a.createElement($r,{element:"span",className:pb("footer__bullet")},"\u2022"),"Clinical content is \xa9 NHS England")))))},hb=a(277),bb=a.n(hb),vb="user-account/GET_USER_DATA",_b={user:{}},gb=Object(A.a)([function(e){return e.user}],function(e){return{familyName:e.familyName,givenName:e.givenName}}),yb=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_b,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case vb:var r=n.user;return Object(T.a)({},e,{user:r});default:return e}},Eb=a(278),Cb=a.n(Eb),Ob=vr.a.bind(Cb.a),jb=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(pr.a)(this,(e=Object(fr.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){a.props.getLoggedInUser()},a}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props.userDetails,t=e.familyName,a=e.givenName;return r.a.createElement("header",{className:Ob("header")},r.a.createElement(rb,{withPadding:!0},r.a.createElement("div",{className:Ob("header__content")},r.a.createElement("a",{href:d,"aria-label":"Genomic Medicine Service"},r.a.createElement(ub,null)),r.a.createElement("div",{className:Ob("header__right-area")},r.a.createElement($r,{element:"p",size:"6",className:Ob("header__user")},a," ",t),r.a.createElement("a",{href:"".concat(d,"/").concat("api/authentication/signout"),className:Ob("header__logout-button")},"Log out"),r.a.createElement("img",{className:Ob("header__nhs-logo"),src:"images/nhs-logo.png",alt:"NHS Logo"})))))}}]),t}(n.Component),Sb=Object(c.b)(function(e){var t=e.userAccount;return Object(T.a)({},t,{userDetails:gb(t)})},{getLoggedInUser:function(){return function(){var e=Object(k.a)(w.a.mark(function e(t){var a;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B({url:"".concat("/api/authentication","/user"),client:Bf}).then(function(e){return e.data}).catch(function(e){return Promise.reject(e)});case 3:a=e.sent,t({type:vb,payload:{user:a}}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Z("Error in getting user acount",{error:e.t0})("error");case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()}})(jb),wb=vr.a.bind(bb.a),kb=function(e){var t=e.children;return r.a.createElement("div",{className:wb("template")},r.a.createElement(Sb,null),r.a.createElement("main",{className:wb("template__body")},t),r.a.createElement(fb,null))},Tb=U(),Ib=function(){return B({url:"/api/codessearch/administrative_gender",client:Tb}).then(function(e){return e.data.hits}).catch(function(e){return Promise.reject(e)})},Nb=U(),xb=function(){return B({url:"/api/codessearch/ethnicity",client:Nb}).then(function(e){return e.data.hits}).catch(function(e){return Promise.reject(e)})},Lb=U(),Pb=function(){return B({url:"/api/codessearch/life_status",client:Lb}).then(function(e){return e.data.hits}).catch(function(e){return Promise.reject(e)})},Ab=U(),Rb=function(){return B({url:"/api/codessearch/relationship_type",client:Ab}).then(function(e){return e.data.hits}).catch(function(e){return Promise.reject(e)})},Db=U(),qb="/".concat("api/codessearch","/tumour_type"),Mb=function(){return B({url:qb,client:Db}).then(function(e){return e.data.hits}).catch(function(e){return Promise.reject(e)})},Fb=function(){var e=Object(k.a)(w.a.mark(function e(){var t,a,n,r,i,s,c;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Pb(),xb(),Ib(),Rb(),Mb()]);case 2:return t=e.sent,a=Object(R.a)(t,5),n=a[0],r=a[1],i=a[2],s=a[3],c=a[4],e.abrupt("return",{lifeStatus:n,ethnicity:r,administrativeGender:i,relationshipTypes:s,tumourTypes:c});case 10:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Ub=U(),Bb=function(){return B({url:"".concat("/api/config"),client:Ub}).then(function(e){return e.data}).catch(function(e){return Promise.reject(e)})},Vb=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(pr.a)(this,(e=Object(fr.a)(t)).call.apply(e,[this].concat(r)))).state={config:null,codes:null,isLoading:!0},a}return Object(hr.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=Object(k.a)(w.a.mark(function e(){var t,a;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fb();case 2:return t=e.sent,e.next=5,Bb();case 5:a=e.sent,this.setState({codes:t,config:Object(T.a)({},a,{nhsNumberIdentifierType:"b1b2b198-e294-4321-9ba7-605c7b8becdd"}),isLoading:!1});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.children,t=this.state,a=t.config,n=t.codes;return t.isLoading?"loading":r.a.createElement(Er.Provider,{value:{config:a,codes:n}},e)}}]),t}(n.Component),Gb=a(279),Qb=a.n(Gb),zb=vr.a.bind(Qb.a),Hb=function(e){var t=e.children;return r.a.createElement("div",{className:zb("page")},t)},Jb=function(e){return e.slice(1).split("&").map(function(e){return e.split("=")}).reduce(function(e,t){var a=t.map(decodeURIComponent),n=Object(R.a)(a,2),r=n[0],i=n[1];if(e[r]){var s=Array.isArray(e[r]);return Object(T.a)({},e,Object(W.a)({},r,s?[].concat(Object(P.a)(e[r]),[i]):[e[r],i]))}return Object(T.a)({},e,Object(W.a)({},r,i))},{})},Zb=function(e){var t=e.params,a=e.redirectTo;return Va(Jb(t)),r.a.createElement(E.c,{noThrow:!0,to:"".concat(a)})},Wb=function(e){var t=e.location.search;return r.a.createElement(n.Fragment,null,t?r.a.createElement(Zb,{params:t,redirectTo:"".concat(d,"/").concat(m)}):r.a.createElement(E.c,{noThrow:!0,to:"".concat(d,"/").concat(m)}))},Yb=function(e){var t=e.block,a=t.header,i=t.content,s=e.headerClassName,c=e.contentClassName;return r.a.createElement(n.Fragment,null,a&&r.a.createElement($r,{element:"h2",size:"4",className:s},a),r.a.createElement($r,{element:"div",className:c,dangerouslySetInnerHTML:{__html:i}}))},Kb=a(280),Xb=a.n(Kb),$b=vr.a.bind(Xb.a),ev=function(e){var t=e.blocks;return r.a.createElement(n.Fragment,null,r.a.createElement($r,{element:"h1",size:"1",className:$b("static-content__header")},"Privacy Policy"),t.map(function(e){return r.a.createElement(Yb,{key:e.id,block:e,headerClassName:$b("static-content__sub-header"),contentClassName:$b("static-content__content")})}))},tv=a(281),av=function(){return r.a.createElement("p",null,"Sorry, nothing here.")},nv=function(){return r.a.createElement(Vb,null,r.a.createElement(kb,null,r.a.createElement(E.b,{history:C.getHistoryObject()},r.a.createElement(E.d,{basepath:d,primary:!1},r.a.createElement(Wb,{path:"/"}),r.a.createElement(Hb,{path:"".concat(m)},r.a.createElement(bo,{path:"/*"})),r.a.createElement(Hb,{path:"/:patientId/".concat(f)},r.a.createElement(_c,{path:"/"})),r.a.createElement(Hb,{path:p},r.a.createElement(Po,{path:"/"})),r.a.createElement(Hb,{path:"privacy-policy"},r.a.createElement(ev,{blocks:tv,path:"/"})),r.a.createElement(cb,{path:"".concat(b,"/:urlReferralId/*")}),r.a.createElement(av,{default:!0})),r.a.createElement(E.d,{primary:!1},r.a.createElement(E.c,{from:"/",noThrow:!0,to:d})))))},rv=a(44),iv=a(282),sv=Object(rv.c)({clinicalQuestionnaire:Hl,downloads:kd,newPatient:Co,orderingEntity:um,panelAssigner:pp,patientDetails:mr,patientSearch:kc,referral:zn,sampleDetails:Fa,priority:Mo,tumour:Ca,navigation:je,stages:Ve,testList:vn,userAccount:yb}),cv=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||rv.d,ov=Object(rv.e)(function(e,t){return t.type===_n.RESET_STORE&&(e=void 0),sv(e,t)},cv(Object(rv.a)(iv.a)));a(457);j.initiate(x),s.a.render(r.a.createElement(c.a,{store:ov},r.a.createElement(nv,null)),document.getElementById("root"))},82:function(e,t,a){e.exports={"test-list-item":"styles_test-list-item__118a9","test-list-item__split-section":"styles_test-list-item__split-section__1UGTA","test-list-item__section-row":"styles_test-list-item__section-row__1M0pM","test-list-item__details":"styles_test-list-item__details__t1E9n","test-list-item__target":"styles_test-list-item__target__20gDB","test-list-item__description":"styles_test-list-item__description__RJ74O","test-list-item__dropdown":"styles_test-list-item__dropdown__3ftDr","test-list-item__selected-title":"styles_test-list-item__selected-title__24BOJ","test-list-item__selected-family-members":"styles_test-list-item__selected-family-members__1jLEG","test-list-item__info-message":"styles_test-list-item__info-message__1DHwB","test-list-item_info-message-text":"styles_test-list-item_info-message-text__3O7Yy","test-list-item__member-options":"styles_test-list-item__member-options__OqLsj","test-list-item__capitalize":"styles_test-list-item__capitalize__1ugL0","test-list-item__checkbox":"styles_test-list-item__checkbox__1WIGJ"}},84:function(e,t,a){e.exports={"add-sample":"styles_add-sample__2C8vC","add-sample__notice":"styles_add-sample__notice__4T8jc","add-sample__inline-link":"styles_add-sample__inline-link__2Didx","add-sample__select-error":"styles_add-sample__select-error__Lhbyo","add-sample__input":"styles_add-sample__input__15d-w","add-sample__input--text":"styles_add-sample__input--text__2O1P7","add-sample__confirm-label":"styles_add-sample__confirm-label__15tCp","add-sample__confirm-table":"styles_add-sample__confirm-table__w6EcC","add-sample__submit":"styles_add-sample__submit__PTUB8"}}},[[284,1,2]]]);
//# sourceMappingURL=main.6737345f.chunk.js.map